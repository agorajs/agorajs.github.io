(this.webpackJsonpagora=this.webpackJsonpagora||[]).push([[6],{541:function(t,e,i){var r=i(622),n=i(781);function s(t){this.model=null,this.matrix=null,this.width=0,this.height=0,this.costRowIndex=0,this.rhsColumn=0,this.variablesPerIndex=[],this.unrestrictedVars=null,this.feasible=!0,this.evaluation=0,this.varIndexByRow=null,this.varIndexByCol=null,this.rowByVarIndex=null,this.colByVarIndex=null,this.precision=t||1e-8,this.optionalObjectives=[],this.objectivesByPriority={},this.savedState=null,this.availableIndexes=[],this.lastElementIndex=0,this.variables=null,this.nVars=0,this.bounded=!0,this.unboundedVarIndex=null,this.branchAndCutIterations=0}function a(t,e){this.priority=t,this.reducedCosts=new Array(e);for(var i=0;i<e;i+=1)this.reducedCosts[i]=0}t.exports=s,s.prototype.solve=function(){return this.model.getNumberOfIntegerVariables()>0?this.branchAndCut():this.simplex(),this.updateVariableValues(),this.getSolution()},a.prototype.copy=function(){var t=new a(this.priority,this.reducedCosts.length);return t.reducedCosts=this.reducedCosts.slice(),t},s.prototype.setOptionalObjective=function(t,e,i){var r=this.objectivesByPriority[t];void 0===r&&(r=new a(t,Math.max(this.width,e+1)),this.objectivesByPriority[t]=r,this.optionalObjectives.push(r),this.optionalObjectives.sort((function(t,e){return t.priority-e.priority})));r.reducedCosts[e]=i},s.prototype.initialize=function(t,e,i,r){this.variables=i,this.unrestrictedVars=r,this.width=t,this.height=e;for(var n=new Array(t),s=0;s<t;s++)n[s]=0;this.matrix=new Array(e);for(var a=0;a<e;a++)this.matrix[a]=n.slice();this.varIndexByRow=new Array(this.height),this.varIndexByCol=new Array(this.width),this.varIndexByRow[0]=-1,this.varIndexByCol[0]=-1,this.nVars=t+e-2,this.rowByVarIndex=new Array(this.nVars),this.colByVarIndex=new Array(this.nVars),this.lastElementIndex=this.nVars},s.prototype._resetMatrix=function(){var t,e,i=this.model.variables,r=this.model.constraints,n=i.length,s=r.length,a=this.matrix[0],o=!0===this.model.isMinimization?-1:1;for(t=0;t<n;t+=1){var h=i[t],l=h.priority,u=o*h.cost;0===l?a[t+1]=u:this.setOptionalObjective(l,t+1,u),e=i[t].index,this.rowByVarIndex[e]=-1,this.colByVarIndex[e]=t+1,this.varIndexByCol[t+1]=e}for(var d=1,c=0;c<s;c+=1){var f,v,p=r[c],x=p.index;this.rowByVarIndex[x]=d,this.colByVarIndex[x]=-1,this.varIndexByRow[d]=x;var y=p.terms,m=y.length,b=this.matrix[d++];if(p.isUpperBound){for(f=0;f<m;f+=1)v=y[f],b[this.colByVarIndex[v.variable.index]]=v.coefficient;b[0]=p.rhs}else{for(f=0;f<m;f+=1)v=y[f],b[this.colByVarIndex[v.variable.index]]=-v.coefficient;b[0]=-p.rhs}}},s.prototype.setModel=function(t){this.model=t;var e=t.nVariables+1,i=t.nConstraints+1;return this.initialize(e,i,t.variables,t.unrestrictedVariables),this._resetMatrix(),this},s.prototype.getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var t=this.lastElementIndex;return this.lastElementIndex+=1,t},s.prototype.density=function(){for(var t=0,e=this.matrix,i=0;i<this.height;i++)for(var r=e[i],n=0;n<this.width;n++)0!==r[n]&&(t+=1);return t/(this.height*this.width)},s.prototype.setEvaluation=function(){var t=Math.round(1/this.precision),e=this.matrix[this.costRowIndex][this.rhsColumn];this.evaluation=Math.round(e*t)/t},s.prototype.getSolution=function(){var t=!0===this.model.isMinimization?this.evaluation:-this.evaluation;return this.model.getNumberOfIntegerVariables()>0?new n(this,t,this.feasible,this.bounded,this.branchAndCutIterations):new r(this,t,this.feasible,this.bounded)}},564:function(t,e,i){"use strict";function r(t,e){return{x:n(t,e),y:s(t,e)}}function n(t,e){return e.x-t.x}function s(t,e){return e.y-t.y}Object.defineProperty(e,"__esModule",{value:!0}),e.delta=r,e.\u0394=r,e.deltaX=n,e.\u0394x=n,e.deltaY=s,e.\u0394y=s,e.normX=function(t,e){return Math.abs(n(t,e))},e.normY=function(t,e){return Math.abs(s(t,e))},e.norm=function(t,e){return Math.hypot(n(t,e),s(t,e))}},587:function(t,e,i){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(3));function s(t){return t instanceof Array?n.default.minBy(t,(function(t){return s(t)})):t.x-t.width/2}function a(t){return t instanceof Array?n.default.maxBy(t,(function(t){return a(t)})):t.x+t.width/2}function o(t){return t instanceof Array?n.default.minBy(t,(function(t){return o(t)})):t.y-t.height/2}function h(t){return t instanceof Array?n.default.maxBy(t,(function(t){return h(t)})):t.y+t.height/2}function l(t,e,i){return t.height=i-e,t}function u(t,e,i){return t.width=i-e,t}function d(t,e){return l(t,e,h(t)),t.y=t.height/2+e,t}function c(t,e){var i=o(t);return l(t,i,e),t.y=t.height/2+i,t}function f(t,e){return u(t,e,a(t)),t.x=t.width/2+e,t}function v(t,e){var i=s(t);return u(t,i,e),t.x=t.width/2+i,t}e.diagonal=function(t){return Math.hypot(t.width,t.height)},e.minX=s,e.left=s,e.maxX=a,e.right=a,e.minY=o,e.top=o,e.maxY=h,e.bottom=h,e.setHeight=l,e.setWidth=u,e.setMinY=d,e.setTop=d,e.setMaxY=c,e.setBottom=c,e.setMinX=f,e.setLeft=f,e.setMaxX=v,e.setRight=v},588:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(564);function n(t){return Math.hypot(t.x,t.y)}e.vector=r.delta,e.magnitude=n,e.length=n,e.sum=function(t,e){return{x:t.x+e.x,y:t.y+e.y}},e.diff=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},e.mult=function(t,e){return t.x*=e,t.y*=e,t}},589:function(t,e){function i(t,e,i,r){this.id=t,this.cost=e,this.index=i,this.value=0,this.priority=r}function r(t,e,r,n){i.call(this,t,e,r,n)}function n(t,e){i.call(this,t,0,e,0)}function s(t,e){this.variable=t,this.coefficient=e}function a(t,e,i){return 0===i||"required"===i?null:(e=e||1,i=i||1,!1===t.isMinimization&&(e=-e),t.addVariable(e,"r"+t.relaxationIndex++,!1,!1,i))}function o(t,e,i,r){this.slack=new n("s"+i,i),this.index=i,this.model=r,this.rhs=t,this.isUpperBound=e,this.terms=[],this.termsByVarIndex={},this.relaxation=null}function h(t,e){this.upperBound=t,this.lowerBound=e,this.model=t.model,this.rhs=t.rhs,this.relaxation=null}r.prototype.isInteger=!0,n.prototype.isSlack=!0,o.prototype.addTerm=function(t,e){var i=e.index,r=this.termsByVarIndex[i];if(void 0===r)r=new s(e,t),this.termsByVarIndex[i]=r,this.terms.push(r),!0===this.isUpperBound&&(t=-t),this.model.updateConstraintCoefficient(this,e,t);else{var n=r.coefficient+t;this.setVariableCoefficient(n,e)}return this},o.prototype.removeTerm=function(t){return this},o.prototype.setRightHandSide=function(t){if(t!==this.rhs){var e=t-this.rhs;!0===this.isUpperBound&&(e=-e),this.rhs=t,this.model.updateRightHandSide(this,e)}return this},o.prototype.setVariableCoefficient=function(t,e){var i=e.index;if(-1!==i){var r=this.termsByVarIndex[i];if(void 0===r)this.addTerm(t,e);else if(t!==r.coefficient){var n=t-r.coefficient;!0===this.isUpperBound&&(n=-n),r.coefficient=t,this.model.updateConstraintCoefficient(this,e,n)}return this}console.warn("[Constraint.setVariableCoefficient] Trying to change coefficient of inexistant variable.")},o.prototype.relax=function(t,e){this.relaxation=a(this.model,t,e),this._relax(this.relaxation)},o.prototype._relax=function(t){null!==t&&(this.isUpperBound?this.setVariableCoefficient(-1,t):this.setVariableCoefficient(1,t))},h.prototype.isEquality=!0,h.prototype.addTerm=function(t,e){return this.upperBound.addTerm(t,e),this.lowerBound.addTerm(t,e),this},h.prototype.removeTerm=function(t){return this.upperBound.removeTerm(t),this.lowerBound.removeTerm(t),this},h.prototype.setRightHandSide=function(t){this.upperBound.setRightHandSide(t),this.lowerBound.setRightHandSide(t),this.rhs=t},h.prototype.relax=function(t,e){this.relaxation=a(this.model,t,e),this.upperBound.relaxation=this.relaxation,this.upperBound._relax(this.relaxation),this.lowerBound.relaxation=this.relaxation,this.lowerBound._relax(this.relaxation)},t.exports={Constraint:o,Variable:i,IntegerVariable:r,SlackVariable:n,Equality:h,Term:s}},621:function(t,e,i){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(3)),s=i(587),a=i(564);function o(t,e,i){return void 0===i&&(i=0),h(t,e,i)&&l(t,e,i)}function h(t,e,i){return void 0===i&&(i=0),a.normX(t,e)<(t.width+e.width)/2+ +i}function l(t,e,i){return void 0===i&&(i=0),a.normY(t,e)<(t.height+e.height)/2+ +i}e.overlap=o,e.overlapX=h,e.overlapY=l,e.hasOverlap=function(t,e){void 0===e&&(e=0);var i=!1,r=n.default.sortBy(t,(function(t){return s.left(t)}));return n.default.forEach(r,(function(n,a){for(var h=a+1;h<t.length;h++){var l=r[h];if(o(n,l,e))return i=!0,!1;if(s.left(l)>s.right(n)+e)break}})),i},e.edgeOverlap=function(t,e,i){void 0===i&&(i=0);var r=!1;return n.default.forEach(e,(function(e){if(o(t[e.source],t[e.target],i))return r=!0,!1})),r},e.getAllOverlaps=function(t,e){void 0===e&&(e=0);var i=n.default.sortBy(t,(function(t){return s.left(t)})),r=[];return n.default.forEach(i,(function(n,a){for(var h=a+1;h<t.length;h++){var l=i[h];if(o(n,l,e))r.push([n,l]);else if(s.left(l)>s.right(n)+e)break}})),r}},622:function(t,e){function i(t,e,i,r){this.feasible=i,this.evaluation=e,this.bounded=r,this._tableau=t}t.exports=i,i.prototype.generateSolutionSet=function(){for(var t={},e=this._tableau,i=e.varIndexByRow,r=e.variablesPerIndex,n=e.matrix,s=e.rhsColumn,a=e.height-1,o=Math.round(1/e.precision),h=1;h<=a;h+=1){var l=r[i[h]];if(void 0!==l&&!0!==l.isSlack){var u=n[h][s];t[l.id]=Math.round(u*o)/o}}return t}},623:function(t,e,i){var r=i(541);function n(t,e,i){this.type=t,this.varIndex=e,this.value=i}function s(t,e){this.relaxedEvaluation=t,this.cuts=e}function a(t,e){return e.relaxedEvaluation-t.relaxedEvaluation}r.prototype.applyCuts=function(t){if(this.restore(),this.addCutConstraints(t),this.simplex(),this.model.useMIRCuts)for(var e=!0;e;){var i=this.computeFractionalVolume(!0);this.applyMIRCuts(),this.simplex(),this.computeFractionalVolume(!0)>=.9*i&&(e=!1)}},r.prototype.branchAndCut=function(){for(var t=[],e=0,i=1/0,r=null,o=[],h=0;h<this.optionalObjectives.length;h+=1)o.push(1/0);var l=new s(-1/0,[]);for(t.push(l);t.length>0;)if(!((l=t.pop()).relaxedEvaluation>i)){var u=l.cuts;if(this.applyCuts(u),e++,!1!==this.feasible){var d=this.evaluation;if(!(d>i)){if(d===i){for(var c=!0,f=0;f<this.optionalObjectives.length&&!(this.optionalObjectives[f].reducedCosts[0]>o[f]);f+=1)if(this.optionalObjectives[f].reducedCosts[0]<o[f]){c=!1;break}if(c)continue}if(!0===this.isIntegral()){if(1===e)return void(this.branchAndCutIterations=e);r=l,i=d;for(var v=0;v<this.optionalObjectives.length;v+=1)o[v]=this.optionalObjectives[v].reducedCosts[0]}else{1===e&&this.save();for(var p=this.getMostFractionalVar(),x=p.index,y=[],m=[],b=u.length,g=0;g<b;g+=1){var I=u[g];I.varIndex===x?"min"===I.type?m.push(I):y.push(I):(y.push(I),m.push(I))}var w=Math.ceil(p.value),B=Math.floor(p.value),C=new n("min",x,w);y.push(C);var V=new n("max",x,B);m.push(V),t.push(new s(d,y)),t.push(new s(d,m)),t.sort(a)}}}}null!==r&&this.applyCuts(r.cuts),this.branchAndCutIterations=e}},770:function(t,e,i){"use strict";function r(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),r(i(771)),r(i(587)),r(i(772)),r(i(773)),r(i(774)),r(i(775)),r(i(776)),r(i(621)),r(i(564)),r(i(777)),r(i(588))},771:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFunction=function(t){return t}},772:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(588),n=-14;function s(t,e){void 0===e&&(e=0);var i=Math.pow(10,-e);return Math.round(t*i)/i}e.toCartesian=function(t,e){return void 0===e&&(e=n),{x:s(t.length*Math.cos(t.theta),e),y:s(t.length*Math.sin(t.theta),e)}},e.toPolar=function(t,e){void 0===e&&(e=n);var i=Math.atan2(t.y,t.x);return i<0&&(i+=2*Math.PI),{length:r.length(t),theta:i,angle:s(180*i/Math.PI,e)}},e.round=s},773:function(t,e,i){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(3)),s=i(587);e.crop=function(t){var e=s.left(s.left(t.nodes)),i=s.top(s.top(t.nodes));return n.default.forEach(t.nodes,(function(t){t.x-=e,t.y-=i})),t}},774:function(t,e,i){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(232)),s=r(i(3)),a=i(621);function o(t){var e=n.default.from(t,(function(t){return t.x}),(function(t){return t.y})),i=[],r=s.default.chunk(e.triangles,3),a=[];return s.default.forEach(r,(function(e){e.sort((function(t,e){return+t-+e}));var r=+e[0],n=+e[1],s=+e[2];h(i,r,n)&&a.push({source:t[r].index,target:t[n].index}),h(i,n,s)&&a.push({source:t[n].index,target:t[s].index}),h(i,r,s)&&a.push({source:t[r].index,target:t[s].index})})),s.default.sortBy(a,["source","target"])}function h(t,e,i){return(void 0===t[e]||!0!==t[e][i])&&(t[e]||(t[e]=[]),t[e][i]=!0,!0)}e.default=o,e.delaunay=o,e.augmented=function(t,e){return function(t,e){var i=t.length<=e.length?[t,e]:[e,t],r=i[0],n=i[1],a=[];return s.default.forEach(r,(function(t){var e=!0;s.default.forEach(n,(function(i){return t.source===i.source&&t.target===i.target?(e=!1,!1):t.source===i.source&&t.target<i.target||t.source<i.source?(a.push(t),e=!1,!1):void 0})),e&&a.push(t)})),s.default.concat(a,n)}(o(t),function(t,e){return s.default(a.getAllOverlaps(t,e)).map((function(t){return t.sort((function(t,e){return t.index-e.index})),{source:t[0].index,target:t[1].index}})).sortBy(["source","target"]).value()}(t,e))}},775:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(564),n=i(588);e.optimalVector=function(t,e,i){void 0===i&&(i=0);var s=+(t.width+e.width)/2+ +i,a=+(t.height+e.height)/2+ +i,o=r.\u0394(t,e);if(0===o.x&&0===o.y)return{x:0,y:0};var h=s/o.x,l=a/o.y,u=Math.min(Math.abs(h),Math.abs(l));return n.mult(o,u)},e.minimalVector=function(t,e,i){void 0===i&&(i=0);var n=r.\u0394x(t,e),s=r.\u0394y(t,e);return n<=s?{x:n+2*i,y:0}:{x:0,y:s+2*i}}},776:function(t,e,i){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(3));e.nodeMap=function(t){var e={};return n.default.forEach(t,(function(t){e[t.index]=t})),e}},777:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createScale=function(t,e){var i=function t(e){return t.ratio*e};return i.ratio=Math.min(e.width/t.width,e.height/t.height),i}},778:function(t,e,i){var r=i(779),n=i(788),s=i(623),a=i(589),o=i(789),h=a.Constraint,l=a.Variable,u=a.Numeral,d=a.Term,c=function(){"use strict";this.Model=n,this.branchAndCut=s,this.Constraint=h,this.Variable=l,this.Numeral=u,this.Term=d,this.Tableau=r,this.lastSolvedModel=null,this.Solve=function(t,e,i,r){if(r)for(var s in o)t=o[s](t);if(!t)throw new Error("Solver requires a model to operate on");t instanceof n===!1&&(t=new n(e).loadJson(t));var a=t.solve();if(this.lastSolvedModel=t,a.solutionSet=a.generateSolutionSet(),i)return a;var h={};return h.feasible=a.feasible,h.result=a.evaluation,h.bounded=a.bounded,Object.keys(a.solutionSet).map((function(t){h[t]=a.solutionSet[t]})),h},this.ReformatLP=i(790),this.MultiObjective=function(t){return i(791)(this,t)}},f=f||void 0,v=v||void 0;"function"===typeof f?f([],(function(){return new c})):"object"===typeof v&&(v.solver=new c),t.exports=new c},779:function(t,e,i){i(780),i(782),i(783),i(784),i(785),i(786),i(787),t.exports=i(541)},780:function(t,e,i){var r=i(541);r.prototype.simplex=function(){return this.bounded=!0,this.phase1(),!0===this.feasible&&this.phase2(),this},r.prototype.phase1=function(){for(var t=this.model.checkForCycles,e=[],i=this.matrix,r=this.rhsColumn,n=this.width-1,s=this.height-1,a=0;;){for(var o=0,h=-this.precision,l=1;l<=s;l++)if(!(!0===this.unrestrictedVars[this.varIndexByRow[l]])){var u=i[l][r];u<h&&(h=u,o=l)}if(0===o)return this.feasible=!0,a;for(var d=0,c=-1/0,f=i[0],v=i[o],p=1;p<=n;p++){var x=v[p];if(!(-this.precision<x&&x<this.precision)&&(!0===this.unrestrictedVars[this.varIndexByCol[p]]||x<-this.precision)){var y=-f[p]/x;c<y&&(c=y,d=p)}}if(0===d)return this.feasible=!1,a;if(t){e.push([this.varIndexByRow[o],this.varIndexByCol[d]]);var m=this.checkForCycles(e);if(m.length>0)throw console.log("Cycle in phase 1"),console.log("Start :",m[0]),console.log("Length :",m[1]),new Error}this.pivot(o,d),a+=1}},r.prototype.phase2=function(){for(var t,e,i=this.model.checkForCycles,r=[],n=this.matrix,s=this.rhsColumn,a=this.width-1,o=this.height-1,h=this.precision,l=this.optionalObjectives.length,u=null,d=0;;){var c=n[this.costRowIndex];l>0&&(u=[]);for(var f=0,v=h,p=!1,x=1;x<=a;x++)t=c[x],e=!0===this.unrestrictedVars[this.varIndexByCol[x]],l>0&&-h<t&&t<h?u.push(x):e&&t<0?-t>v&&(v=-t,f=x,p=!0):t>v&&(v=t,f=x,p=!1);if(l>0)for(var y=0;0===f&&u.length>0&&y<l;){var m=[],b=this.optionalObjectives[y].reducedCosts;v=h;for(var g=0;g<u.length;g++)t=b[x=u[g]],e=!0===this.unrestrictedVars[this.varIndexByCol[x]],-h<t&&t<h?m.push(x):e&&t<0?-t>v&&(v=-t,f=x,p=!0):t>v&&(v=t,f=x,p=!1);u=m,y+=1}if(0===f)return this.setEvaluation(),d;for(var I=0,w=1/0,B=(this.varIndexByRow,1);B<=o;B++){var C=n[B],V=C[s],_=C[f];if(!(-h<_&&_<h)){if(_>0&&h>V&&V>-h){w=0,I=B;break}var M=p?-V/_:V/_;M>h&&w>M&&(w=M,I=B)}}if(w===1/0)return this.evaluation=-1/0,this.bounded=!1,this.unboundedVarIndex=this.varIndexByCol[f],d;if(i){r.push([this.varIndexByRow[I],this.varIndexByCol[f]]);var O=this.checkForCycles(r);if(O.length>0)throw console.log("Cycle in phase 2"),console.log("Start :",O[0]),console.log("Length :",O[1]),new Error}this.pivot(I,f,!0),d+=1}};var n=[];r.prototype.pivot=function(t,e){var i=this.matrix,r=i[t][e],s=this.height-1,a=this.width-1,o=this.varIndexByRow[t],h=this.varIndexByCol[e];this.varIndexByRow[t]=h,this.varIndexByCol[e]=o,this.rowByVarIndex[h]=t,this.rowByVarIndex[o]=-1,this.colByVarIndex[h]=-1,this.colByVarIndex[o]=e;for(var l,u,d,c=i[t],f=0,v=0;v<=a;v++)0!==c[v]&&(c[v]/=r,n[f]=v,f+=1);c[e]=1/r;this.precision;for(var p=0;p<=s;p++){var x=i[p];if(p!==t&&0!==(l=x[e])){for(u=0;u<f;u++)0!==(d=c[v=n[u]])&&(x[v]=x[v]-l*d);x[e]=-l/r}}var y=this.optionalObjectives.length;if(y>0)for(var m=0;m<y;m+=1){var b=this.optionalObjectives[m].reducedCosts;if(0!==(l=b[e])){for(u=0;u<f;u++)0!==(d=c[v=n[u]])&&(b[v]=b[v]-l*d);b[e]=-l/r}}},r.prototype.checkForCycles=function(t){for(var e=0;e<t.length-1;e++)for(var i=e+1;i<t.length;i++){var r=t[e],n=t[i];if(r[0]===n[0]&&r[1]===n[1]){if(i-e>t.length-i)break;for(var s=!0,a=1;a<i-e;a++){var o=t[e+a],h=t[i+a];if(o[0]!==h[0]||o[1]!==h[1]){s=!1;break}}if(s)return[e,i-e]}}return[]}},781:function(t,e,i){var r=i(622);function n(t,e,i,n,s){r.call(this,t,e,i,n),this.iter=s}t.exports=n,n.prototype=Object.create(r.prototype),n.constructor=n},782:function(t,e,i){var r=i(541),n=i(589).SlackVariable;r.prototype.addCutConstraints=function(t){for(var e,i=t.length,r=this.height,s=r+i,a=r;a<s;a+=1)void 0===this.matrix[a]&&(this.matrix[a]=this.matrix[a-1].slice());this.height=s,this.nVars=this.width+this.height-2;for(var o=this.width-1,h=0;h<i;h+=1){var l=t[h],u=r+h,d="min"===l.type?-1:1,c=l.varIndex,f=this.rowByVarIndex[c],v=this.matrix[u];if(-1===f){for(v[this.rhsColumn]=d*l.value,e=1;e<=o;e+=1)v[e]=0;v[this.colByVarIndex[c]]=d}else{var p=this.matrix[f],x=p[this.rhsColumn];for(v[this.rhsColumn]=d*(l.value-x),e=1;e<=o;e+=1)v[e]=-d*p[e]}var y=this.getNewElementIndex();this.varIndexByRow[u]=y,this.rowByVarIndex[y]=u,this.colByVarIndex[y]=-1,this.variablesPerIndex[y]=new n("s"+y,y),this.nVars+=1}},r.prototype._addLowerBoundMIRCut=function(t){if(t===this.costRowIndex)return!1;this.model;var e=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[t]].isInteger)return!1;var i=e[t][this.rhsColumn],r=i-Math.floor(i);if(r<this.precision||1-this.precision<r)return!1;var s=this.height;e[s]=e[s-1].slice(),this.height+=1,this.nVars+=1;var a=this.getNewElementIndex();this.varIndexByRow[s]=a,this.rowByVarIndex[a]=s,this.colByVarIndex[a]=-1,this.variablesPerIndex[a]=new n("s"+a,a),e[s][this.rhsColumn]=Math.floor(i);for(var o=1;o<this.varIndexByCol.length;o+=1){if(this.variablesPerIndex[this.varIndexByCol[o]].isInteger){var h=e[t][o],l=Math.floor(h)+Math.max(0,h-Math.floor(h)-r)/(1-r);e[s][o]=l}else e[s][o]=Math.min(0,e[t][o]/(1-r))}for(var u=0;u<this.width;u+=1)e[s][u]-=e[t][u];return!0},r.prototype._addUpperBoundMIRCut=function(t){if(t===this.costRowIndex)return!1;this.model;var e=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[t]].isInteger)return!1;var i=e[t][this.rhsColumn],r=i-Math.floor(i);if(r<this.precision||1-this.precision<r)return!1;var s=this.height;e[s]=e[s-1].slice(),this.height+=1,this.nVars+=1;var a=this.getNewElementIndex();this.varIndexByRow[s]=a,this.rowByVarIndex[a]=s,this.colByVarIndex[a]=-1,this.variablesPerIndex[a]=new n("s"+a,a),e[s][this.rhsColumn]=-r;for(var o=1;o<this.varIndexByCol.length;o+=1){var h=this.variablesPerIndex[this.varIndexByCol[o]],l=e[t][o],u=l-Math.floor(l);h.isInteger?e[s][o]=u<=r?-u:-(1-u)*r/u:e[s][o]=l>=0?-l:l*r/(1-r)}return!0},r.prototype.applyMIRCuts=function(){}},783:function(t,e,i){var r=i(541);r.prototype._putInBase=function(t){var e=this.rowByVarIndex[t];if(-1===e){for(var i=this.colByVarIndex[t],r=1;r<this.height;r+=1){var n=this.matrix[r][i];if(n<-this.precision||this.precision<n){e=r;break}}this.pivot(e,i)}return e},r.prototype._takeOutOfBase=function(t){var e=this.colByVarIndex[t];if(-1===e){for(var i=this.rowByVarIndex[t],r=this.matrix[i],n=1;n<this.height;n+=1){var s=r[n];if(s<-this.precision||this.precision<s){e=n;break}}this.pivot(i,e)}return e},r.prototype.updateVariableValues=function(){for(var t=this.variables.length,e=Math.round(1/this.precision),i=0;i<t;i+=1){var r=this.variables[i],n=r.index,s=this.rowByVarIndex[n];if(-1===s)r.value=0;else{var a=this.matrix[s][this.rhsColumn];r.value=Math.round(a*e)/e}}},r.prototype.updateRightHandSide=function(t,e){var i=this.height-1,r=this.rowByVarIndex[t.index];if(-1===r){for(var n=this.colByVarIndex[t.index],s=0;s<=i;s+=1){var a=this.matrix[s];a[this.rhsColumn]-=e*a[n]}var o=this.optionalObjectives.length;if(o>0)for(var h=0;h<o;h+=1){var l=this.optionalObjectives[h].reducedCosts;l[this.rhsColumn]-=e*l[n]}}else this.matrix[r][this.rhsColumn]-=e},r.prototype.updateConstraintCoefficient=function(t,e,i){if(t.index===e.index)throw new Error("[Tableau.updateConstraintCoefficient] constraint index should not be equal to variable index !");var r=this._putInBase(t.index),n=this.colByVarIndex[e.index];if(-1===n)for(var s=this.rowByVarIndex[e.index],a=0;a<this.width;a+=1)this.matrix[r][a]+=i*this.matrix[s][a];else this.matrix[r][n]-=i},r.prototype.updateCost=function(t,e){var i=t.index,r=this.width-1,n=this.colByVarIndex[i];if(-1===n){var s,a=this.matrix[this.rowByVarIndex[i]];if(0===t.priority){var o=this.matrix[0];for(s=0;s<=r;s+=1)o[s]+=e*a[s]}else{var h=this.objectivesByPriority[t.priority].reducedCosts;for(s=0;s<=r;s+=1)h[s]+=e*a[s]}}else this.matrix[0][n]-=e},r.prototype.addConstraint=function(t){var e=t.isUpperBound?1:-1,i=this.height,r=this.matrix[i];void 0===r&&(r=this.matrix[0].slice(),this.matrix[i]=r);for(var n=this.width-1,s=0;s<=n;s+=1)r[s]=0;r[this.rhsColumn]=e*t.rhs;for(var a=t.terms,o=a.length,h=0;h<o;h+=1){var l=a[h],u=l.coefficient,d=l.variable.index,c=this.rowByVarIndex[d];if(-1===c)r[this.colByVarIndex[d]]+=e*u;else{var f=this.matrix[c];f[this.rhsColumn];for(s=0;s<=n;s+=1)r[s]-=e*u*f[s]}}var v=t.index;this.varIndexByRow[i]=v,this.rowByVarIndex[v]=i,this.colByVarIndex[v]=-1,this.height+=1},r.prototype.removeConstraint=function(t){var e=t.index,i=this.height-1,r=this._putInBase(e),n=this.matrix[i];this.matrix[i]=this.matrix[r],this.matrix[r]=n,this.varIndexByRow[r]=this.varIndexByRow[i],this.varIndexByRow[i]=-1,this.rowByVarIndex[e]=-1,this.availableIndexes[this.availableIndexes.length]=e,t.slack.index=-1,this.height-=1},r.prototype.addVariable=function(t){var e=this.height-1,i=this.width,r=!0===this.model.isMinimization?-t.cost:t.cost,n=t.priority,s=this.optionalObjectives.length;if(s>0)for(var a=0;a<s;a+=1)this.optionalObjectives[a].reducedCosts[i]=0;0===n?this.matrix[0][i]=r:(this.setOptionalObjective(n,i,r),this.matrix[0][i]=0);for(var o=1;o<=e;o+=1)this.matrix[o][i]=0;var h=t.index;this.varIndexByCol[i]=h,this.rowByVarIndex[h]=-1,this.colByVarIndex[h]=i,this.width+=1},r.prototype.removeVariable=function(t){var e=t.index,i=this._takeOutOfBase(e),r=this.width-1;if(i!==r){for(var n=this.height-1,s=0;s<=n;s+=1){var a=this.matrix[s];a[i]=a[r]}var o=this.optionalObjectives.length;if(o>0)for(var h=0;h<o;h+=1){var l=this.optionalObjectives[h].reducedCosts;l[i]=l[r]}var u=this.varIndexByCol[r];this.varIndexByCol[i]=u,this.colByVarIndex[u]=i}this.varIndexByCol[r]=-1,this.colByVarIndex[e]=-1,this.availableIndexes[this.availableIndexes.length]=e,t.index=-1,this.width-=1}},784:function(t,e,i){i(541).prototype.log=function(t,e){console.log("****",t,"****"),console.log("Nb Variables",this.width-1),console.log("Nb Constraints",this.height-1),console.log("Basic Indexes",this.varIndexByRow),console.log("Non Basic Indexes",this.varIndexByCol),console.log("Rows",this.rowByVarIndex),console.log("Cols",this.colByVarIndex);var i,r,n,s,a,o,h,l,u,d,c,f="",v=[" "];for(r=1;r<this.width;r+=1)a=this.varIndexByCol[r],h=(o=void 0===(s=this.variablesPerIndex[a])?"c"+a:s.id).length,Math.abs(h-5),l=" ",u="\t",h>5?l+=" ":u+="\t",v[r]=l,f+=u+o;console.log(f);var p=this.matrix[this.costRowIndex],x="\t";for(i=1;i<this.width;i+=1)x+="\t",x+=v[i],x+=p[i].toFixed(5);for(x+="\t"+v[0]+p[0].toFixed(5),console.log(x+"\tZ"),n=1;n<this.height;n+=1){for(d=this.matrix[n],c="\t",r=1;r<this.width;r+=1)c+="\t"+v[r]+d[r].toFixed(5);c+="\t"+v[0]+d[0].toFixed(5),a=this.varIndexByRow[n],o=void 0===(s=this.variablesPerIndex[a])?"c"+a:s.id,console.log(c+"\t"+o)}console.log("");var y=this.optionalObjectives.length;if(y>0){console.log("    Optional objectives:");for(var m=0;m<y;m+=1){var b=this.optionalObjectives[m].reducedCosts,g="";for(i=1;i<this.width;i+=1)g+=b[i]<0?"":" ",g+=v[i],g+=b[i].toFixed(5);g+=(b[0]<0?"":" ")+v[0]+b[0].toFixed(5),console.log(g+" z"+m)}}return console.log("Feasible?",this.feasible),console.log("evaluation",this.evaluation),this}},785:function(t,e,i){var r=i(541);r.prototype.copy=function(){var t=new r(this.precision);t.width=this.width,t.height=this.height,t.nVars=this.nVars,t.model=this.model,t.variables=this.variables,t.variablesPerIndex=this.variablesPerIndex,t.unrestrictedVars=this.unrestrictedVars,t.lastElementIndex=this.lastElementIndex,t.varIndexByRow=this.varIndexByRow.slice(),t.varIndexByCol=this.varIndexByCol.slice(),t.rowByVarIndex=this.rowByVarIndex.slice(),t.colByVarIndex=this.colByVarIndex.slice(),t.availableIndexes=this.availableIndexes.slice();for(var e=[],i=0;i<this.optionalObjectives.length;i++)e[i]=this.optionalObjectives[i].copy();t.optionalObjectives=e;for(var n=this.matrix,s=new Array(this.height),a=0;a<this.height;a++)s[a]=n[a].slice();return t.matrix=s,t},r.prototype.save=function(){this.savedState=this.copy()},r.prototype.restore=function(){if(null!==this.savedState){var t,e,i=this.savedState,r=i.matrix;for(this.nVars=i.nVars,this.model=i.model,this.variables=i.variables,this.variablesPerIndex=i.variablesPerIndex,this.unrestrictedVars=i.unrestrictedVars,this.lastElementIndex=i.lastElementIndex,this.width=i.width,this.height=i.height,t=0;t<this.height;t+=1){var n=r[t],s=this.matrix[t];for(e=0;e<this.width;e+=1)s[e]=n[e]}var a=i.varIndexByRow;for(e=0;e<this.height;e+=1)this.varIndexByRow[e]=a[e];for(;this.varIndexByRow.length>this.height;)this.varIndexByRow.pop();var o=i.varIndexByCol;for(t=0;t<this.width;t+=1)this.varIndexByCol[t]=o[t];for(;this.varIndexByCol.length>this.width;)this.varIndexByCol.pop();for(var h=i.rowByVarIndex,l=i.colByVarIndex,u=0;u<this.nVars;u+=1)this.rowByVarIndex[u]=h[u],this.colByVarIndex[u]=l[u];if(i.optionalObjectives.length>0&&this.optionalObjectives.length>0){this.optionalObjectives=[],this.optionalObjectivePerPriority={};for(var d=0;d<i.optionalObjectives.length;d++){var c=i.optionalObjectives[d].copy();this.optionalObjectives[d]=c,this.optionalObjectivePerPriority[c.priority]=c}}}}},786:function(t,e,i){var r=i(541);function n(t,e){this.index=t,this.value=e}r.prototype.getMostFractionalVar=function(){for(var t=0,e=null,i=null,r=this.model.integerVariables,s=r.length,a=0;a<s;a++){var o=r[a].index,h=this.rowByVarIndex[o];if(-1!==h){var l=this.matrix[h][this.rhsColumn],u=Math.abs(l-Math.round(l));t<u&&(t=u,e=o,i=l)}}return new n(e,i)},r.prototype.getFractionalVarWithLowestCost=function(){for(var t=1/0,e=null,i=null,r=this.model.integerVariables,s=r.length,a=0;a<s;a++){var o=r[a],h=o.index,l=this.rowByVarIndex[h];if(-1!==l){var u=this.matrix[l][this.rhsColumn];if(Math.abs(u-Math.round(u))>this.precision){var d=o.cost;t>d&&(t=d,e=h,i=u)}}}return new n(e,i)}},787:function(t,e,i){var r=i(541);r.prototype.countIntegerValues=function(){for(var t=0,e=1;e<this.height;e+=1)if(this.variablesPerIndex[this.varIndexByRow[e]].isInteger){var i=this.matrix[e][this.rhsColumn];(i-=Math.floor(i))<this.precision&&-i<this.precision&&(t+=1)}return t},r.prototype.isIntegral=function(){for(var t=this.model.integerVariables,e=t.length,i=0;i<e;i++){var r=this.rowByVarIndex[t[i].index];if(-1!==r){var n=this.matrix[r][this.rhsColumn];if(Math.abs(n-Math.round(n))>this.precision)return!1}}return!0},r.prototype.computeFractionalVolume=function(t){for(var e=-1,i=1;i<this.height;i+=1)if(this.variablesPerIndex[this.varIndexByRow[i]].isInteger){var r=this.matrix[i][this.rhsColumn];if(r=Math.abs(r),Math.min(r-Math.floor(r),Math.floor(r+1))<this.precision){if(!t)return 0}else-1===e?e=r:e*=r}return-1===e?0:e}},788:function(t,e,i){var r=i(541),n=(i(623),i(589)),s=n.Constraint,a=n.Equality,o=n.Variable,h=n.IntegerVariable;n.Term;function l(t,e){this.tableau=new r(t),this.name=e,this.variables=[],this.integerVariables=[],this.unrestrictedVariables={},this.constraints=[],this.nConstraints=0,this.nVariables=0,this.isMinimization=!0,this.tableauInitialized=!1,this.relaxationIndex=1,this.useMIRCuts=!0,this.checkForCycles=!1}t.exports=l,l.prototype.minimize=function(){return this.isMinimization=!0,this},l.prototype.maximize=function(){return this.isMinimization=!1,this},l.prototype._getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var t=this.lastElementIndex;return this.lastElementIndex+=1,t},l.prototype._addConstraint=function(t){var e=t.slack;this.tableau.variablesPerIndex[e.index]=e,this.constraints.push(t),this.nConstraints+=1,!0===this.tableauInitialized&&this.tableau.addConstraint(t)},l.prototype.smallerThan=function(t){var e=new s(t,!0,this.tableau.getNewElementIndex(),this);return this._addConstraint(e),e},l.prototype.greaterThan=function(t){var e=new s(t,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(e),e},l.prototype.equal=function(t){var e=new s(t,!0,this.tableau.getNewElementIndex(),this);this._addConstraint(e);var i=new s(t,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(i),new a(e,i)},l.prototype.addVariable=function(t,e,i,r,n){if("string"===typeof n)switch(n){case"required":n=0;break;case"strong":n=1;break;case"medium":n=2;break;case"weak":n=3;break;default:n=0}var s,a=this.tableau.getNewElementIndex();return null!==e&&void 0!==e||(e="v"+a),null!==t&&void 0!==t||(t=0),null!==n&&void 0!==n||(n=0),i?(s=new h(e,t,a,n),this.integerVariables.push(s)):s=new o(e,t,a,n),this.variables.push(s),this.tableau.variablesPerIndex[a]=s,r&&(this.unrestrictedVariables[a]=!0),this.nVariables+=1,!0===this.tableauInitialized&&this.tableau.addVariable(s),s},l.prototype._removeConstraint=function(t){var e=this.constraints.indexOf(t);-1!==e?(this.constraints.splice(e,1),this.nConstraints-=1,!0===this.tableauInitialized&&this.tableau.removeConstraint(t),t.relaxation&&this.removeVariable(t.relaxation)):console.warn("[Model.removeConstraint] Constraint not present in model")},l.prototype.removeConstraint=function(t){return t.isEquality?(this._removeConstraint(t.upperBound),this._removeConstraint(t.lowerBound)):this._removeConstraint(t),this},l.prototype.removeVariable=function(t){var e=this.variables.indexOf(t);if(-1!==e)return this.variables.splice(e,1),!0===this.tableauInitialized&&this.tableau.removeVariable(t),this;console.warn("[Model.removeVariable] Variable not present in model")},l.prototype.updateRightHandSide=function(t,e){return!0===this.tableauInitialized&&this.tableau.updateRightHandSide(t,e),this},l.prototype.updateConstraintCoefficient=function(t,e,i){return!0===this.tableauInitialized&&this.tableau.updateConstraintCoefficient(t,e,i),this},l.prototype.setCost=function(t,e){var i=t-e.cost;return!1===this.isMinimization&&(i=-i),e.cost=t,this.tableau.updateCost(e,i),this},l.prototype.loadJson=function(t){this.isMinimization="max"!==t.opType;for(var e=t.variables,i=t.constraints,r={},n={},s=Object.keys(i),o=s.length,h=0;h<o;h+=1){var l,u,d=s[h],c=i[d],f=c.equal,v=c.weight,p=c.priority,x=void 0!==v||void 0!==p;if(void 0===f){var y=c.min;void 0!==y&&(l=this.greaterThan(y),r[d]=l,x&&l.relax(v,p));var m=c.max;void 0!==m&&(u=this.smallerThan(m),n[d]=u,x&&u.relax(v,p))}else{l=this.greaterThan(f),r[d]=l,u=this.smallerThan(f),n[d]=u;var b=new a(l,u);x&&b.relax(v,p)}}for(var g=Object.keys(e),I=g.length,w=t.ints||{},B=t.binaries||{},C=t.unrestricted||{},V=t.optimize,_=0;_<I;_+=1){var M=g[_],O=e[M],j=O[V]||0,R=!!B[M],P=!!w[M]||R,E=!!C[M],z=this.addVariable(j,M,P,E);R&&this.smallerThan(1).addTerm(1,z);var S=Object.keys(O);for(h=0;h<S.length;h+=1){var k=S[h];if(k!==V){var T=O[k],A=r[k];void 0!==A&&A.addTerm(T,z);var F=n[k];void 0!==F&&F.addTerm(T,z)}}}return this},l.prototype.getNumberOfIntegerVariables=function(){return this.integerVariables.length},l.prototype.solve=function(){return!1===this.tableauInitialized&&(this.tableau.setModel(this),this.tableauInitialized=!0),this.tableau.solve()},l.prototype.isFeasible=function(){return this.tableau.feasible},l.prototype.save=function(){return this.tableau.save()},l.prototype.restore=function(){return this.tableau.restore()},l.prototype.activateMIRCuts=function(t){this.useMIRCuts=t},l.prototype.debug=function(t){this.checkForCycles=t},l.prototype.log=function(t){return this.tableau.log(t)}},789:function(t,e){e.CleanObjectiveAttributes=function(t){var e,i,r;if("string"===typeof t.optimize){if(t.constraints[t.optimize]){for(i in e=Math.random(),t.variables)t.variables[i][t.optimize]&&(t.variables[i][e]=t.variables[i][t.optimize]);return t.constraints[e]=t.constraints[t.optimize],delete t.constraints[t.optimize],t}return t}for(r in t.optimize)if(t.constraints[r])if("equal"===t.constraints[r])delete t.optimize[r];else{for(i in e=Math.random(),t.variables)t.variables[i][r]&&(t.variables[i][e]=t.variables[i][r]);t.constraints[e]=t.constraints[r],delete t.constraints[r]}return t}},790:function(t,e){t.exports=function(t){return t.length?function(t){var e={is_blank:/^\W{0,}$/,is_objective:/(max|min)(imize){0,}\:/i,is_int:/^(?!\/\*)\W{0,}int/i,is_bin:/^(?!\/\*)\W{0,}bin/i,is_constraint:/(\>|\<){0,}\=/i,is_unrestricted:/^\S{0,}unrestricted/i,parse_lhs:/(\-|\+){0,1}\s{0,1}\d{0,}\.{0,}\d{0,}\s{0,}[A-Za-z]\S{0,}/gi,parse_rhs:/(\-|\+){0,1}\d{1,}\.{0,}\d{0,}\W{0,}\;{0,1}$/i,parse_dir:/(\>|\<){0,}\=/gi,parse_int:/[^\s|^\,]+/gi,parse_bin:/[^\s|^\,]+/gi,get_num:/(\-|\+){0,1}(\W|^)\d+\.{0,1}\d{0,}/g,get_word:/[A-Za-z].*/},i={opType:"",optimize:"_obj",constraints:{},variables:{}},r={">=":"min","<=":"max","=":"equal"},n="",s=null,a="",o="",h="",l=0;"string"===typeof t&&(t=t.split("\n"));for(var u=0;u<t.length;u++)if(h="__"+u,n=t[u],0,s=null,e.is_objective.test(n))i.opType=n.match(/(max|min)/gi)[0],(s=n.match(e.parse_lhs).map((function(t){return t.replace(/\s+/,"")})).slice(1)).forEach((function(t){a=null===(a=t.match(e.get_num))?"-"===t.substr(0,1)?-1:1:a[0],a=parseFloat(a),o=t.match(e.get_word)[0].replace(/\;$/,""),i.variables[o]=i.variables[o]||{},i.variables[o]._obj=a}));else if(e.is_int.test(n))s=n.match(e.parse_int).slice(1),i.ints=i.ints||{},s.forEach((function(t){t=t.replace(";",""),i.ints[t]=1}));else if(e.is_bin.test(n))s=n.match(e.parse_bin).slice(1),i.binaries=i.binaries||{},s.forEach((function(t){t=t.replace(";",""),i.binaries[t]=1}));else if(e.is_constraint.test(n)){var d=n.indexOf(":");(s=(-1===d?n:n.slice(d+1)).match(e.parse_lhs).map((function(t){return t.replace(/\s+/,"")}))).forEach((function(t){a=null===(a=t.match(e.get_num))?"-"===t.substr(0,1)?-1:1:a[0],a=parseFloat(a),o=t.match(e.get_word)[0],i.variables[o]=i.variables[o]||{},i.variables[o][h]=a})),l=parseFloat(n.match(e.parse_rhs)[0]),n=r[n.match(e.parse_dir)[0]],i.constraints[h]=i.constraints[h]||{},i.constraints[h][n]=l}else e.is_unrestricted.test(n)&&(s=n.match(e.parse_int).slice(1),i.unrestricted=i.unrestricted||{},s.forEach((function(t){t=t.replace(";",""),i.unrestricted[t]=1})));return i}(t):function(t){if(!t)throw new Error("Solver requires a model to operate on");var e="",i={max:"<=",min:">=",equal:"="},r=new RegExp("[^A-Za-z0-9]+","gi");for(var n in e+=t.opType+":",t.variables)t.variables[n][n]=t.variables[n][n]?t.variables[n][n]:1,t.variables[n][t.optimize]&&(e+=" "+t.variables[n][t.optimize]+" "+n.replace(r,"_"));for(n in e+=";\n",t.constraints)for(var s in t.constraints[n]){for(var a in t.variables)t.variables[a][n]&&(e+=" "+t.variables[a][n]+" "+a.replace(r,"_"));e+=" "+i[s]+" "+t.constraints[n][s],e+=";\n"}if(t.ints)for(n in e+="\n\n",t.ints)e+="int "+n.replace(r,"_")+";\n";if(t.unrestricted)for(n in e+="\n\n",t.unrestricted)e+="unrestricted "+n.replace(r,"_")+";\n";return e}(t)}},791:function(t,e){t.exports=function(t,e){var i,r,n,s,a,o=e.optimize,h=JSON.parse(JSON.stringify(e.optimize)),l=Object.keys(e.optimize),u=0,d={},c="",f={},v=[];for(delete e.optimize,r=0;r<l.length;r++)h[l[r]]=0;for(r=0;r<l.length;r++){for(a in e.optimize=l[r],e.opType=o[l[r]],i=t.Solve(e,void 0,void 0,!0),l)if(!e.variables[l[a]])for(s in i[l[a]]=i[l[a]]?i[l[a]]:0,e.variables)e.variables[s][l[a]]&&i[s]&&(i[l[a]]+=i[s]*e.variables[s][l[a]]);for(c="base",n=0;n<l.length;n++)i[l[n]]?c+="-"+(1e3*i[l[n]]|0)/1e3:c+="-0";if(!d[c]){for(d[c]=1,u++,n=0;n<l.length;n++)i[l[n]]&&(h[l[n]]+=i[l[n]]);delete i.feasible,delete i.result,v.push(i)}}for(r=0;r<l.length;r++)e.constraints[l[r]]={equal:h[l[r]]/u};for(r in e.optimize="cheater-"+Math.random(),e.opType="max",e.variables)e.variables[r].cheater=1;for(r in v)for(s in v[r])f[s]=f[s]||{min:1e99,max:-1e99};for(r in f)for(s in v)v[s][r]?(v[s][r]>f[r].max&&(f[r].max=v[s][r]),v[s][r]<f[r].min&&(f[r].min=v[s][r])):(v[s][r]=0,f[r].min=0);return{midpoint:i=t.Solve(e,void 0,void 0,!0),vertices:v,ranges:f}}},806:function(t,e,i){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},n=this&&this.__rest||function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]])}return i},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(770),o=s(i(3)),h=i(778);function l(t,e,i){var r=t.x,n=t.y,s=t.width,a=t.height;return{index:t.index,x:r,y:n,v:e,h:i,wii:Math.max(a,s)/2*Math.SQRT2}}e.diamondRotation=function(t,e){void 0===e&&(e={padding:0});o.default.map(t.nodes,l);return{graph:t}},e.diamondGraphRotation=function(t,e){void 0===e&&(e={padding:0}),t.nodes.sort((function(t,e){return t.index-e.index}));var i=o.default.map(t.nodes,(function(t){var e=a.toPolar(t);e.theta+=Math.PI/4;var i=a.toCartesian(e);return r(r({},t),i)})),s=o.default.sortBy(i,"x"),u=o.default.sortBy(i,"y"),d=o.default.map(i,(function(t){return l(t,o.default.findIndex(s,["index",t.index]),o.default.findIndex(u,["index",t.index]))})),c=[],f=o.default(d).map((function(t){var e=t.index;return"x"+e+" - "+t.x+" + y"+e+" - "+t.y})).join(" + ");c.push("min: "+f+";"),d.sort((function(t,e){return t.index-e.index}));for(var v=0;v<d.length;v++){var p=d[v],x=p.index,y=p.v,m=p.h;y+1<s.length&&c.push("x"+x+" - x"+s[y+1].index+" <= 0;"),m+1<u.length&&c.push("y"+x+" - y"+u[m+1].index+" <= 0;")}d.sort((function(t,e){return t.x-e.x}));for(var b=0;b<d.length;b++)for(var g=d[b],I=(v=g.index,g.y),w=g.wii,B=null,C=null,V=b+1;V<d.length;V++){var _=d[V],M=_.index,O=_.y,j=_.wii;I<=O&&(null===B||O<=B)&&(c.push("x"+M+" - x"+v+" + y"+M+" - y"+v+" >= "+(w+j)+";"),B=O),I>=O&&(null===C||O>=C)&&(c.push("x"+M+" - x"+v+" - y"+M+" + y"+v+" >= "+(w+j)+";"),C=O)}for(x=0;x<d.length;x++){var R=d[x],P=(v=R.index,R.x),E=R.y;c.push("x"+v+" >= "+P+";"),c.push("y"+v+" >= "+E+";")}var z=c.join("\n"),S=h.ReformatLP(z),k=h.Solve(S),T=(k.feasible,k.result,k.bounded,n(k,["feasible","result","bounded"])),A=o.default.transform(T,(function(t,e,i){var r=i.substr(0,1),n=i.substr(1);(t[n]||(t[n]={}))[r]=e}),{}),F={};return o.default.forEach(d,(function(t){var e=t.index,i=t.x,r=t.y,n={x:A[e]&&A[e].x?A[e].x:i,y:A[e]&&A[e].y?A[e].y:r},s=a.toPolar(n);s.theta-=Math.PI/4,F[e]=a.toCartesian(s)})),{graph:{nodes:o.default.map(t.nodes,(function(t){var e=t.index,i=(t.x,t.y,n(t,["index","x","y"]));return r(r({index:e},i),F[e])})),edges:t.edges}}}}}]);
//# sourceMappingURL=6.15f70566.chunk.js.map