{"version":3,"sources":["serviceWorker.ts","layout/Flex.tsx","layout/NesCheckbox.tsx","layout/NesContainer.tsx","layout/NesList.tsx","layout/NesBalloon.tsx","layout/NesButton.tsx","store/actions/is-upload.ts","store/selectors/selection.ts","store/selectors/isUpload.ts","store/selectors/index.ts","store/actions/algorithm-selection.ts","utils/useToggleAll.tsx","utils/useToggleCheckBox.tsx","store/selectors/references.ts","components/Cite.tsx","pages/Home/comps/AlgorithmList.tsx","pages/Home/comps/Authors.tsx","store/actions/criteria-selection.ts","pages/Home/comps/CriteriaList.tsx","pages/Home/comps/Reference.tsx","pages/Home/comps/ReferenceList.tsx","store/actions/examples-selection.ts","store/actions/examples-files.ts","pages/Home/comps/ImportSpace.tsx","store/actions/file.ts","pages/Home/comps/UploadSpace.tsx","utils/promisingFileReader.tsx","utils/useUppy.ts","pages/Home/index.tsx","pages/Result/isIE.tsx","pages/Result/hooks/useCounter.tsx","components/DownloadLink.tsx","components/DownloadLinkList.tsx","components/SVGEdge.tsx","components/SVGNode.tsx","components/SVGGraph.tsx","pages/Result/GraphContainer.tsx","pages/Result/GraphList.tsx","pages/Result/SingleResult.tsx","pages/Result/index.tsx","pages/Result/hooks/useAlgorithms.tsx","pages/Result/hooks/useCriteria.tsx","pages/Result/hooks/useDisplayable.tsx","pages/LogoLink.tsx","pages/index.tsx","store/defaults/algorithms.ts","store/defaults/criteria.ts","store/defaults/examples.ts","store/reducers/selection-utils.ts","store/reducers/algorithm-selection.ts","store/reducers/algorithms.ts","store/reducers/criteria.ts","store/reducers/criteria-selection.ts","store/reducers/examples.ts","store/reducers/files.ts","store/reducers/is-upload.ts","store/reducers/references.ts","store/reducers/example-files.ts","store/index.ts","store/defaults/references.ts","index.tsx"],"names":["Boolean","window","location","hostname","match","Flex","parent","Parent","auto","column","wrap","className","children","classnames","NesCheckbox","React","memo","name","checked","onChange","type","NesContainer","title","centered","rounded","NesList","disc","circle","NesBalloon","right","left","NesButton","primary","success","warning","error","disabled","onClick","setAsUpload","createStandardAction","setAsExample","selected","state","_","pickBy","v","map","__","k","value","allSelected","every","isUpload","algorithmSelection","getAlgorithmsWithSelection","createSelector","algorithms","algs","selections","item","id","filteredAlgorithms","filter","cri","areAllAlgorithmSelected","criteriaSelection","getCriteriaWithSelection","criteria","cris","filteredCriterias","getGroupedCriteria","groupBy","allCriteriaAreSelected","getFiles","files","getExampleFiles","exampleFiles","getExamples","examples","getFinalFiles","exs","canGenerateEmbeddings","length","toggleAlg","setAllAlg","setAlg","selectManyAlg","useToggleAll","setAll","dispatch","useDispatch","useCallback","event","target","useToggleCheckBox","toggle","getReferences","references","getReferencesWithIndex","refs","index","referencesToIndexMap","keyBy","Cite","cite","useSelector","ref","key","href","reduce","prev","curr","AlgorithmList","areAllAlgSelected","toggleAllAlg","selection","elements","useMemo","reference","Authors","rel","toggleCri","setCri","setAllCri","selectManyCri","CriteriaList","areAllCriSelected","toggleAllCri","criteriaGroups","style","height","group","Reference","number","authors","additional","hasIn","journal","ReferenceList","r","toggleExampleSelection","addExampleFile","removeExampleFile","ImportSpace","examplefiles","exampleItemClick","filename","currentTarget","getState","a","axios","get","res","data","file","classNames","addFile","addFiles","removeFile","clearFiles","configuration","restrictions","allowedFileTypes","getListeners","result","console","log","Promise","resolve","reject","fr","FileReader","onload","onerror","readAsText","then","UploadSpace","listeners","uppy","config","useState","Uppy","useEffect","forEach","on","close","useUppy","fileList","fileItemClick","Home","isUploadSelector","setUpload","setExample","generate","resultOnClick","navigate","isIE","ua","navigator","userAgent","test","useCounter","start","step","counter","setCounter","increment","c","DownloadLink","content","url","setUrl","blob","Blob","URL","createObjectURL","revokeObjectURL","download","DownloadLinkList","gml","json","svg","SVGEdge","source","x1","x","y1","y","x2","y2","SVGNode","node","width","text","label","transform","SVGGraph","graph","over","svgRef","rest","scaler","initial","frame","scale","ratio","Math","min","createScale","d3max","nodes","d","sortBy","edges","find","xmlns","viewBox","EdgeList","NodeList","n","GraphMemo","SVGContent","setSVGContent","serializer","XMLSerializer","serializeToString","JSON","stringify","GraphListMemo","current","SingleResult","nextFile","resultGraphs","setResultGraphs","useCurrentAlgorithm","algo","algoIndex","startNextAlgorithm","resultGrid","setResultGrid","total","total2","total3","i","ni","j","nj","overlap","overlapX","overlapY","abs","getAllOverlaps","overlaps","updateGrid","bulk","grid","gridCopy","criId","algoId","initialGraph","addResultsFromAlgorithm","payload","crop","toGML","criterion","graphcopy","e","algorithm","worker","results","CriteriaValue","round","CriteriaLine","resindex","Result","finalFiles","selectedAlgs","selectedCri","setAlgorithms","alglist","all","lazy","aggregator","loadAlgos","useAlgorithms","setCriteria","criList","info","load","useCriteria","displayable","setDisplayable","useDisplayable","addDisplayable","fileCounter","incrementFileCounter","toGraph","terminate","styled","maxWidth","scoped","from","to","noThrow","LogoLink","link","imageurl","alt","src","Page","path","Title","textDecoration","color","Footer","defaultAlgorithms","default","prismAlgorithm","gtreeAlgorithm","RWordleLAlgorithm","diamondGraphRotation","resultnodes","prism","position","Error","m_X","m_Y","gtree","defaultCriteria","fullname","defaultExamples","undefined","set","selectMany","copy","createReducer","handleAction","actions","action","exampleFilesList","reducers","combineReducers","store","createStore","pfs","pfsp","fta","vpsc","rwordle_l","diamond","oo_o","oo_ktd","oo_ni","oo_nni","sp_bb_l1ml","sp_bb_a","sp_bb_na","sp_ch_a","gs_bb_ar","gs_bb_iar","gs_ch_sd","nm_mn","nm_dm_me","nm_dm_ne","nm_dm_h","nm_dm_se","nm_dm_imse","nm_knn","eb_r","e_rsdd","applyMiddleware","thunk","ReactDOM","render","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.997d6647.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\ntype FlexProps = {\r\n  parent?: string;\r\n  auto?: boolean;\r\n  wrap?: boolean;\r\n  column?: boolean;\r\n  className?: string;\r\n};\r\n\r\nexport const Flex: React.FC<FlexProps> = ({\r\n  parent: Parent = 'div',\r\n  auto,\r\n  column,\r\n  wrap,\r\n  className,\r\n  children\r\n}) => (\r\n  // @ts-ignore\r\n  <Parent\r\n    className={classnames(className, 'flex', {\r\n      'flex-auto': auto,\r\n      'flex-column': column,\r\n      'flex-wrap': wrap\r\n    })}\r\n  >\r\n    {children}\r\n  </Parent>\r\n);\r\nexport default Flex;\r\n\r\nexport const FlexMemo: React.FC<FlexProps> = React.memo(Flex);\r\n","import React from 'react';\r\n\r\ntype NesCheckboxProps = {\r\n  name: string;\r\n  checked: boolean;\r\n  onChange: any;\r\n};\r\n\r\nexport const NesCheckbox: React.FC<NesCheckboxProps> = ({\r\n  name,\r\n  checked,\r\n  onChange,\r\n  children\r\n}) => (\r\n  <label>\r\n    <input\r\n      name={name}\r\n      type=\"checkbox\"\r\n      className=\"nes-checkbox\"\r\n      checked={checked}\r\n      onChange={onChange}\r\n    />\r\n    <span>{children || name}</span>\r\n  </label>\r\n);\r\nexport default NesCheckbox;\r\n\r\nexport const NesCheckboxMemo: React.FC<NesCheckboxProps> = React.memo(\r\n  NesCheckbox\r\n);\r\n","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\ntype NesContainerProps = {\r\n  centered?: boolean;\r\n  className?: string;\r\n  rounded?: boolean;\r\n  title?: any;\r\n};\r\n\r\nexport const NesContainer: React.FC<NesContainerProps> = ({\r\n  title,\r\n  centered,\r\n  rounded,\r\n  className,\r\n  children\r\n}) => (\r\n  <div\r\n    className={classnames('nes-container', className, {\r\n      'with-title': title,\r\n      'is-centered': centered,\r\n      'is-rounded': rounded\r\n    })}\r\n  >\r\n    {title && <p className=\"title\">{title}</p>}\r\n    {children}\r\n  </div>\r\n);\r\nexport default NesContainer;\r\n\r\nexport const NesContainerMemo: React.FC<NesContainerProps> = React.memo(\r\n  NesContainer\r\n);\r\n","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\ntype NesListProps = {\r\n  disc?: boolean;\r\n  circle?: boolean;\r\n  className?: string;\r\n};\r\n\r\nexport const NesList: React.FC<NesListProps> = ({\r\n  disc,\r\n  circle,\r\n  className,\r\n  children\r\n}) => (\r\n  <ul\r\n    className={classnames('nes-list', className, {\r\n      'is-disc': disc,\r\n      'is-circle': circle\r\n    })}\r\n  >\r\n    {children}\r\n  </ul>\r\n);\r\nexport default NesList;\r\n\r\nexport const NesListMemo: React.FC<NesListProps> = React.memo(NesList);\r\n","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\ntype NesBalloonProps = {\r\n  right?: boolean;\r\n  left?: boolean;\r\n  className?: string;\r\n};\r\n\r\nexport const NesBalloon: React.FC<NesBalloonProps> = ({\r\n  right,\r\n  left,\r\n  children,\r\n  className\r\n}) => (\r\n  <div\r\n    className={classnames(className, 'nes-balloon', {\r\n      'from-right': right,\r\n      'from-left': left\r\n    })}\r\n  >\r\n    {children}\r\n  </div>\r\n);\r\nexport default NesBalloon;\r\n\r\nexport const NesBalloonMemo: React.FC<NesBalloonProps> = React.memo(NesBalloon);\r\n","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\ntype NesButtonProps = {\r\n  primary?: boolean;\r\n  success?: boolean;\r\n  warning?: boolean;\r\n  error?: boolean;\r\n  disabled?: boolean;\r\n  onClick?: (event: any) => void;\r\n};\r\n\r\nexport const NesButton: React.FC<NesButtonProps> = ({\r\n  primary,\r\n  success,\r\n  warning,\r\n  error,\r\n  disabled,\r\n  children,\r\n  onClick\r\n}) => (\r\n  <button\r\n    type=\"button\"\r\n    className={classnames('nes-btn', {\r\n      'is-primary': primary,\r\n      'is-success': success,\r\n      'is-warning': warning,\r\n      'is-error': error,\r\n      'is-disabled': disabled\r\n    })}\r\n    onClick={onClick}\r\n  >\r\n    {children}\r\n  </button>\r\n);\r\nexport default NesButton;\r\n\r\nexport const NesButtonMemo: React.FC<NesButtonProps> = React.memo(NesButton);\r\n","import { createStandardAction } from 'typesafe-actions';\r\n\r\nconst IS_UPLOAD = 'is-upload/TRUE';\r\nconst IS_EXAMPLE = 'is-upload/FALSE';\r\n\r\nexport const setAsUpload = createStandardAction(IS_UPLOAD)();\r\nexport const setAsExample = createStandardAction(IS_EXAMPLE)();\r\n","import _ from 'lodash';\r\nimport { SelectionType } from '../types';\r\n\r\nexport const selected = (state: SelectionType) =>\r\n  _(state)\r\n    .pickBy(v => v)\r\n    .map((__, k) => k)\r\n    .value();\r\nexport const allSelected = (state: SelectionType) =>\r\n  _.every(state, v => v === true);\r\n","import { StateType } from '..';\r\nexport const isUpload = (state: StateType) => state.isUpload;\r\n","import { selected, allSelected } from './selection';\r\nimport { createSelector } from 'reselect';\r\nimport { StateType } from '..';\r\nimport _ from 'lodash';\r\nimport { isUpload } from './isUpload';\r\n\r\nexport const getAlgorithms = (state: StateType) => state.algorithms;\r\nexport const algorithmSelection = (state: StateType) =>\r\n  state.algorithmSelection;\r\n\r\nexport const getAlgorithmsWithSelection = createSelector(\r\n  getAlgorithms,\r\n  algorithmSelection,\r\n  (algs, selections) =>\r\n    _.map(algs, item => ({ ...item, selected: selections[item.id] || false }))\r\n);\r\n\r\nexport const filteredAlgorithms = createSelector(\r\n  getAlgorithmsWithSelection,\r\n  algs => _.filter(algs, cri => cri.selected)\r\n);\r\n\r\nexport const areAllAlgorithmSelected = createSelector(\r\n  algorithmSelection,\r\n  allSelected\r\n);\r\n\r\nexport const selectedAlgorithms = createSelector(\r\n  algorithmSelection,\r\n  selected\r\n);\r\n\r\nexport const getCriteria = (state: StateType) => state.criteria;\r\n\r\nexport const criteriaSelection = (state: StateType) => state.criteriaSelection;\r\nexport const getCriteriaWithSelection = createSelector(\r\n  getCriteria,\r\n  criteriaSelection,\r\n  (cris, selections) =>\r\n    _.map(cris, item => ({ ...item, selected: selections[item.id] || false }))\r\n);\r\n\r\nexport const filteredCriterias = createSelector(\r\n  getCriteriaWithSelection,\r\n  cris => _.filter(cris, cri => cri.selected)\r\n);\r\n\r\nexport const getGroupedCriteria = createSelector(\r\n  getCriteriaWithSelection,\r\n  cri => _.groupBy(cri, 'group')\r\n);\r\n\r\nexport const allCriteriaAreSelected = createSelector(\r\n  criteriaSelection,\r\n  allSelected\r\n);\r\nexport const selectedCriteria = createSelector(\r\n  criteriaSelection,\r\n  selected\r\n);\r\n\r\nexport const getFiles = (state: StateType) => state.files;\r\n\r\nexport const getExampleFiles = (state: StateType) => state.exampleFiles;\r\nexport const getExamples = (state: StateType) => state.examples;\r\nexport const getSelectedExamples = createSelector(\r\n  getExamples,\r\n  exs => _.filter(exs, 'selected')\r\n);\r\n\r\nexport const getFinalFiles = createSelector(\r\n  getFiles,\r\n  getExampleFiles,\r\n  isUpload,\r\n  (files, examples, isUpload) => (isUpload ? files : examples)\r\n);\r\n\r\nexport const canGenerateEmbeddings = createSelector(\r\n  getFiles,\r\n  getExampleFiles,\r\n  isUpload,\r\n  (files, examples, isUpload) =>\r\n    isUpload ? files.length > 0 : examples.length > 0\r\n);\r\n","import { createStandardAction } from 'typesafe-actions';\r\nimport { SelectionType } from '../types';\r\n\r\nconst ALG_TOGGLE = 'algorithm-selection/TOGGLE';\r\nconst ALG_SET = 'algorithm-selection/SET';\r\nconst ALG_SELECT_MANY = 'algorithm-selection/SELECT_MANY';\r\nconst SET_ALL = 'algorithm-selection/SET_ALL';\r\n\r\nexport const toggleAlg = createStandardAction(ALG_TOGGLE)<string>();\r\nexport const setAllAlg = createStandardAction(SET_ALL)<boolean>();\r\nexport const setAlg = createStandardAction(ALG_SET)<[string, boolean]>();\r\nexport const selectManyAlg = createStandardAction(ALG_SELECT_MANY)<\r\n  SelectionType\r\n>();\r\n","import { useCallback, ChangeEvent } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { PayloadAC } from 'typesafe-actions';\r\n\r\nexport function useToggleAll(setAll: PayloadAC<string, boolean>) {\r\n  const dispatch = useDispatch();\r\n  return useCallback(\r\n    (event: ChangeEvent<HTMLInputElement>) => {\r\n      dispatch(setAll(event.target.checked));\r\n    },\r\n    [dispatch, setAll]\r\n  );\r\n}\r\nexport default useToggleAll;\r\n","import { useCallback, ChangeEvent } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { PayloadAC } from 'typesafe-actions';\r\n\r\nexport function useToggleCheckBox(toggle: PayloadAC<string, string>) {\r\n  const dispatch = useDispatch();\r\n  return useCallback(\r\n    (event: ChangeEvent<HTMLInputElement>) => {\r\n      dispatch(toggle(event.target.name));\r\n    },\r\n    [dispatch, toggle]\r\n  );\r\n}\r\n\r\nexport default useToggleCheckBox;\r\n","import { createSelector } from 'reselect';\r\nimport { StateType } from '..';\r\nimport _ from 'lodash';\r\nexport const getReferences = (state: StateType) => state.references;\r\nexport const getReferencesWithIndex = createSelector(\r\n  getReferences,\r\n  refs => _.map(refs, (v, index) => ({ ...v, index: index + 1 }))\r\n);\r\nexport const referencesToIndexMap = createSelector(\r\n  getReferencesWithIndex,\r\n  refs => _.keyBy(refs, 'id')\r\n);\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { referencesToIndexMap } from '../store/selectors/references';\r\n\r\ntype CiteProps = {\r\n  cite: string[];\r\n};\r\n\r\nexport const Cite: React.FC<CiteProps> = function({ cite }) {\r\n  const references = useSelector(referencesToIndexMap);\r\n\r\n  return (\r\n    <>\r\n      [\r\n      {cite\r\n        .map<React.ReactNode>(ref => (\r\n          <a key={ref} href={'#ref:' + ref}>\r\n            {references[ref].index}\r\n          </a>\r\n        ))\r\n        .reduce((prev, curr) => [prev, ',', curr])}\r\n      ]\r\n    </>\r\n  );\r\n};\r\nexport default Cite;\r\n\r\nexport const CiteMemo: React.FC<CiteProps> = React.memo(Cite);\r\n","import React, { useMemo } from 'react';\r\nimport _ from 'lodash';\r\nimport { useSelector } from 'react-redux';\r\nimport {\r\n  areAllAlgorithmSelected,\r\n  getAlgorithmsWithSelection\r\n} from '../../../store/selectors';\r\nimport {\r\n  toggleAlg,\r\n  setAllAlg\r\n} from '../../../store/actions/algorithm-selection';\r\nimport { NesContainer, NesCheckbox, Flex } from '../../../layout';\r\nimport useToggleAll from '../../../utils/useToggleAll';\r\nimport useToggleCheckBox from '../../../utils/useToggleCheckBox';\r\nimport Cite from '../../../components/Cite';\r\n\r\nexport const AlgorithmList: React.FC<{\r\n  className?: string;\r\n}> = function({ className }) {\r\n  const areAllAlgSelected = useSelector(areAllAlgorithmSelected);\r\n  const toggleAllAlg = useToggleAll(setAllAlg);\r\n\r\n  const selection = useSelector(getAlgorithmsWithSelection);\r\n  const toggle = useToggleCheckBox(toggleAlg);\r\n\r\n  const title = (\r\n    <NesCheckbox\r\n      name=\"Algorithms\"\r\n      checked={areAllAlgSelected}\r\n      onChange={toggleAllAlg}\r\n    />\r\n  );\r\n\r\n  const elements = useMemo(\r\n    () =>\r\n      _.map(selection, ({ selected, id, name, reference: ref }) => {\r\n        return (\r\n          <NesCheckbox key={id} name={id} checked={selected} onChange={toggle}>\r\n            {name} {ref && <Cite cite={ref} />}\r\n          </NesCheckbox>\r\n        );\r\n      }),\r\n    [selection, toggle]\r\n  );\r\n\r\n  // const half_length = Math.ceil(elements.length / 2);\r\n\r\n  return (\r\n    <NesContainer centered className={className} title={title}>\r\n      <Flex column className=\"items-start\">\r\n        {elements}\r\n      </Flex>\r\n    </NesContainer>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { NesContainer } from '../../../layout';\r\n\r\nexport const Authors: React.FC<{ className?: string }> = ({ className }) => (\r\n  <section id=\"authors\" className={className}>\r\n    <NesContainer rounded>\r\n      <p>\r\n        Automatic Graph Overlap Removal Algorithms\r\n        <br />\r\n        <span className=\"code\">\r\n          Fati Chen &lt;fati.chen@lirmm.fr&gt;, Laurent Piccinini,\r\n          <br /> Pascal Poncelet, Arnaud Sallaberry.\r\n          <br />\r\n          <a\r\n            href=\"https://arxiv.org/abs/1908.07363\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            Article from the proceedings of GD 2019 available on ArXiv [arXiv:\r\n            1908.07363]\r\n          </a>\r\n        </span>\r\n      </p>\r\n    </NesContainer>\r\n  </section>\r\n);\r\nexport default Authors;\r\n\r\nexport const AuthorsMemo: React.FC<{ className?: string }> = React.memo(\r\n  Authors\r\n);\r\n","import { createStandardAction } from 'typesafe-actions';\r\nimport { SelectionType } from '../types';\r\n\r\nconst CRI_TOGGLE = 'criteria-selection/TOGGLE';\r\nconst CRI_SELECT = 'criteria-selection/SET';\r\nconst CRI_SELECT_MANY = 'criteria-selection/SELECT_MANY';\r\nconst CRI_SET_ALL = 'criteria-selection/SET_ALL';\r\n\r\nexport const toggleCri = createStandardAction(CRI_TOGGLE)<string>();\r\n\r\nexport const setCri = createStandardAction(CRI_SELECT)<[string, boolean]>();\r\n\r\nexport const setAllCri = createStandardAction(CRI_SET_ALL)<boolean>();\r\n\r\nexport const selectManyCri = createStandardAction(CRI_SELECT_MANY)<\r\n  SelectionType\r\n>();\r\n","import _ from 'lodash';\r\nimport React from 'react';\r\n\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { Flex, NesCheckbox, NesContainer } from '../../../layout';\r\nimport {\r\n  setAllCri,\r\n  toggleCri\r\n} from '../../../store/actions/criteria-selection';\r\nimport {\r\n  allCriteriaAreSelected,\r\n  getGroupedCriteria\r\n} from '../../../store/selectors';\r\n\r\nimport useToggleAll from '../../../utils/useToggleAll';\r\nimport useToggleCheckBox from '../../../utils/useToggleCheckBox';\r\nimport Cite from '../../../components/Cite';\r\n\r\nexport const CriteriaList: React.FC<{\r\n  className?: string;\r\n}> = function({ className }) {\r\n  const areAllCriSelected = useSelector(allCriteriaAreSelected);\r\n  const toggleAllCri = useToggleAll(setAllCri);\r\n\r\n  const criteriaGroups = useSelector(getGroupedCriteria);\r\n  const toggle = useToggleCheckBox(toggleCri);\r\n\r\n  const title = (\r\n    <NesCheckbox\r\n      name=\"Criteria\"\r\n      checked={areAllCriSelected}\r\n      onChange={toggleAllCri}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <NesContainer centered className={className} title={title}>\r\n      <Flex column className=\"items-start tl\">\r\n        <div className=\"overflow-auto w-100\" style={{ height: '300px' }}>\r\n          {_.map(criteriaGroups, (group, key) => {\r\n            return (\r\n              <div key={key} className=\"group mb1\">\r\n                <p className=\"nes-text is-primary\">{key}</p>\r\n                <Flex column className=\"childrens ml4 code\">\r\n                  {_.map(group, ({ id, name, selected, reference: ref }) => (\r\n                    <NesCheckbox\r\n                      key={id}\r\n                      name={id}\r\n                      checked={selected}\r\n                      onChange={toggle}\r\n                    >\r\n                      {name + ' '}\r\n                      {ref && <Cite cite={ref} />}\r\n                    </NesCheckbox>\r\n                  ))}\r\n                </Flex>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </Flex>\r\n    </NesContainer>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { ReferenceType } from '../../../store/types';\r\n\r\nexport const Reference: React.FC<ReferenceType & { number: number }> = ({\r\n  id,\r\n  number,\r\n  authors,\r\n  title,\r\n  additional,\r\n  hasIn,\r\n  journal,\r\n  children\r\n}) => (\r\n  <p id={'ref:' + id} className=\"code\">\r\n    <b>[{number}]</b> {authors}.{' '}\r\n    <span className=\"nes-text is-primary\">{title}.</span> {hasIn && 'In '}\r\n    <i>{journal}</i>\r\n    {additional && ', ' + additional}.{children}\r\n  </p>\r\n);\r\nexport default Reference;\r\n\r\nexport const ReferenceMemo: React.FC<\r\n  ReferenceType & { number: number }\r\n> = React.memo(Reference);\r\n","import React from 'react';\r\nimport { Reference } from './Reference';\r\nimport { useSelector } from 'react-redux';\r\nimport { getReferences } from '../../../store/selectors/references';\r\n\r\nexport const ReferenceList: React.FC<{\r\n  className?: string;\r\n}> = ({ className }) => {\r\n  const references = useSelector(getReferences);\r\n  return (\r\n    <section id=\"references\" className={className}>\r\n      <h3>References</h3>\r\n      <div className=\"tl\">\r\n        {references.map((r, index) => (\r\n          <Reference key={r.id} {...r} number={index + 1} />\r\n        ))}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\nexport default ReferenceList;\r\n\r\nexport const ReferenceListMemo: React.FC<{\r\n  className?: string;\r\n}> = React.memo(ReferenceList);\r\n","import { createStandardAction } from 'typesafe-actions';\r\n\r\nconst EXAMPLE_TOGGLE = 'examples-selection/TOGGLE';\r\n\r\nexport const toggleExampleSelection = createStandardAction(EXAMPLE_TOGGLE)<\r\n  string\r\n>();\r\n","import axios from 'axios';\r\nimport { createStandardAction } from 'typesafe-actions';\r\nimport { ExampleFileType } from '../types';\r\nimport { toggleExampleSelection } from './examples-selection';\r\nimport { StateType } from '..';\r\nimport _ from 'lodash';\r\n\r\nconst EXAMPLE_FILE_ADD = 'example-file/ADD';\r\nconst EXAMPLE_FILE_REMOVE = 'example-file/REMOVE';\r\n\r\nexport const addExampleFile = createStandardAction(EXAMPLE_FILE_ADD)<\r\n  ExampleFileType\r\n>();\r\n\r\nexport const removeExampleFile = createStandardAction(EXAMPLE_FILE_REMOVE)<\r\n  string\r\n>();\r\n\r\nexport const downloadThenToggleExampleSelection = function(filename: string) {\r\n  return async function(dispatch: any, getState: () => StateType) {\r\n    if (_.filter(getState().exampleFiles, v => v.id === filename).length > 0) {\r\n      dispatch(removeExampleFile(filename));\r\n    } else {\r\n      const res = await axios.get('dataset/' + filename);\r\n\r\n      dispatch(\r\n        addExampleFile({ id: filename, name: filename, data: res.data })\r\n      );\r\n    }\r\n\r\n    dispatch(toggleExampleSelection(filename));\r\n  };\r\n};\r\n","import classNames from 'classnames';\r\nimport _ from 'lodash';\r\nimport React, { MouseEvent, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { NesList } from '../../../layout';\r\nimport { getExamples } from '../../../store/selectors';\r\nimport { downloadThenToggleExampleSelection } from '../../../store/actions/examples-files';\r\n\r\nexport const ImportSpace: React.FC = function() {\r\n  const dispatch = useDispatch();\r\n  const examplefiles = useSelector(getExamples);\r\n  // const selectedExampleFiles = useSelector(getSelectedExamples);\r\n  const exampleItemClick = useCallback(\r\n    (event: MouseEvent) => {\r\n      dispatch(downloadThenToggleExampleSelection(event.currentTarget.id));\r\n    },\r\n    [dispatch]\r\n  );\r\n  return (\r\n    // <>\r\n    <div className=\"w-100\">\r\n      <h3>Select Files</h3>\r\n      <NesList disc className=\"overflow-y-scroll h5 mb0 tl w-100 code\">\r\n        {_.map(examplefiles, ({ selected, file }) => (\r\n          <li\r\n            key={file}\r\n            id={file}\r\n            className={classNames('f6', 'mr1', 'color-inherit', 'pointer', {\r\n              'hover-success ': !selected,\r\n              'is-success': selected,\r\n              'nes-text': selected\r\n            })}\r\n            onClick={exampleItemClick}\r\n          >\r\n            <div className=\"mr1 truncate\">{file}</div>\r\n          </li>\r\n        ))}\r\n      </NesList>\r\n    </div>\r\n    //   <div className=\"w-100 w-50-l\">\r\n    //     <h3>Selected</h3>\r\n    //     <NesList\r\n    //       disc\r\n    //       className=\"overflow-y-scroll h5 mb0 tl w-100 code\"\r\n    //     >\r\n    //       {_(selectedExampleFiles)\r\n    //         .map(({ selected, file }) => (\r\n    //           <li\r\n    //             key={file}\r\n    //             id={file}\r\n    //             className={classNames(\r\n    //               'f6',\r\n    //               'mr1',\r\n    //               'color-inherit',\r\n    //               'hover-error ',\r\n    //               'pointer',\r\n    //               {\r\n    //                 'is-success': selected,\r\n    //                 'nes-text': selected\r\n    //               }\r\n    //             )}\r\n    //             onClick={exampleItemClick}\r\n    //           >\r\n    //             <div className=\"mr1 truncate\">{file}</div>\r\n    //           </li>\r\n    //         ))\r\n    //         .value()}\r\n    //     </NesList>\r\n    //   </div>\r\n    // </>\r\n  );\r\n};\r\n","import { createStandardAction } from 'typesafe-actions';\r\nimport { FileType } from '../types';\r\n\r\nconst FILE_ADD = 'file/ADD';\r\nconst FILES_ADD = 'file/ADD_MANY';\r\nconst FILE_REMOVE = 'file/REMOVE';\r\nconst FILE_CLEAR = 'file/CLEAR';\r\n\r\nexport const addFile = createStandardAction(FILE_ADD)<FileType>();\r\nexport const addFiles = createStandardAction(FILES_ADD)<FileType[]>();\r\n\r\nexport const removeFile = createStandardAction(FILE_REMOVE)<string>();\r\n\r\nexport const clearFiles = createStandardAction(FILE_CLEAR)();\r\n","import { UppyFile } from '@uppy/core';\r\nimport { DragDrop } from '@uppy/react';\r\nimport _ from 'lodash';\r\nimport React, { MouseEvent, useCallback, Dispatch, useMemo } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Flex, NesList } from '../../../layout';\r\nimport { addFile, removeFile } from '../../../store/actions/file';\r\nimport { getFiles } from '../../../store/selectors';\r\nimport useUppy from '../../../utils/useUppy';\r\nimport { promisingFileReader } from '../../../utils/promisingFileReader';\r\n\r\nconst configuration = { restrictions: { allowedFileTypes: ['.gml'] } };\r\n\r\nconst getListeners: (\r\n  dispatch: Dispatch<any>\r\n) => {\r\n  [k: string]: (result: UppyFile, ...rest: any[]) => any;\r\n} = dispatch => ({\r\n  'file-added': result => {\r\n    console.log(result);\r\n    const { id, data } = result;\r\n    promisingFileReader(data as File).then(res =>\r\n      dispatch(addFile({ id, data: res, name: (data as File).name }))\r\n    );\r\n  },\r\n  'restriction-failed': (__, error) => {\r\n    console.log(error);\r\n  }\r\n});\r\n\r\nexport const UploadSpace: React.FC = function() {\r\n  const dispatch = useDispatch();\r\n  const listeners = useMemo(() => getListeners(dispatch), [dispatch]);\r\n  const uppy = useUppy(configuration, listeners);\r\n\r\n  const fileList = useSelector(getFiles);\r\n\r\n  const fileItemClick = useCallback(\r\n    (event: MouseEvent) => {\r\n      dispatch(removeFile(event.currentTarget.id));\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  return (\r\n    <Flex className=\"w-100\">\r\n      <div className=\"w-100\">\r\n        <h3 className=\"tc\">Upload</h3>\r\n        {\r\n          //@ts-ignore\r\n          <DragDrop uppy={uppy} height=\"256px\" />\r\n        }\r\n      </div>\r\n      {fileList.length > 0 && (\r\n        <div className=\"tl\">\r\n          <h3 className=\"tc\">&nbsp;</h3>\r\n          <NesList\r\n            disc\r\n            className=\"overflow-y-scroll h5 mb0 w5 hover-success code\"\r\n          >\r\n            {_.map(fileList, ({ id, name }) => (\r\n              <li\r\n                key={id}\r\n                id={id}\r\n                className=\"f6 mr1 hover-error color-inherit pointer\"\r\n                onClick={fileItemClick}\r\n              >\r\n                <div className=\"mr1 truncate\">{name}</div>\r\n              </li>\r\n            ))}\r\n          </NesList>\r\n        </div>\r\n      )}\r\n    </Flex>\r\n  );\r\n};\r\n","//eslint-disable-next-line\r\nexport function promisingFileReader(file: File | Blob): Promise<string> {\r\n  return new Promise((resolve, reject) => {\r\n    const fr = new FileReader();\r\n    fr.onload = () => resolve(fr.result as string);\r\n    fr.onerror = reject;\r\n    fr.readAsText(file);\r\n  });\r\n}\r\n","import Uppy, { UppyFile } from '@uppy/core';\r\nimport _ from 'lodash';\r\n\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function useUppy(\r\n  config: object,\r\n  listeners: {\r\n    [k: string]: (result: UppyFile, ...rest: any[]) => any;\r\n  }\r\n) {\r\n  const [uppy] = useState(() => Uppy(config));\r\n  \r\n  useEffect(() => {\r\n    _.forEach(listeners, (item, key) => uppy.on(key, item));\r\n    return () => uppy.close();\r\n  }, [listeners, uppy]);\r\n\r\n  return uppy;\r\n}\r\n","import { RouteComponentProps, navigate } from '@reach/router';\r\nimport '@uppy/core/dist/style.css';\r\nimport '@uppy/dashboard/dist/style.css';\r\nimport '@uppy/drag-drop/dist/style.css';\r\nimport React, { MouseEvent, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Flex, NesButton } from '../../layout';\r\nimport { setAsExample, setAsUpload } from '../../store/actions/is-upload';\r\nimport {\r\n  canGenerateEmbeddings // getSelectedExamples\r\n} from '../../store/selectors';\r\nimport { isUpload as isUploadSelector } from '../../store/selectors/isUpload';\r\nimport { AlgorithmList } from './comps/AlgorithmList';\r\nimport Authors from './comps/Authors';\r\nimport { CriteriaList } from './comps/CriteriaList';\r\nimport './index.css';\r\nimport { ReferenceList } from './comps/ReferenceList';\r\nimport { ImportSpace } from './comps/ImportSpace';\r\nimport { UploadSpace } from './comps/UploadSpace';\r\n\r\nconst Home: React.FC<RouteComponentProps> = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const isUpload = useSelector(isUploadSelector);\r\n\r\n  const setUpload = useCallback(() => dispatch(setAsUpload()), [dispatch]);\r\n  const setExample = useCallback(() => dispatch(setAsExample()), [dispatch]);\r\n\r\n  const generate = useSelector(canGenerateEmbeddings);\r\n\r\n  const resultOnClick = useCallback(\r\n    (event: MouseEvent) => {\r\n      generate && navigate('result');\r\n    },\r\n    [generate]\r\n  );\r\n\r\n  return (\r\n    <div className=\"mw8-ml center\">\r\n      <div className=\"mh1 mh3-m mh0-l\">\r\n        <Authors className=\"center mw7 mv3\" />\r\n        <Flex parent=\"section\" className=\"flex-column flex-row-l mv3\">\r\n          <Flex className=\"flex-row flex-column-l w-100 item-stretch pa3 justify-around w5-l\">\r\n            <NesButton primary={isUpload} onClick={setUpload}>\r\n              <div className=\"\">Upload Files</div>\r\n            </NesButton>\r\n            <NesButton primary={!isUpload} onClick={setExample}>\r\n              <div className=\"\">Examples</div>\r\n            </NesButton>\r\n          </Flex>\r\n\r\n          {isUpload ? <UploadSpace /> : <ImportSpace />}\r\n        </Flex>\r\n        <div className=\"mv3\">\r\n          <NesButton\r\n            primary={generate}\r\n            disabled={!generate}\r\n            onClick={resultOnClick}\r\n          >\r\n            <div className=\"pa3\"> Generate Overlapping-free Embeddings</div>\r\n          </NesButton>\r\n        </div>\r\n        <Flex wrap>\r\n          <div className=\"w-100 w-50-l mb3 mb0-l\">\r\n            <AlgorithmList className=\"h-100 ma2\" />\r\n          </div>\r\n          <div className=\"w-100 w-50-l\">\r\n            <CriteriaList className=\"h-100 pr0 ma2\" />\r\n          </div>\r\n        </Flex>\r\n        <ReferenceList className=\"mv3\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","export const isIE = (function() {\r\n  var ua = window.navigator.userAgent;\r\n  var isIE = /MSIE|Trident/.test(ua);\r\n  return isIE;\r\n})();\r\n","import { useState, Dispatch, SetStateAction, useMemo } from 'react';\r\n\r\nexport const useCounter = function(\r\n  start: number,\r\n  step: number = 1\r\n): [number, () => void, Dispatch<SetStateAction<number>>] {\r\n  const [counter, setCounter] = useState(start);\r\n  const increment = useMemo(() => () => setCounter(c => (c! || 0) + step), [\r\n    step\r\n  ]);\r\n  return [counter, increment, setCounter];\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nexport const DownloadLink: React.FC<{\r\n  content: string;\r\n  name: string;\r\n}> = function({ content, name, children }) {\r\n  const [url, setUrl] = useState();\r\n\r\n  useEffect(() => {\r\n    var blob = new Blob([content], { type: 'plain/text' });\r\n    (blob as any).name = blob;\r\n    const url = URL.createObjectURL(blob);\r\n\r\n    setUrl(url);\r\n    // cleanup on unmount\r\n    return () => URL.revokeObjectURL(url);\r\n  }, [name, content]);\r\n\r\n  // TODO suspense update\r\n  return url ? (\r\n    <a href={url} download={name} className=\"bw1 ba mr1 no-underline\">\r\n      {children ? children : name}\r\n    </a>\r\n  ) : null;\r\n};\r\n\r\nexport default DownloadLink;\r\n","import React from 'react';\r\nimport DownloadLink from './DownloadLink';\r\n\r\nexport const DownloadLinkList: React.FC<{\r\n  name: string;\r\n  gml?: string;\r\n  json: string;\r\n  svg?: string | null;\r\n}> = function({ name, gml, json, svg }) {\r\n  return (\r\n    <div className=\"f7\">\r\n      {gml ? (\r\n        <DownloadLink content={gml} name={name + '.gml'}>\r\n          GML\r\n        </DownloadLink>\r\n      ) : null}\r\n      <DownloadLink content={json} name={name + '.json'}>\r\n        JSON\r\n      </DownloadLink>\r\n      {svg ? (\r\n        <DownloadLink content={svg} name={name + '.svg'}>\r\n          SVG\r\n        </DownloadLink>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DownloadLinkList;\r\n","import React from 'react';\r\nimport { Node } from 'agora-graph';\r\n\r\nexport const SVGEdge: React.FC<{ source: Node; target: Node }> = function({\r\n  source,\r\n  target\r\n}) {\r\n  return (\r\n    <line\r\n      className=\"link\"\r\n      x1={source.x}\r\n      y1={source.y}\r\n      x2={target.x}\r\n      y2={target.y}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SVGEdge;\r\n","import React from 'react';\r\nimport { Node } from 'agora-graph';\r\n\r\nexport const SVGNode: React.FC<{ node: Node }> = function({\r\n  node: { x, y, height, width, index, label }\r\n}) {\r\n  let text = label || index;\r\n  if (text === 'undefined') text = index;\r\n  return (\r\n    <g className=\"node\" transform={`translate(${x},${y})`}>\r\n      <rect\r\n        className=\"rect\"\r\n        width={width}\r\n        height={height}\r\n        transform={`translate(${-width / 2},${-height / 2})`}\r\n      />\r\n      {/* <text className=\"label\" transform=\"translate(-5,6)\">\r\n        {label !== 'undefined' ? label || index : index}\r\n      </text> */}\r\n    </g>\r\n  );\r\n};\r\n\r\nexport default SVGNode;\r\n","import React, { SVGProps } from 'react';\r\nimport _ from 'lodash';\r\nimport { max as d3max } from 'd3-array';\r\nimport { Graph, Node, Box } from 'agora-graph';\r\nimport EdgeComp from './SVGEdge';\r\nimport NodeComp from './SVGNode';\r\n\r\nexport type SVGGraphType = {\r\n  graph: Graph;\r\n  over?: boolean;\r\n  width: number;\r\n  height: number;\r\n  svgRef: any;\r\n} & SVGProps<SVGSVGElement>;\r\n\r\nexport const SVGGraph: React.FC<SVGGraphType> = function({\r\n  graph,\r\n  over = false,\r\n  width,\r\n  height,\r\n  svgRef,\r\n  ...rest\r\n}) {\r\n  const box = {\r\n    width: d3max(graph.nodes, d => d.x + d.width / 2) || 0,\r\n    height: d3max(graph.nodes, d => d.y + d.height / 2) || 0\r\n  };\r\n\r\n  const scaler = createScale(box, { width, height });\r\n\r\n  const nodes = _(graph.nodes)\r\n    .map(({ width, height, x, y, ...rest }) => ({\r\n      ...rest,\r\n      width: scaler(width),\r\n      height: scaler(height),\r\n      x: scaler(x),\r\n      y: scaler(y)\r\n    }))\r\n    .sortBy('index')\r\n    .value();\r\n\r\n  const edges: [Node, Node][] = graph.edges.map<[Node, Node]>(\r\n    ({ source, target }) => [\r\n      _.find(nodes, { index: source }) as Node,\r\n      _.find(nodes, { index: target }) as Node\r\n    ]\r\n  );\r\n\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width={width}\r\n      height={height}\r\n      viewBox={`-5,-5,${width + 10},${height + 10}`}\r\n      {...rest}\r\n      ref={svgRef}\r\n    >\r\n      <style>{`\r\n      .edges { \r\n        stroke: #878fff;\r\n        stroke-width: 2px;\r\n      }\r\n\r\n      .rect {\r\n        stroke: #000;\r\n        fill: #eee;\r\n      }\r\n      `}</style>\r\n      {/* <g className=\"nodes\">\r\n        {nodes.map(n => (\r\n          <NodeComp key={n.index} node={n}></NodeComp>\r\n        ))}\r\n      </g> */}\r\n      {/* {over ? (\r\n        <>\r\n          <NodeList nodes={nodes} />\r\n          <EdgeList edges={edges} />\r\n        </>\r\n      ) : (\r\n\r\n      )} */}\r\n      <EdgeList edges={edges} />\r\n      <NodeList nodes={nodes} />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default SVGGraph;\r\n\r\nconst EdgeList: React.FC<{ edges: [Node, Node][] }> = function({ edges }) {\r\n  return (\r\n    <g className=\"edges\">\r\n      {edges.map(([source, target]) => (\r\n        <EdgeComp\r\n          // key={source.index + ':' + target.index}\r\n          source={source}\r\n          target={target}\r\n        />\r\n      ))}\r\n    </g>\r\n  );\r\n};\r\n\r\nconst NodeList: React.FC<{ nodes: Node[] }> = function({ nodes }) {\r\n  return (\r\n    <g className=\"nodes\">\r\n      {nodes.map(n => (\r\n        <NodeComp key={n.index} node={n}></NodeComp>\r\n      ))}\r\n    </g>\r\n  );\r\n};\r\n\r\n/**\r\n *\r\n * @param initial\r\n * @param frame\r\n *\r\n * @returns function which converts the coordinate for the projection\r\n */\r\nexport function createScale(initial: Box, frame: Box): (ref: number) => number {\r\n  const scale: any = function(initial: number) {\r\n    return scale.ratio * initial;\r\n  };\r\n\r\n  scale.ratio = Math.min(\r\n    frame.width / initial.width,\r\n    frame.height / initial.height\r\n  );\r\n\r\n  return scale;\r\n}\r\n","import React, { useState, useCallback } from 'react';\r\nimport { Flex } from '../../layout';\r\nimport DownloadLinkList from '../../components/DownloadLinkList';\r\nimport SVGGraph from '../../components/SVGGraph';\r\nimport { Graph } from 'agora-graph';\r\n\r\nconst GraphContainer: React.FC<{\r\n  name: string | any;\r\n  graph: Graph;\r\n  gml?: string;\r\n}> = ({ name, graph, gml }) => {\r\n  const [SVGContent, setSVGContent] = useState<string | null>(null);\r\n  const svgRef = useCallback(svgRef => {\r\n    if (svgRef) {\r\n      const serializer = new XMLSerializer();\r\n      setSVGContent(serializer.serializeToString(svgRef));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"mh1 fixed-width\" style={{ height: '150px' }}>\r\n      <Flex column wrap className=\"items-stretch\">\r\n        <h3 className=\"nowrap\">{name}</h3>\r\n        <DownloadLinkList\r\n          name={name}\r\n          json={JSON.stringify(graph)}\r\n          gml={gml}\r\n          svg={SVGContent}\r\n        />\r\n        <div className=\"graph mt1\">\r\n          <SVGGraph graph={graph} svgRef={svgRef} width={90} height={88} />\r\n        </div>\r\n      </Flex>\r\n    </div>\r\n  );\r\n};\r\nexport const GraphMemo = React.memo(GraphContainer);\r\nexport default GraphMemo;\r\n","import _ from 'lodash';\r\nimport React from 'react';\r\nimport { Flex } from '../../layout';\r\nimport { GraphMemo } from './GraphContainer';\r\nimport { GraphResultProps, GraphProps } from './SingleResult';\r\n\r\nexport const GraphList: React.FC<{\r\n  initial?: GraphProps;\r\n  current?: GraphResultProps[] | { [k: string]: GraphResultProps };\r\n}> = ({ initial, current }) => (\r\n  <article>\r\n    <Flex wrap className=\"justify-center justify-start-ml\">\r\n      <div className=\"ml128-ml\">\r\n        {initial && (\r\n          <GraphMemo name=\"Initial\" graph={initial.graph} gml={initial.gml} />\r\n        )}\r\n      </div>\r\n      {current &&\r\n        _.map(current, ({ id, name, graph, gml }) => (\r\n          <GraphMemo key={id} name={name} graph={graph} gml={gml} />\r\n        ))}\r\n    </Flex>\r\n  </article>\r\n);\r\n\r\nexport const GraphListMemo = React.memo(GraphList);\r\nexport default GraphListMemo;\r\n","import {\r\n  Graph,\r\n  round,\r\n  crop,\r\n  Result,\r\n  overlap,\r\n  getAllOverlaps,\r\n  overlapX,\r\n  overlapY\r\n} from 'agora-graph';\r\nimport _ from 'lodash';\r\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\r\n\r\nimport GraphList from './GraphList';\r\nimport { useCounter } from './hooks/useCounter';\r\nimport { toGML } from 'agora-gml';\r\nimport { isIE } from './isIE';\r\nimport { LoadedAlg } from './hooks/useAlgorithms';\r\n\r\nexport type GraphProps = {\r\n  graph: Graph;\r\n  gml?: string;\r\n};\r\nexport type CriType = {\r\n  id: string;\r\n  name: string;\r\n  group: string;\r\n  criterion: (\r\n    initial: Graph,\r\n    updated: Graph\r\n  ) => {\r\n    value: number;\r\n  };\r\n};\r\n\r\nexport type GraphResultProps = GraphProps & {\r\n  name: string;\r\n  id: string;\r\n};\r\n\r\ntype SingleResultProps = {\r\n  name: string;\r\n  initial: { graph: Graph; gml?: string };\r\n  algorithms: LoadedAlg[];\r\n  criteria: CriType[];\r\n  nextFile: () => void;\r\n};\r\n\r\ntype GridCriteriaAlgorithm = {\r\n  [k: string]: { [k: string]: number };\r\n};\r\n\r\nconst useCurrentAlgorithm = function(\r\n  algorithms: LoadedAlg[]\r\n): [LoadedAlg, number, () => void] {\r\n  const [counter, increment] = useCounter(0);\r\n\r\n  const currentAlgorithm = useMemo(() => algorithms[counter], [\r\n    counter,\r\n    algorithms\r\n  ]);\r\n\r\n  return [currentAlgorithm, counter, increment];\r\n};\r\n\r\nexport const SingleResult: React.FC<SingleResultProps> = React.memo(function({\r\n  initial,\r\n  name,\r\n  algorithms,\r\n  criteria,\r\n  nextFile\r\n}) {\r\n  const [resultGraphs, setResultGraphs] = useState<{\r\n    [k: string]: GraphResultProps;\r\n  }>({});\r\n\r\n  // const [currentAlgorithmComputed, startNextAlgorithm] = useCounter(0);\r\n  const [algo, algoIndex, startNextAlgorithm] = useCurrentAlgorithm(algorithms);\r\n\r\n  const [resultGrid, setResultGrid] = useState<GridCriteriaAlgorithm>({});\r\n\r\n  const [overlaps] = useState(() => {\r\n    const nodes = initial.graph.nodes;\r\n    let total = 0;\r\n    let total2 = 0;\r\n    let total3 = 0;\r\n\r\n    for (let i = 0; i < nodes.length; i++) {\r\n      const ni = nodes[i];\r\n      for (let j = i + 1; j < nodes.length; j++) {\r\n        const nj = nodes[j];\r\n\r\n        if (overlap(ni, nj)) total++;\r\n        if (overlapX(ni, nj) && overlapY(ni, nj)) total2++;\r\n        if (\r\n          Math.abs(ni.x - nj.x) < (ni.width + nj.width) / 2 &&\r\n          Math.abs(ni.y - nj.y) < (ni.height + nj.height) / 2\r\n        )\r\n          total3++;\r\n      }\r\n    }\r\n    console.log(total);\r\n    console.log(total2);\r\n    console.log(total3);\r\n    console.log(getAllOverlaps(initial.graph.nodes).length);\r\n    return total;\r\n  });\r\n  const updateGrid = useCallback((bulk: any[]) => {\r\n    setResultGrid(function(grid) {\r\n      const gridCopy = { ...grid };\r\n      for (const { criId, algoId, value } of bulk) {\r\n        (gridCopy[criId] || (gridCopy[criId] = {}))[algoId] = value;\r\n      }\r\n      return gridCopy;\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const initialGraph = initial.graph;\r\n\r\n    const addResultsFromAlgorithm = function({ graph }: Result) {\r\n      const payload = {\r\n        graph: crop(graph),\r\n        gml: toGML(graph),\r\n        name: algo.name,\r\n        id: algo.id\r\n      };\r\n      setResultGraphs(v => ({ ...v, [algo.id]: payload }));\r\n\r\n      const bulk = _.map(criteria, ({ id, criterion }) => ({\r\n        criId: id,\r\n        algoId: algo.id,\r\n        value: criterion(initialGraph, payload.graph).value\r\n      }));\r\n      updateGrid(bulk);\r\n\r\n      if (algoIndex !== algorithms.length - 1) {\r\n        startNextAlgorithm();\r\n      } else {\r\n        nextFile();\r\n      }\r\n    };\r\n\r\n    if (isIE) {\r\n      const graphcopy = {\r\n        nodes: initialGraph.nodes.map(n => ({ ...n })),\r\n        edges: initialGraph.edges.map(e => ({ ...e }))\r\n      };\r\n      addResultsFromAlgorithm(algo.algorithm!(graphcopy));\r\n    } else {\r\n      // no need to copy since it's passed to a web worker\r\n      algo.worker!.algorithm(initialGraph).then(addResultsFromAlgorithm);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [algo]);\r\n\r\n  return (\r\n    <section className=\"mv3\">\r\n      <h2>\r\n        {name} <small>overlaps : {overlaps}</small>\r\n      </h2>\r\n      <GraphList initial={initial} current={resultGraphs} />\r\n      <article className=\"criteria\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"table-design tbth-min-w236-ml ttdh-w108-ml table-fixed-ml\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"tc\">Criterias</th>\r\n                {_.map(algorithms, ({ id, name }) => (\r\n                  <th key={id} className=\"nowrap\">\r\n                    {name}\r\n                  </th>\r\n                ))}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {useMemo(\r\n                () =>\r\n                  _.map(criteria, ({ id, name }) => {\r\n                    return (\r\n                      <CriteriaLine\r\n                        key={id}\r\n                        name={name}\r\n                        results={resultGrid[id]}\r\n                      />\r\n                    );\r\n                  }),\r\n                [criteria, resultGrid]\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </article>\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default SingleResult;\r\n\r\nconst CriteriaValue: React.FC<{ index: string; value: number }> = ({\r\n  index,\r\n  value\r\n}) => <td key={index}>{round(value, -4)}</td>;\r\n\r\nconst CriteriaLine: React.FC<Pick<CriType, 'name'> & {\r\n  results: { [k: string]: number };\r\n}> = ({ name, results }) => {\r\n  return (\r\n    <tr className=\"striped--near-white\">\r\n      <th>{name}</th>\r\n      {results &&\r\n        _.map(results, (value, resindex) => (\r\n          <CriteriaValue key={resindex} value={value} index={resindex} />\r\n        ))}\r\n    </tr>\r\n  );\r\n};\r\n","import { Redirect, RouteComponentProps } from '@reach/router';\r\nimport { toGraph } from 'agora-gml';\r\nimport { crop } from 'agora-graph';\r\nimport _ from 'lodash';\r\nimport React, { useEffect, useMemo } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport {\r\n  filteredAlgorithms,\r\n  filteredCriterias,\r\n  getFinalFiles\r\n} from '../../store/selectors';\r\nimport { useAlgorithms } from './hooks/useAlgorithms';\r\nimport { useCounter } from './hooks/useCounter';\r\nimport { useCriteria } from './hooks/useCriteria';\r\nimport { useDisplayable } from './hooks/useDisplayable';\r\n\r\nimport './index.css';\r\nimport SingleResult from './SingleResult';\r\nimport { isIE } from './isIE';\r\n\r\nexport const Result: React.FC<RouteComponentProps> = function() {\r\n  const finalFiles = useSelector(getFinalFiles);\r\n  const selectedAlgs = useSelector(filteredAlgorithms);\r\n  const selectedCri = useSelector(filteredCriterias);\r\n\r\n  // loading algorithms\r\n  const algorithms = useAlgorithms(selectedAlgs);\r\n\r\n  // finished loading algs, loading criteria\r\n  const criteria = useCriteria(selectedCri);\r\n\r\n  // displaying more and more :)\r\n  const [displayable, addDisplayable] = useDisplayable();\r\n\r\n  const [fileCounter, incrementFileCounter] = useCounter(-1);\r\n\r\n  // criterias and algorithms have been loaded\r\n  useEffect(() => {\r\n    if (algorithms && criteria) {\r\n      incrementFileCounter();\r\n    }\r\n  }, [algorithms, criteria, incrementFileCounter]);\r\n\r\n  // big loop\r\n  useEffect(() => {\r\n    // ignoring init :)\r\n    if (fileCounter > -1) {\r\n      if (fileCounter !== finalFiles.length) {\r\n        const file = finalFiles[fileCounter];\r\n        const graph = crop(toGraph(file.data));\r\n\r\n        addDisplayable({ file, initial: { graph, gml: file.data } });\r\n      } else {\r\n        if (!isIE) for (const alg of algorithms!) alg.worker!.terminate();\r\n        // wipe workers\r\n      }\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [fileCounter]);\r\n\r\n  const styled = useMemo(() => {\r\n    let maxWidth = 128 + 98; // initial graph alignment\r\n    // each algorithm\r\n    maxWidth += 98 * (algorithms ? algorithms.length : 0);\r\n    return (\r\n      <style scoped>\r\n        {`\r\n/* browser sidebar correction */\r\n@media (min-width: ${maxWidth + 30}px) {\r\n.justify-start-ml{\r\n  justify-content: start;\r\n}\r\n.mw8-ml {\r\nmax-width: ${maxWidth}px;\r\n}\r\n\r\n.tbth-min-w236-ml tbody th {\r\nmin-width: 226px;\r\n}\r\n\r\n.ttdh-w108-ml td,\r\n.ttdh-w108-ml th {\r\nwidth: 98px;\r\n}\r\n\r\n.ml128-ml {\r\nmargin-left: 128px;\r\n}\r\n\r\n.table-fixed-ml {\r\ntable-layout: fixed;\r\nwidth: auto;\r\n}\r\n}`}\r\n      </style>\r\n    );\r\n  }, [algorithms]);\r\n\r\n  if (finalFiles.length === 0) {\r\n    return <Redirect from=\"\" to=\"/\" noThrow />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {styled}\r\n      <div className=\"mw8-ml center tl mh3 code\">\r\n        {_.map(displayable, ({ file: { id, name }, initial }) => (\r\n          <SingleResult\r\n            key={id}\r\n            name={name}\r\n            initial={initial}\r\n            algorithms={algorithms!}\r\n            criteria={criteria!}\r\n            nextFile={incrementFileCounter}\r\n          />\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Result;\r\n","import { useState, useEffect } from 'react';\r\nimport _ from 'lodash';\r\nimport { isIE } from '../isIE';\r\nimport { Graph, Function, Result } from 'agora-graph';\r\n\r\nexport type AlgMeta = {\r\n  selected: boolean;\r\n  id: string;\r\n  name: string;\r\n  reference?: string[];\r\n  lazy: () => Promise<Function<any>>;\r\n  worker: () => Promise<any>;\r\n};\r\n\r\nexport type LoadedAlg = {\r\n  selected: boolean;\r\n  id: string;\r\n  name: string;\r\n  reference?: string[];\r\n  algorithm?: Function<any>;\r\n  worker?: {\r\n    algorithm: (graph: Graph) => Promise<Result>;\r\n    terminate: () => void;\r\n  };\r\n};\r\n\r\nexport function useAlgorithms(selectedAlgs: AlgMeta[]) {\r\n  const [algorithms, setAlgorithms] = useState<LoadedAlg[]>();\r\n  useEffect(() => {\r\n    const loadAlgos = async (alglist: AlgMeta[]) => {\r\n      console.log('algorithms loading start');\r\n      const aggregator = await Promise.all(\r\n        _.map(alglist, async ({ worker, lazy, ...algo }) => {\r\n          if (isIE) {\r\n            return {\r\n              ...algo,\r\n              algorithm: await lazy()\r\n            };\r\n          }\r\n\r\n          return {\r\n            ...algo,\r\n            worker: await worker()\r\n          };\r\n        })\r\n      );\r\n      setAlgorithms(aggregator);\r\n      console.log('algorithms loading finish');\r\n    };\r\n    loadAlgos(selectedAlgs);\r\n  }, [selectedAlgs]);\r\n  return algorithms;\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { CriterionType } from '../../../store/types';\r\nimport _ from 'lodash';\r\nimport { CriType } from '../SingleResult';\r\n\r\nexport function useCriteria(selectedCri: CriterionType[]) {\r\n  const [criteria, setCriteria] = useState<CriType[]>();\r\n  useEffect(() => {\r\n    const load = async (criList: CriterionType[]) => {\r\n      console.log('criteria loading start');\r\n      const aggregator = await Promise.all(\r\n        _.map(criList, async ({ lazy, ...info }) => ({\r\n          ...info,\r\n          criterion: (await lazy()).criteria\r\n        }))\r\n      );\r\n      setCriteria(aggregator);\r\n      console.log('criteria loading finish');\r\n      // finished loading cri, parsing first file\r\n    };\r\n    load(selectedCri);\r\n  }, [selectedCri]);\r\n  return criteria;\r\n}\r\n","import { useMemo, useState } from 'react';\r\nimport { FileType } from '../../../store/types';\r\nimport { GraphProps } from '../SingleResult';\r\n\r\ntype DisplayableProps = {\r\n  file: FileType;\r\n  initial: GraphProps;\r\n};\r\n\r\nexport const useDisplayable = function(): [\r\n  DisplayableProps[],\r\n  (file: DisplayableProps) => void\r\n] {\r\n  const [displayable, setDisplayable] = useState<DisplayableProps[]>([]);\r\n  const addDisplayable = useMemo(\r\n    () => (file: DisplayableProps) => setDisplayable(d => [...d, file]),\r\n    []\r\n  );\r\n  return [displayable, addDisplayable];\r\n};\r\n","import React from 'react';\r\nexport const LogoLink: React.FC<{\r\n  link: string;\r\n  imageurl: string;\r\n  alt: string;\r\n}> = ({ link, imageurl, alt }) => {\r\n  return (\r\n    <a href={link} target=\"_blank\" rel=\"noopener noreferrer\">\r\n      <img height=\"64px\" src={imageurl} alt={alt} />\r\n    </a>\r\n  );\r\n};\r\nexport default LogoLink;\r\n\r\nexport const LogoLinkMemo: React.FC<{\r\n  link: string;\r\n  imageurl: string;\r\n  alt: string;\r\n}> = React.memo(LogoLink);\r\n","import React from 'react';\r\nimport { Router, Link } from '@reach/router';\r\nimport Home from './Home';\r\nimport Result from './Result';\r\nimport { Flex } from '../layout';\r\nimport LogoLink from './LogoLink';\r\n\r\nconst Page: React.FC = function() {\r\n  return (\r\n    <div className=\"mt4 tc\">\r\n      <Title />\r\n      <Router>\r\n        <Home path=\"/\" />\r\n        <Result path=\"/result\" />\r\n      </Router>\r\n      <Footer className=\"justify-around pv3 mw8 center\" />\r\n    </div>\r\n  );\r\n};\r\nexport default Page;\r\n\r\nconst Title: React.FC = () => (\r\n  <header>\r\n    <Link to=\"/\" style={{ textDecoration: 'none', color: 'inherit' }}>\r\n      <h1 className=\"lh-title tc\">AGORA</h1>\r\n    </Link>\r\n  </header>\r\n);\r\n\r\nconst Footer: React.FC<{ className: string }> = function({ className }) {\r\n  return (\r\n    <Flex parent=\"footer\" className={className}>\r\n      <LogoLink link=\"https://www.lirmm.fr/\" imageurl=\"lirmm.png\" alt=\"LIRMM\" />\r\n      <LogoLink\r\n        link=\"https://www.univ-montp3.fr/\"\r\n        imageurl=\"um3.png\"\r\n        alt=\"UM3\"\r\n      />\r\n      <LogoLink\r\n        link=\"https://www.umontpellier.fr/\"\r\n        imageurl=\"um.png\"\r\n        alt=\"UM\"\r\n      />\r\n      <LogoLink link=\"https://www.cnrs.fr/\" imageurl=\"cnrs.png\" alt=\"CNRS\" />\r\n    </Flex>\r\n  );\r\n};\r\n","import { AlgorithmType } from '../types';\r\nimport { Graph } from 'agora-graph';\r\n\r\nexport const defaultAlgorithmSelection = {\r\n  scale: true,\r\n  pfs: true,\r\n  pfsp: true,\r\n  fta: true,\r\n  vpsc: true,\r\n  prism: true,\r\n  gtree: true,\r\n  rwordle_l: true,\r\n  diamond: true\r\n};\r\n\r\nexport const defaultAlgorithms: AlgorithmType[] = [\r\n  {\r\n    id: 'scale',\r\n    name: 'SCALE',\r\n    lazy: async function() {\r\n      return (await import('agora-scaling')).default.algorithm;\r\n    },\r\n    worker: async () =>\r\n      (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/scale.worker'\r\n      )).default()\r\n  },\r\n  {\r\n    id: 'pfs',\r\n    name: 'PFS',\r\n    reference: ['misue1995'],\r\n    lazy: async function() {\r\n      return (await import('agora-pfs')).default.algorithm;\r\n    },\r\n    worker: async () =>\r\n      (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/pfs.worker'\r\n      )).default()\r\n  },\r\n  {\r\n    id: 'pfsp',\r\n    name: \"PFS'\",\r\n    reference: ['hayashi1998'],\r\n    lazy: async function() {\r\n      return (await import('agora-pfsp')).default.algorithm;\r\n    },\r\n    worker: async () =>\r\n      (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/pfsp.worker'\r\n      )).default()\r\n  },\r\n  {\r\n    id: 'fta',\r\n    name: 'FTA',\r\n    reference: ['huang2007'],\r\n    lazy: async function() {\r\n      return (await import('agora-fta')).default.algorithm;\r\n    },\r\n    worker: async () =>\r\n      (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/fta.worker'\r\n      )).default()\r\n  },\r\n  {\r\n    id: 'vpsc',\r\n    name: 'VPSC',\r\n    reference: ['dwyer2005'],\r\n    lazy: async function() {\r\n      return (await import('agora-vpsc')).default.algorithm;\r\n    },\r\n    worker: async () =>\r\n      (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/vpsc.worker'\r\n      )).default()\r\n  },\r\n  {\r\n    id: 'prism',\r\n    name: 'PRISM',\r\n    reference: ['gansner2010'],\r\n    lazy: async function() {\r\n      return prismAlgorithm;\r\n    },\r\n    worker: async () =>\r\n      (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/prism.worker'\r\n      )).default()\r\n  },\r\n  {\r\n    id: 'gtree',\r\n    name: 'GTREE',\r\n    reference: ['nachmanson2016'],\r\n    lazy: async function() {\r\n      return gtreeAlgorithm;\r\n    },\r\n    worker: async () =>\r\n      (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/gtree.worker'\r\n      )).default()\r\n  },\r\n  {\r\n    id: 'rwordle_l',\r\n    name: 'RWordle-L',\r\n    reference: ['strobelt2012'],\r\n    lazy: async function() {\r\n      return (await import('agora-rworldle')).RWordleLAlgorithm.algorithm;\r\n    },\r\n    worker: async () =>\r\n      (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/rwordle-l.worker'\r\n      )).default()\r\n  },\r\n  {\r\n    id: 'diamond',\r\n    name: 'Diamond',\r\n    reference: ['meulemans2019'],\r\n    lazy: async function() {\r\n      return (await import('agora-diamond')).diamondGraphRotation;\r\n    },\r\n    worker: async function() {\r\n      return (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/diamond.worker'\r\n      )).default();\r\n    }\r\n  }\r\n];\r\n\r\nfunction prismAlgorithm(graph: Graph) {\r\n  const resultnodes = (window as any).prism(graph.nodes);\r\n  // console.log(resultnodes);\r\n  for (let i = 0; i < graph.nodes.length; i++) {\r\n    const node = graph.nodes[i];\r\n    const [position, id] = resultnodes[i];\r\n    if (id !== node.index) throw Error('not matching id exception');\r\n    node.x = position.m_X;\r\n    node.y = position.m_Y;\r\n  }\r\n  return { graph };\r\n}\r\n\r\nfunction gtreeAlgorithm(graph: Graph) {\r\n  const resultnodes = (window as any).gtree(graph.nodes);\r\n  // console.log(resultnodes);\r\n  for (let i = 0; i < graph.nodes.length; i++) {\r\n    const node = graph.nodes[i];\r\n    const [position, id] = resultnodes[i];\r\n    if (id !== node.index) throw Error('not matching id exception');\r\n    node.x = position.m_X;\r\n    node.y = position.m_Y;\r\n  }\r\n  return { graph };\r\n}\r\n","import { CriterionType } from '../types';\r\n\r\nexport const defaultCriteria: CriterionType[] = [\r\n  {\r\n    id: 'oo_o',\r\n    name: 'Original',\r\n    group: 'Orthogonal Ordering',\r\n    lazy: async () =>\r\n      (await import('agora-criteria/dist/orthogonal-ordering/original'))\r\n        .default,\r\n    reference: ['misue1995']\r\n  },\r\n  {\r\n    id: 'oo_ktd',\r\n    name: \"Kendall's Tau Distance\",\r\n    group: 'Orthogonal Ordering',\r\n    lazy: async () =>\r\n      (await import(\r\n        'agora-criteria/dist/orthogonal-ordering/kendall-tau-distance'\r\n      )).default,\r\n    reference: ['huang2007']\r\n  },\r\n  {\r\n    id: 'oo_ni',\r\n    name: 'Number of Inversions',\r\n    group: 'Orthogonal Ordering',\r\n    lazy: async () =>\r\n      (await import(\r\n        'agora-criteria/dist/orthogonal-ordering/number-of-inversions'\r\n      )).default,\r\n    reference: ['strobelt2012']\r\n  },\r\n  {\r\n    id: 'oo_nni',\r\n    name: 'Normalised Number of Inversions',\r\n    group: 'Orthogonal Ordering',\r\n    lazy: async () =>\r\n      (await import(\r\n        'agora-criteria/dist/orthogonal-ordering/normalized-number-of-inversions'\r\n      )).default,\r\n    reference: ['chen2019']\r\n  },\r\n  {\r\n    id: 'sp_bb_l1ml',\r\n    name: 'L1 Length',\r\n    group: 'Spread Minimisation',\r\n    fullname: 'Spread Minimisation/Bounding Box/L1 Metric Length',\r\n    lazy: async () =>\r\n      (await import('agora-criteria/dist/spread/bounding-box/l1-metric-length'))\r\n        .default,\r\n    reference: ['li2005']\r\n  },\r\n  {\r\n    id: 'sp_bb_a',\r\n    name: 'Bounding Box Area',\r\n    group: 'Spread Minimisation',\r\n    lazy: async () =>\r\n      (await import('agora-criteria/dist/spread/bounding-box/area')).default,\r\n    reference: ['misue1995']\r\n  },\r\n  {\r\n    id: 'sp_bb_na',\r\n    name: 'Bounding Box Normalized Area',\r\n    group: 'Spread Minimisation',\r\n    lazy: async () =>\r\n      (await import('agora-criteria/dist/spread/bounding-box/normalized-area'))\r\n        .default,\r\n    reference: ['huang2007']\r\n  },\r\n  {\r\n    id: 'sp_ch_a',\r\n    name: 'Convex Hull Area',\r\n    group: 'Spread Minimisation',\r\n    lazy: async () =>\r\n      (await import('agora-criteria/dist/spread/convex-hull_area')).default,\r\n    reference: ['strobelt2012']\r\n  },\r\n  {\r\n    id: 'gs_bb_ar',\r\n    name: 'Aspect Ratio',\r\n    group: 'Global Shape Preservation',\r\n    fullname: 'Global Shape Preservation/Bounding Box/Aspect Ratio',\r\n    lazy: async () =>\r\n      (await import(\r\n        'agora-criteria/dist/global-shape/bounding-box/aspect-ratio'\r\n      )).default,\r\n    reference: ['li2005']\r\n  },\r\n  {\r\n    id: 'gs_bb_iar',\r\n    name: 'Improved Aspect Ratio',\r\n    fullname: 'Global Shape Preservation/Bounding Box/Improved Aspect Ratio',\r\n    group: 'Global Shape Preservation',\r\n    lazy: async () =>\r\n      (await import(\r\n        'agora-criteria/dist/global-shape/bounding-box/improved-aspect-ratio'\r\n      )).default,\r\n    reference: ['chen2019']\r\n  },\r\n  {\r\n    id: 'gs_ch_sd',\r\n    name: 'Standard Deviation',\r\n    fullname: 'Global Shape Preservation/Convex Hull/Standard Deviation',\r\n    group: 'Global Shape Preservation',\r\n    lazy: async () =>\r\n      (await import(\r\n        'agora-criteria/dist/global-shape/convex-hull_standard-deviation'\r\n      )).default,\r\n    reference: ['strobelt2012']\r\n  },\r\n  {\r\n    id: 'nm_mn',\r\n    name: 'Moved Nodes',\r\n    group: 'Node Movement Minimisation',\r\n    lazy: async () =>\r\n      (await import('agora-criteria/dist/node-movement/moved-nodes')).default,\r\n    reference: ['huang2007']\r\n  },\r\n  {\r\n    id: 'nm_dm_me',\r\n    name: 'Mean Euclidean',\r\n    fullname: 'Node Movement Minimisation/Distance Moved/Mean Euclidean',\r\n    group: 'Node Movement Minimisation',\r\n    lazy: async () =>\r\n      (await import(\r\n        'agora-criteria/dist/node-movement/distance-moved/mean-euclidean'\r\n      )).default,\r\n    reference: ['strobelt2012']\r\n  },\r\n  {\r\n    id: 'nm_dm_ne',\r\n    name: 'Normalised Euclidean',\r\n    fullname: 'Node Movement Minimisation/Distance Moved/Normalised Euclidean',\r\n    group: 'Node Movement Minimisation',\r\n    lazy: async () =>\r\n      (await import(\r\n        'agora-criteria/dist/node-movement/distance-moved/normalized-euclidean'\r\n      )).default,\r\n    reference: ['lyons1998']\r\n  },\r\n  {\r\n    id: 'nm_dm_h',\r\n    name: 'Hamiltonian',\r\n    fullname: 'Node Movement Minimisation/Distance Moved/Hamiltonian',\r\n    group: 'Node Movement Minimisation',\r\n    lazy: async () =>\r\n      (await import(\r\n        'agora-criteria/dist/node-movement/distance-moved/hamiltonian'\r\n      )).default,\r\n    reference: ['huang2003', 'huang2007']\r\n  },\r\n  {\r\n    id: 'nm_dm_se',\r\n    name: 'Squared Euclidean',\r\n    fullname: 'Node Movement Minimisation/Distance Moved/Squared Euclidean',\r\n    group: 'Node Movement Minimisation',\r\n    lazy: async () =>\r\n      (await import(\r\n        'agora-criteria/dist/node-movement/distance-moved/squared-euclidean'\r\n      )).default,\r\n    reference: ['marriot2003']\r\n  },\r\n  {\r\n    id: 'nm_dm_imse',\r\n    name: 'Improved Mean Squared Euclidean',\r\n    fullname:\r\n      'Node Movement Minimisation/Distance Moved/Improved Mean Squared Euclidean',\r\n    group: 'Node Movement Minimisation',\r\n    lazy: async () =>\r\n      (await import(\r\n        'agora-criteria/dist/node-movement/distance-moved/improved-mean-squared-euclidean'\r\n      )).default,\r\n    reference: ['chen2019']\r\n  },\r\n  {\r\n    id: 'nm_knn',\r\n    name: 'K-Nearest Neighbours',\r\n    group: 'Node Movement Minimisation',\r\n    lazy: async () =>\r\n      (await import('agora-criteria/dist/node-movement/k-nearest-neighbors'))\r\n        .default,\r\n    reference: ['nachmanson2016']\r\n  },\r\n  {\r\n    id: 'eb_r',\r\n    name: 'Ratio',\r\n    group: 'Edge Length Preservation',\r\n    lazy: async () =>\r\n      (await import('agora-criteria/dist/edge-based/ratio')).default,\r\n    reference: ['li2005']\r\n  },\r\n  {\r\n    id: 'e_rsdd',\r\n    name: 'Relative Standard Deviation Delaunay',\r\n    group: 'Edge Length Preservation',\r\n    lazy: async () =>\r\n      (await import(\r\n        'agora-criteria/dist/edge-based/relative-standard-deviation-delaunay'\r\n      )).default,\r\n    reference: ['gansner2010']\r\n  }\r\n];\r\n\r\nexport const defaultCriteriaSelection = {\r\n  oo_o: false,\r\n  oo_ktd: false,\r\n  oo_ni: false,\r\n  oo_nni: true,\r\n  sp_bb_l1ml: false,\r\n  sp_bb_a: false,\r\n  sp_bb_na: false,\r\n  sp_ch_a: true,\r\n  gs_bb_ar: false,\r\n  gs_bb_iar: true,\r\n  gs_ch_sd: false,\r\n  nm_mn: false,\r\n  nm_dm_me: false,\r\n  nm_dm_ne: false,\r\n  nm_dm_h: false,\r\n  nm_dm_se: false,\r\n  nm_dm_imse: true,\r\n  nm_knn: false,\r\n  eb_r: false,\r\n  e_rsdd: true\r\n};\r\n","export const defaultExamples = [\r\n  { selected: false, file: 'b124.gml' },\r\n  { selected: false, file: 'dpd.gml' },\r\n  { selected: false, file: 'NaN.gml' },\r\n  { selected: false, file: 'ngk10_4.gml' },\r\n  { selected: false, file: 'random_50_16.gml' },\r\n  { selected: false, file: 'random_100_25.gml' },\r\n  { selected: false, file: 'random_200_15.gml' },\r\n  { selected: false, file: 'rowe.gml' },\r\n  { selected: false, file: 'size.gml' },\r\n  { selected: false, file: 'unix.gml' }\r\n];\r\n","import { PayloadAction } from 'typesafe-actions';\r\nimport _ from 'lodash';\r\nimport { SelectionType } from '../types';\r\n\r\nexport const toggle = (\r\n  state: SelectionType,\r\n  { payload }: PayloadAction<string, string>\r\n) => {\r\n  if (state[payload] !== undefined) {\r\n    state[payload] = !state[payload];\r\n    return { ...state };\r\n  }\r\n  return state;\r\n};\r\n\r\nexport const set = (\r\n  state: SelectionType,\r\n  { payload: [name, value] }: PayloadAction<string, [string, boolean]>\r\n) => {\r\n  if (state[name] !== undefined) {\r\n    state[name] = value;\r\n    return { ...state };\r\n  }\r\n  return state;\r\n};\r\n\r\nexport const selectMany = (\r\n  state: SelectionType,\r\n  { payload }: PayloadAction<string, SelectionType>\r\n) => {\r\n  _.forEach(payload, (__, key) => {\r\n    if (state[key] === false) {\r\n      state[key] = true;\r\n    }\r\n  });\r\n  return { ...state };\r\n};\r\n\r\nexport const setAll = (\r\n  state: SelectionType,\r\n  { payload }: PayloadAction<string, boolean>\r\n) => {\r\n  const copy: SelectionType = {};\r\n  _.forEach(state, (__, key) => {\r\n    copy[key] = payload;\r\n  });\r\n  return copy;\r\n};\r\n","import { createReducer } from 'typesafe-actions';\r\nimport * as actions from '../actions/algorithm-selection';\r\n\r\nimport { toggle, set, selectMany, setAll } from './selection-utils';\r\nexport const algorithmSelection = createReducer({})\r\n  .handleAction(actions.toggleAlg, toggle)\r\n  .handleAction(actions.setAlg, set)\r\n  .handleAction(actions.selectManyAlg, selectMany)\r\n  .handleAction(actions.setAllAlg, setAll);\r\n\r\nexport default algorithmSelection;\r\n","import { createReducer } from 'typesafe-actions';\r\nimport { AlgorithmType } from '../types';\r\nimport { defaultAlgorithms } from '../defaults/algorithms';\r\n\r\nexport const algorithms = createReducer<AlgorithmType[]>(defaultAlgorithms);\r\nexport default algorithms;\r\n","import { createReducer } from 'typesafe-actions';\r\nimport { CriterionType } from '../types';\r\nimport { defaultCriteria } from '../defaults/criteria';\r\n\r\nexport const criteria = createReducer<CriterionType[]>(defaultCriteria);\r\nexport default criteria;\r\n","import { createReducer } from 'typesafe-actions';\r\nimport * as actions from '../actions/criteria-selection';\r\nimport { toggle, set, selectMany, setAll } from './selection-utils';\r\n\r\nexport const criteriaSelection = createReducer({})\r\n  .handleAction(actions.toggleCri, toggle)\r\n  .handleAction(actions.setCri, set)\r\n  .handleAction(actions.selectManyCri, selectMany)\r\n  .handleAction(actions.setAllCri, setAll);\r\n\r\nexport default criteriaSelection;\r\n","import { createReducer, ActionType } from 'typesafe-actions';\r\nimport { defaultExamples } from '../defaults/examples';\r\nimport { SelectableFileType } from '../types';\r\nimport * as actions from '../actions/examples-selection';\r\nexport const examples = createReducer<\r\n  SelectableFileType[],\r\n  ActionType<typeof actions>\r\n>(defaultExamples).handleAction(\r\n  actions.toggleExampleSelection,\r\n  (state, action) =>\r\n    state.map(v => {\r\n      if (v.file === action.payload) v.selected = !v.selected;\r\n      return v;\r\n    })\r\n);\r\nexport default examples;\r\n","import { createReducer, ActionType } from 'typesafe-actions';\r\nimport _ from 'lodash';\r\nimport * as actions from '../actions/file';\r\nimport { FileType } from '../types';\r\n\r\nexport const fileList = createReducer<FileType[], ActionType<typeof actions>>(\r\n  []\r\n)\r\n  .handleAction(actions.addFile, (state, action) =>\r\n    _.find(state, ['id', action.payload.id])\r\n      ? state\r\n      : [...state, action.payload]\r\n  )\r\n  .handleAction(actions.addFiles, (state, action) => [\r\n    ...state,\r\n    ...action.payload\r\n  ])\r\n  .handleAction(actions.removeFile, (state, action) =>\r\n    _.filter(state, file => file.id !== action.payload)\r\n  )\r\n  .handleAction(actions.clearFiles, () => []);\r\nexport default fileList;\r\n","import { createReducer, ActionType } from 'typesafe-actions';\r\nimport * as actions from '../actions/is-upload';\r\n\r\nexport const isUpload = createReducer<boolean, ActionType<typeof actions>>(true)\r\n  .handleAction(actions.setAsUpload, () => true)\r\n  .handleAction(actions.setAsExample, () => false);\r\nexport default isUpload;\r\n","import { createReducer } from 'typesafe-actions';\r\nimport { ReferenceType } from '../types';\r\n\r\nexport const references = createReducer<ReferenceType[]>([]);\r\nexport default references;\r\n","import { createReducer, ActionType } from 'typesafe-actions';\r\nimport _ from 'lodash';\r\nimport * as actions from '../actions/examples-files';\r\n\r\nexport const exampleFilesList = createReducer<\r\n  { id: string; data: string }[],\r\n  ActionType<typeof actions>\r\n>([])\r\n  .handleAction(actions.addExampleFile, (state, action) => {\r\n    return _.find(state, ['id', action.payload.id])\r\n      ? state\r\n      : [...state, action.payload];\r\n  })\r\n  .handleAction(actions.removeExampleFile, (state, action) =>\r\n    _.filter(state, file => file.id !== action.payload)\r\n  );\r\nexport default exampleFilesList;\r\n","import { combineReducers, createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport {\r\n  defaultAlgorithms,\r\n  defaultAlgorithmSelection\r\n} from './defaults/algorithms';\r\nimport { defaultCriteria, defaultCriteriaSelection } from './defaults/criteria';\r\nimport { defaultExamples } from './defaults/examples';\r\nimport { defaultReferences } from './defaults/references';\r\n\r\nimport algorithmSelection from './reducers/algorithm-selection';\r\nimport algorithms from './reducers/algorithms';\r\nimport criteria from './reducers/criteria';\r\nimport criteriaSelection from './reducers/criteria-selection';\r\nimport examples from './reducers/examples';\r\nimport fileList from './reducers/files';\r\nimport isUpload from './reducers/is-upload';\r\nimport references from './reducers/references';\r\nimport exampleFilesList from './reducers/example-files';\r\nimport {\r\n  AlgorithmType,\r\n  CriterionType,\r\n  FileType,\r\n  ReferenceType,\r\n  SelectionType,\r\n  SelectableFileType\r\n} from './types';\r\n\r\nexport const reducers = combineReducers({\r\n  algorithms,\r\n  algorithmSelection,\r\n  criteria,\r\n  criteriaSelection,\r\n  files: fileList,\r\n  isUpload,\r\n  references,\r\n  examples,\r\n  exampleFiles: exampleFilesList\r\n  // examples: null\r\n});\r\n\r\nexport type StateType = {\r\n  algorithms: AlgorithmType[];\r\n  algorithmSelection: SelectionType;\r\n  criteria: CriterionType[];\r\n  criteriaSelection: SelectionType;\r\n  files: FileType[];\r\n  // examples: SelectionType;\r\n  isUpload: boolean;\r\n  references: ReferenceType[];\r\n  examples: SelectableFileType[];\r\n  exampleFiles: FileType[];\r\n};\r\n\r\nexport const store = createStore(\r\n  reducers,\r\n  {\r\n    algorithms: defaultAlgorithms,\r\n    algorithmSelection: defaultAlgorithmSelection,\r\n    criteria: defaultCriteria,\r\n    criteriaSelection: defaultCriteriaSelection,\r\n    files: [],\r\n    isUpload: true,\r\n    references: defaultReferences,\r\n    examples: defaultExamples,\r\n    exampleFiles: []\r\n    // examples: { test: true }\r\n  },\r\n  applyMiddleware(thunk)\r\n);\r\n\r\nexport default store;\r\n","import { ReferenceType } from '../types';\r\n\r\nexport const defaultReferences: ReferenceType[] = [\r\n  {\r\n    id: 'misue1995',\r\n    authors: 'K. Misue, P. Eades, W. Lai, and K. Sugiyama',\r\n    title: 'Layout adjustment and the mental map',\r\n    hasIn: false,\r\n    journal: 'Journal of Visual Languages & Computing',\r\n    additional: '6(2): 83–210, 1995'\r\n  },\r\n  {\r\n    id: 'lyons1998',\r\n    authors: 'K. A. Lyons, H. Meijer, and D. Rappaport',\r\n    title: 'Algorithms for cluster busting in anchored graph drawing',\r\n    hasIn: false,\r\n    journal: 'Journal of Graph Algorithms and Applications',\r\n    additional: '2(1): 1–24, 1998'\r\n  },\r\n  {\r\n    id: 'hayashi1998',\r\n    authors: 'K. Hayashi, M. Inoue, T. Masuzawa, and H. Fujiwara',\r\n    title:\r\n      'A layout adjustment problem for disjoint rectangles preserving orthogonal order',\r\n    hasIn: true,\r\n    journal: 'Proceedings of the International Symposium on Graph Drawing (GD)',\r\n    additional: 'pages 183–197. Springer, 1998'\r\n  },\r\n  {\r\n    id: 'huang2003',\r\n    authors: 'X. Huang and W. Lai',\r\n    title:\r\n      'Force-transfer: a new approach to removing overlapping nodes in graph layout',\r\n    hasIn: true,\r\n    journal:\r\n      'Proceedings of the Australasian computer science conference - Volume 16',\r\n    additional: 'pages 349–358. Australian Computer Society, Inc., 2003'\r\n  },\r\n  {\r\n    id: 'marriot2003',\r\n    authors: 'K. Marriott, P. Stuckey, V. Tam, and W. He',\r\n    title:\r\n      'Removing node overlapping in graph layout using constrained optimization',\r\n    hasIn: false,\r\n    journal: 'Constraints',\r\n    additional: '8(2): 43–171, 2003'\r\n  },\r\n  {\r\n    id: 'li2005',\r\n    authors: 'W. Li, P. Eades, and N. Nikolov',\r\n    title: 'Using spring algorithms to remove node overlapping',\r\n    hasIn: true,\r\n    journal:\r\n      'Proceedings of the Asia-Pacific Symposium on Information Visualisation (APVis’05)',\r\n    additional: 'pages 131–140. Australian Computer Society, Inc., 2005'\r\n  },\r\n  {\r\n    id: 'dwyer2005',\r\n    authors: 'T. Dwyer, K. Marriott, and P. J. Stuckey',\r\n    title: 'Fast node overlap removal',\r\n    hasIn: true,\r\n    journal: 'Proceedings of the International Symposium on Graph Drawing (GD)',\r\n    additional: 'pages 153–164. Springer, 2005'\r\n  },\r\n  {\r\n    id: 'huang2007',\r\n    authors: 'X. Huang, W. Lai, A. Sajeev, and J. Gao',\r\n    title:\r\n      'A new algorithm for removing node overlapping in graph visualization',\r\n    hasIn: false,\r\n    journal: 'Information Sciences',\r\n    additional: '177(14): 2821–2844, 2007'\r\n  },\r\n  {\r\n    id: 'gansner2010',\r\n    authors: 'E. Gansner and Y. Hu',\r\n    title: 'Efficient, proximity-preserving node overlap removal',\r\n    hasIn: false,\r\n    journal: 'Journal of Graph Algorithms and Applications',\r\n    additional: '14(1): 53–74, 2010'\r\n  },\r\n  {\r\n    id: 'strobelt2012',\r\n    authors: 'H. Strobelt, M. Spicker, A. Stoffel, D. Keim, and O. Deussen',\r\n    title:\r\n      'Rolled-out wordles: A heuristic method for overlap removal of 2d data representatives',\r\n    hasIn: false,\r\n    journal: 'Computer Graphics Forum',\r\n    additional: '31(3): 1135–1144, 2012'\r\n  },\r\n  {\r\n    id: 'nachmanson2016',\r\n    authors: 'L. Nachmanson, A. Nocaj, S. Bereg, L. Zhang, and A. Holroyd',\r\n    title: 'Node overlap removal by growing a tree',\r\n    hasIn: true,\r\n    journal:\r\n      'Proceedings of the International Symposium on Graph Drawing and Network Visualization (GD)',\r\n    additional: 'pages 33–43. Springer, 2016'\r\n  },\r\n  {\r\n    id: 'meulemans2019',\r\n    authors: 'W. Meulemans',\r\n    title: 'Efficient optimal overlap removal',\r\n    hasIn: false,\r\n    journal: 'Computer Graphics Forum',\r\n    additional: '38(3): 713–723, 2019'\r\n  },\r\n  {\r\n    id: 'chen2019',\r\n    authors: 'F. Chen, L. Piccinini, P. Poncelet, and A. Sallaberry',\r\n    title: 'Node overlap removal algorithms: A comparative study',\r\n    hasIn: true,\r\n    journal:\r\n      'Proceedings of the International Symposium on Graph Drawing and Network Visualization (GD)',\r\n    additional: 'page to appear. Springer, 2019'\r\n  }\r\n  // TODO: SOON\r\n  // {\r\n  //   id: 'chen2020',\r\n  //   authors: 'F. Chen, L. Piccinini, P. Poncelet, and A. Sallaberry',\r\n  //   title: 'Node Overlap Removal Algorithms: An Extended Comparative Study',\r\n  //   hasIn: false,\r\n  //   journal: 'Ongoing research'\r\n  // }\r\n];\r\n","import 'react-app-polyfill/ie11';\r\nimport 'react-app-polyfill/stable';\r\n\r\nimport 'tachyons/css/tachyons.min.css';\r\nimport 'nes.css/css/nes.min.css';\r\nimport './index.css';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport Page from './pages';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Page />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}