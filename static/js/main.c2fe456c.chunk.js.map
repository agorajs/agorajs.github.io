{"version":3,"sources":["serviceWorker.ts","layout/Flex.tsx","layout/NesCheckbox.tsx","layout/NesContainer.tsx","layout/NesList.tsx","layout/NesButton.tsx","store/actions/is-upload.ts","store/selectors/selection.ts","store/selectors/isUpload.ts","store/selectors/index.ts","store/actions/algorithm-selection.ts","utils/useToggleAll.tsx","utils/useToggleCheckBox.tsx","store/selectors/references.ts","components/Cite.tsx","pages/Home/comps/AlgorithmList.tsx","pages/Home/comps/Authors.tsx","store/actions/criteria-selection.ts","pages/Home/comps/CriteriaList.tsx","pages/Home/comps/Reference.tsx","pages/Home/comps/ReferenceList.tsx","store/actions/examples-selection.ts","store/actions/examples-files.ts","pages/Home/comps/ImportSpace.tsx","store/actions/file.ts","pages/Home/comps/UploadSpace.tsx","utils/promisingFileReader.tsx","utils/useUppy.ts","pages/Home/index.tsx","pages/Result/isIE.tsx","pages/Result/hooks/useCounter.tsx","components/DownloadLink.tsx","components/DownloadLinkList.tsx","components/SVGEdge.tsx","components/SVGNode.tsx","components/SVGGraph.tsx","pages/Result/GraphContainer.tsx","pages/Result/GraphList.tsx","pages/Result/SingleResult.tsx","pages/Result/index.tsx","pages/Result/hooks/useAlgorithms.tsx","pages/Result/hooks/useCriteria.tsx","pages/Result/hooks/useDisplayable.tsx","pages/LogoLink.tsx","pages/index.tsx","store/defaults/algorithms.ts","store/defaults/criteria.ts","store/defaults/examples.ts","store/reducers/selection-utils.ts","store/reducers/algorithm-selection.ts","store/reducers/algorithms.ts","store/reducers/criteria.ts","store/reducers/criteria-selection.ts","store/reducers/examples.ts","store/reducers/files.ts","store/reducers/is-upload.ts","store/reducers/references.ts","store/reducers/example-files.ts","store/index.ts","store/defaults/references.ts","index.tsx"],"names":["Boolean","window","location","hostname","match","Flex","parent","Parent","auto","column","wrap","className","children","classnames","NesCheckbox","name","checked","onChange","type","NesContainer","title","centered","rounded","NesList","disc","circle","NesButton","primary","success","warning","error","disabled","onClick","setAsUpload","createStandardAction","setAsExample","selected","state","_","pickBy","v","map","__","k","value","allSelected","every","isUpload","algorithmSelection","getAlgorithmsWithSelection","createSelector","algorithms","algs","selections","item","id","filteredAlgorithms","filter","cri","areAllAlgorithmSelected","criteriaSelection","getCriteriaWithSelection","criteria","cris","filteredCriterias","getGroupedCriteria","groupBy","allCriteriaAreSelected","getFiles","files","getExampleFiles","exampleFiles","getExamples","examples","getFinalFiles","exs","canGenerateEmbeddings","length","toggleAlg","setAllAlg","setAlg","selectManyAlg","useToggleAll","setAll","dispatch","useDispatch","useCallback","event","target","useToggleCheckBox","toggle","getReferences","references","getReferencesWithIndex","refs","index","referencesToIndexMap","keyBy","Cite","cite","useSelector","ref","href","reduce","prev","curr","AlgorithmList","areAllAlgSelected","toggleAllAlg","selection","elements","useMemo","reference","Authors","rel","toggleCri","setCri","setAllCri","selectManyCri","CriteriaList","areAllCriSelected","toggleAllCri","criteriaGroups","style","height","group","key","Reference","number","authors","additional","hasIn","journal","ReferenceList","r","toggleExampleSelection","addExampleFile","removeExampleFile","ImportSpace","examplefiles","exampleItemClick","filename","currentTarget","getState","a","axios","get","res","data","file","classNames","addFile","addFiles","removeFile","clearFiles","configuration","restrictions","allowedFileTypes","getListeners","result","console","log","Promise","resolve","reject","fr","FileReader","onload","onerror","readAsText","then","UploadSpace","listeners","uppy","config","useState","Uppy","useEffect","forEach","on","close","useUppy","fileList","fileItemClick","Home","isUploadSelector","setUpload","setExample","generate","resultOnClick","navigate","isIE","ua","navigator","userAgent","test","useCounter","start","step","counter","setCounter","increment","c","DownloadLink","content","url","setUrl","blob","Blob","URL","createObjectURL","revokeObjectURL","download","DownloadLinkList","gml","json","svg","SVGEdge","source","x1","x","y1","y","x2","y2","SVGNode","node","width","text","label","transform","ThumbnailSVGGraph","graph","over","rest","scaler","initial","frame","scale","ratio","Math","min","createScale","d3max","nodes","d","sortBy","edges","find","xmlns","viewBox","SVGGraph","svgRef","box","EdgeList","NodeList","n","GraphContainer","SVGContent","setSVGContent","serializer","XMLSerializer","serializeToString","JSON","stringify","GraphMemo","React","memo","GraphList","current","GraphListMemo","SingleResult","nextFile","resultGraphs","setResultGraphs","useCurrentAlgorithm","algo","algoIndex","startNextAlgorithm","resultGrid","setResultGrid","total","total2","total3","i","ni","j","nj","overlap","overlapX","overlapY","abs","getAllOverlaps","overlaps","updateGrid","bulk","grid","gridCopy","criId","algoId","initialGraph","addResultsFromAlgorithm","payload","crop","toGML","criterion","graphcopy","e","algorithm","worker","results","CriteriaValue","round","CriteriaLine","resindex","Result","finalFiles","selectedAlgs","selectedCri","setAlgorithms","alglist","all","lazy","aggregator","loadAlgos","useAlgorithms","setCriteria","criList","info","load","useCriteria","displayable","setDisplayable","useDisplayable","addDisplayable","fileCounter","incrementFileCounter","toGraph","terminate","styled","maxWidth","scoped","from","to","noThrow","LogoLink","link","imageurl","alt","src","Page","path","Title","textDecoration","color","Footer","objectFit","defaultAlgorithms","default","prismAlgorithm","gtreeAlgorithm","RWordleLAlgorithm","diamondGraphRotation","resultnodes","prism","position","Error","m_X","m_Y","gtree","defaultCriteria","OrthogonalOrdering","Original","KendallTauDistance","NumberInversions","NormalizedNumberInversions","fullname","Spread","BoundingBox","L1MetricLength","Area","NormalizedArea","ConvexHull","GlobalShape","AspectRatio","ImprovedAspectRatio","StandardDeviation","NodeMovement","MovedNodes","DistanceMoved","MeanEuclidean","NormalizedEuclidean","Hamiltonian","SquaredEuclidean","ImprovedMeanSquaredEuclidean","KNearestNeighbors","EdgeBased","Ratio","RelativeStandardDeviationDelaunay","RelativeStandardDeviation","defaultExamples","undefined","set","selectMany","copy","createReducer","handleAction","actions","action","exampleFilesList","reducers","combineReducers","store","createStore","pfs","pfsp","fta","vpsc","rwordle_l","diamond","oo_o","oo_ktd","oo_ni","oo_nni","sp_bb_l1ml","sp_bb_a","sp_bb_na","sp_ch_a","gs_bb_ar","gs_bb_iar","gs_ch_sd","nm_mn","nm_dm_me","nm_dm_ne","nm_dm_h","nm_dm_se","nm_dm_imse","nm_knn","eb_r","e_rsdd","e_rsd","applyMiddleware","thunk","ReactDOM","render","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c2fe456c.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\ntype FlexProps = {\r\n  parent?: string;\r\n  auto?: boolean;\r\n  wrap?: boolean;\r\n  column?: boolean;\r\n  className?: string;\r\n};\r\n\r\nexport const Flex: React.FC<FlexProps> = ({\r\n  parent: Parent = 'div',\r\n  auto,\r\n  column,\r\n  wrap,\r\n  className,\r\n  children\r\n}) => (\r\n  // @ts-ignore\r\n  <Parent\r\n    className={classnames(className, 'flex', {\r\n      'flex-auto': auto,\r\n      'flex-column': column,\r\n      'flex-wrap': wrap\r\n    })}\r\n  >\r\n    {children}\r\n  </Parent>\r\n);\r\nexport default Flex;\r\n\r\nexport const FlexMemo: React.FC<FlexProps> = React.memo(Flex);\r\n","import React from 'react';\r\n\r\ntype NesCheckboxProps = {\r\n  name: string;\r\n  checked: boolean;\r\n  onChange: any;\r\n};\r\n\r\nexport const NesCheckbox: React.FC<NesCheckboxProps> = ({\r\n  name,\r\n  checked,\r\n  onChange,\r\n  children\r\n}) => (\r\n  <label>\r\n    <input\r\n      name={name}\r\n      type=\"checkbox\"\r\n      className=\"nes-checkbox\"\r\n      checked={checked}\r\n      onChange={onChange}\r\n    />\r\n    <span>{children || name}</span>\r\n  </label>\r\n);\r\nexport default NesCheckbox;\r\n\r\nexport const NesCheckboxMemo: React.FC<NesCheckboxProps> = React.memo(\r\n  NesCheckbox\r\n);\r\n","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\ntype NesContainerProps = {\r\n  centered?: boolean;\r\n  className?: string;\r\n  rounded?: boolean;\r\n  title?: any;\r\n};\r\n\r\nexport const NesContainer: React.FC<NesContainerProps> = ({\r\n  title,\r\n  centered,\r\n  rounded,\r\n  className,\r\n  children\r\n}) => (\r\n  <div\r\n    className={classnames('nes-container', className, {\r\n      'with-title': title,\r\n      'is-centered': centered,\r\n      'is-rounded': rounded\r\n    })}\r\n  >\r\n    {title && <p className=\"title\">{title}</p>}\r\n    {children}\r\n  </div>\r\n);\r\nexport default NesContainer;\r\n\r\nexport const NesContainerMemo: React.FC<NesContainerProps> = React.memo(\r\n  NesContainer\r\n);\r\n","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\ntype NesListProps = {\r\n  disc?: boolean;\r\n  circle?: boolean;\r\n  className?: string;\r\n};\r\n\r\nexport const NesList: React.FC<NesListProps> = ({\r\n  disc,\r\n  circle,\r\n  className,\r\n  children\r\n}) => (\r\n  <ul\r\n    className={classnames('nes-list', className, {\r\n      'is-disc': disc,\r\n      'is-circle': circle\r\n    })}\r\n  >\r\n    {children}\r\n  </ul>\r\n);\r\nexport default NesList;\r\n\r\nexport const NesListMemo: React.FC<NesListProps> = React.memo(NesList);\r\n","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\ntype NesButtonProps = {\r\n  primary?: boolean;\r\n  success?: boolean;\r\n  warning?: boolean;\r\n  error?: boolean;\r\n  disabled?: boolean;\r\n  onClick?: (event: any) => void;\r\n};\r\n\r\nexport const NesButton: React.FC<NesButtonProps> = ({\r\n  primary,\r\n  success,\r\n  warning,\r\n  error,\r\n  disabled,\r\n  children,\r\n  onClick\r\n}) => (\r\n  <button\r\n    type=\"button\"\r\n    className={classnames('nes-btn', {\r\n      'is-primary': primary,\r\n      'is-success': success,\r\n      'is-warning': warning,\r\n      'is-error': error,\r\n      'is-disabled': disabled\r\n    })}\r\n    onClick={onClick}\r\n  >\r\n    {children}\r\n  </button>\r\n);\r\nexport default NesButton;\r\n\r\nexport const NesButtonMemo: React.FC<NesButtonProps> = React.memo(NesButton);\r\n","import { createStandardAction } from 'typesafe-actions';\r\n\r\nconst IS_UPLOAD = 'is-upload/TRUE';\r\nconst IS_EXAMPLE = 'is-upload/FALSE';\r\n\r\nexport const setAsUpload = createStandardAction(IS_UPLOAD)();\r\nexport const setAsExample = createStandardAction(IS_EXAMPLE)();\r\n","import _ from 'lodash';\r\nimport { SelectionType } from '../types';\r\n\r\nexport const selected = (state: SelectionType) =>\r\n  _(state)\r\n    .pickBy(v => v)\r\n    .map((__, k) => k)\r\n    .value();\r\nexport const allSelected = (state: SelectionType) =>\r\n  _.every(state, v => v === true);\r\n","import { StateType } from '..';\r\nexport const isUpload = (state: StateType) => state.isUpload;\r\n","import { selected, allSelected } from './selection';\r\nimport { createSelector } from 'reselect';\r\nimport { StateType } from '..';\r\nimport _ from 'lodash';\r\nimport { isUpload } from './isUpload';\r\n\r\nexport const getAlgorithms = (state: StateType) => state.algorithms;\r\nexport const algorithmSelection = (state: StateType) =>\r\n  state.algorithmSelection;\r\n\r\nexport const getAlgorithmsWithSelection = createSelector(\r\n  getAlgorithms,\r\n  algorithmSelection,\r\n  (algs, selections) =>\r\n    _.map(algs, item => ({ ...item, selected: selections[item.id] || false }))\r\n);\r\n\r\nexport const filteredAlgorithms = createSelector(\r\n  getAlgorithmsWithSelection,\r\n  algs => _.filter(algs, cri => cri.selected)\r\n);\r\n\r\nexport const areAllAlgorithmSelected = createSelector(\r\n  algorithmSelection,\r\n  allSelected\r\n);\r\n\r\nexport const selectedAlgorithms = createSelector(\r\n  algorithmSelection,\r\n  selected\r\n);\r\n\r\nexport const getCriteria = (state: StateType) => state.criteria;\r\n\r\nexport const criteriaSelection = (state: StateType) => state.criteriaSelection;\r\nexport const getCriteriaWithSelection = createSelector(\r\n  getCriteria,\r\n  criteriaSelection,\r\n  (cris, selections) =>\r\n    _.map(cris, item => ({ ...item, selected: selections[item.id] || false }))\r\n);\r\n\r\nexport const filteredCriterias = createSelector(\r\n  getCriteriaWithSelection,\r\n  cris => _.filter(cris, cri => cri.selected)\r\n);\r\n\r\nexport const getGroupedCriteria = createSelector(\r\n  getCriteriaWithSelection,\r\n  cri => _.groupBy(cri, 'group')\r\n);\r\n\r\nexport const allCriteriaAreSelected = createSelector(\r\n  criteriaSelection,\r\n  allSelected\r\n);\r\nexport const selectedCriteria = createSelector(\r\n  criteriaSelection,\r\n  selected\r\n);\r\n\r\nexport const getFiles = (state: StateType) => state.files;\r\n\r\nexport const getExampleFiles = (state: StateType) => state.exampleFiles;\r\nexport const getExamples = (state: StateType) => state.examples;\r\nexport const getSelectedExamples = createSelector(\r\n  getExamples,\r\n  exs => _.filter(exs, 'selected')\r\n);\r\n\r\nexport const getFinalFiles = createSelector(\r\n  getFiles,\r\n  getExampleFiles,\r\n  isUpload,\r\n  (files, examples, isUpload) => (isUpload ? files : examples)\r\n);\r\n\r\nexport const canGenerateEmbeddings = createSelector(\r\n  getFiles,\r\n  getExampleFiles,\r\n  isUpload,\r\n  (files, examples, isUpload) =>\r\n    isUpload ? files.length > 0 : examples.length > 0\r\n);\r\n","import { createStandardAction } from 'typesafe-actions';\r\nimport { SelectionType } from '../types';\r\n\r\nconst ALG_TOGGLE = 'algorithm-selection/TOGGLE';\r\nconst ALG_SET = 'algorithm-selection/SET';\r\nconst ALG_SELECT_MANY = 'algorithm-selection/SELECT_MANY';\r\nconst SET_ALL = 'algorithm-selection/SET_ALL';\r\n\r\nexport const toggleAlg = createStandardAction(ALG_TOGGLE)<string>();\r\nexport const setAllAlg = createStandardAction(SET_ALL)<boolean>();\r\nexport const setAlg = createStandardAction(ALG_SET)<[string, boolean]>();\r\nexport const selectManyAlg = createStandardAction(ALG_SELECT_MANY)<\r\n  SelectionType\r\n>();\r\n","import { useCallback, ChangeEvent } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { PayloadAC } from 'typesafe-actions';\r\n\r\nexport function useToggleAll(setAll: PayloadAC<string, boolean>) {\r\n  const dispatch = useDispatch();\r\n  return useCallback(\r\n    (event: ChangeEvent<HTMLInputElement>) => {\r\n      dispatch(setAll(event.target.checked));\r\n    },\r\n    [dispatch, setAll]\r\n  );\r\n}\r\nexport default useToggleAll;\r\n","import { useCallback, ChangeEvent } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { PayloadAC } from 'typesafe-actions';\r\n\r\nexport function useToggleCheckBox(toggle: PayloadAC<string, string>) {\r\n  const dispatch = useDispatch();\r\n  return useCallback(\r\n    (event: ChangeEvent<HTMLInputElement>) => {\r\n      dispatch(toggle(event.target.name));\r\n    },\r\n    [dispatch, toggle]\r\n  );\r\n}\r\n\r\nexport default useToggleCheckBox;\r\n","import { createSelector } from 'reselect';\r\nimport { StateType } from '..';\r\nimport _ from 'lodash';\r\nexport const getReferences = (state: StateType) => state.references;\r\nexport const getReferencesWithIndex = createSelector(\r\n  getReferences,\r\n  refs => _.map(refs, (v, index) => ({ ...v, index: index + 1 }))\r\n);\r\nexport const referencesToIndexMap = createSelector(\r\n  getReferencesWithIndex,\r\n  refs => _.keyBy(refs, 'id')\r\n);\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { referencesToIndexMap } from '../store/selectors/references';\r\n\r\ntype CiteProps = {\r\n  cite: string[];\r\n};\r\n\r\nexport const Cite: React.FC<CiteProps> = function({ cite }) {\r\n  const references = useSelector(referencesToIndexMap);\r\n\r\n  return (\r\n    <>\r\n      [\r\n      {cite\r\n        .map<React.ReactNode>(ref => (\r\n          <a key={ref} href={'#ref:' + ref}>\r\n            {references[ref].index}\r\n          </a>\r\n        ))\r\n        .reduce((prev, curr) => [prev, ',', curr])}\r\n      ]\r\n    </>\r\n  );\r\n};\r\nexport default Cite;\r\n\r\nexport const CiteMemo: React.FC<CiteProps> = React.memo(Cite);\r\n","import React, { useMemo } from 'react';\r\nimport _ from 'lodash';\r\nimport { useSelector } from 'react-redux';\r\nimport {\r\n  areAllAlgorithmSelected,\r\n  getAlgorithmsWithSelection\r\n} from '../../../store/selectors';\r\nimport {\r\n  toggleAlg,\r\n  setAllAlg\r\n} from '../../../store/actions/algorithm-selection';\r\nimport { NesContainer, NesCheckbox, Flex } from '../../../layout';\r\nimport useToggleAll from '../../../utils/useToggleAll';\r\nimport useToggleCheckBox from '../../../utils/useToggleCheckBox';\r\nimport Cite from '../../../components/Cite';\r\n\r\nexport const AlgorithmList: React.FC<{\r\n  className?: string;\r\n}> = function({ className }) {\r\n  const areAllAlgSelected = useSelector(areAllAlgorithmSelected);\r\n  const toggleAllAlg = useToggleAll(setAllAlg);\r\n\r\n  const selection = useSelector(getAlgorithmsWithSelection);\r\n  const toggle = useToggleCheckBox(toggleAlg);\r\n\r\n  const title = (\r\n    <NesCheckbox\r\n      name=\"Algorithms\"\r\n      checked={areAllAlgSelected}\r\n      onChange={toggleAllAlg}\r\n    />\r\n  );\r\n\r\n  const elements = useMemo(\r\n    () =>\r\n      _.map(selection, ({ selected, id, name, reference: ref }) => {\r\n        return (\r\n          <NesCheckbox key={id} name={id} checked={selected} onChange={toggle}>\r\n            {name} {ref && <Cite cite={ref} />}\r\n          </NesCheckbox>\r\n        );\r\n      }),\r\n    [selection, toggle]\r\n  );\r\n\r\n  // const half_length = Math.ceil(elements.length / 2);\r\n\r\n  return (\r\n    <NesContainer centered className={className} title={title}>\r\n      <Flex column className=\"items-start\">\r\n        {elements}\r\n      </Flex>\r\n    </NesContainer>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { NesContainer } from '../../../layout';\r\n\r\nexport const Authors: React.FC<{ className?: string }> = ({ className }) => (\r\n  <section id=\"authors\" className={className}>\r\n    <NesContainer rounded>\r\n      <p>\r\n        <a href=\"https://github.com/agorajs\">Agorajs library</a>\r\n      </p>\r\n      <p>\r\n        Node overlap removal algorithms: an extended comparative study.\r\n        <br />\r\n        <span className=\"code\">\r\n          F. Chen &lt;fati.chen@lirmm.fr&gt;, L. Piccinini,\r\n          <br /> P. Poncelet, A. Sallaberry.\r\n          <br />\r\n          <a\r\n            href=\"http://jgaa.info/accepted/2020/532.pdf\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            Journal of Graph Algorithms and Applications,\r\n            <br /> Vol. 24, no. 4, pp. 683-706, 2020. Regular paper.\r\n          </a>\r\n        </span>\r\n      </p>\r\n    </NesContainer>\r\n  </section>\r\n);\r\nexport default Authors;\r\n\r\nexport const AuthorsMemo: React.FC<{ className?: string }> = React.memo(\r\n  Authors\r\n);\r\n","import { createStandardAction } from 'typesafe-actions';\r\nimport { SelectionType } from '../types';\r\n\r\nconst CRI_TOGGLE = 'criteria-selection/TOGGLE';\r\nconst CRI_SELECT = 'criteria-selection/SET';\r\nconst CRI_SELECT_MANY = 'criteria-selection/SELECT_MANY';\r\nconst CRI_SET_ALL = 'criteria-selection/SET_ALL';\r\n\r\nexport const toggleCri = createStandardAction(CRI_TOGGLE)<string>();\r\n\r\nexport const setCri = createStandardAction(CRI_SELECT)<[string, boolean]>();\r\n\r\nexport const setAllCri = createStandardAction(CRI_SET_ALL)<boolean>();\r\n\r\nexport const selectManyCri = createStandardAction(CRI_SELECT_MANY)<\r\n  SelectionType\r\n>();\r\n","import _ from 'lodash';\r\nimport React from 'react';\r\n\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { Flex, NesCheckbox, NesContainer } from '../../../layout';\r\nimport {\r\n  setAllCri,\r\n  toggleCri\r\n} from '../../../store/actions/criteria-selection';\r\nimport {\r\n  allCriteriaAreSelected,\r\n  getGroupedCriteria\r\n} from '../../../store/selectors';\r\n\r\nimport useToggleAll from '../../../utils/useToggleAll';\r\nimport useToggleCheckBox from '../../../utils/useToggleCheckBox';\r\nimport Cite from '../../../components/Cite';\r\n\r\nexport const CriteriaList: React.FC<{\r\n  className?: string;\r\n}> = function({ className }) {\r\n  const areAllCriSelected = useSelector(allCriteriaAreSelected);\r\n  const toggleAllCri = useToggleAll(setAllCri);\r\n\r\n  const criteriaGroups = useSelector(getGroupedCriteria);\r\n  const toggle = useToggleCheckBox(toggleCri);\r\n\r\n  const title = (\r\n    <NesCheckbox\r\n      name=\"Criteria\"\r\n      checked={areAllCriSelected}\r\n      onChange={toggleAllCri}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <NesContainer centered className={className} title={title}>\r\n      <Flex column className=\"items-start tl\">\r\n        <div className=\"overflow-auto w-100\" style={{ height: '300px' }}>\r\n          {_.map(criteriaGroups, (group, key) => {\r\n            return (\r\n              <div key={key} className=\"group mb1\">\r\n                <p className=\"nes-text is-primary\">{key}</p>\r\n                <Flex column className=\"childrens ml4 code\">\r\n                  {_.map(group, ({ id, name, selected, reference: ref }) => (\r\n                    <NesCheckbox\r\n                      key={id}\r\n                      name={id}\r\n                      checked={selected}\r\n                      onChange={toggle}\r\n                    >\r\n                      {name + ' '}\r\n                      {ref && <Cite cite={ref} />}\r\n                    </NesCheckbox>\r\n                  ))}\r\n                </Flex>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </Flex>\r\n    </NesContainer>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { ReferenceType } from '../../../store/types';\r\n\r\nexport const Reference: React.FC<ReferenceType & { number: number }> = ({\r\n  id,\r\n  number,\r\n  authors,\r\n  title,\r\n  additional,\r\n  hasIn,\r\n  journal,\r\n  children\r\n}) => (\r\n  <p id={'ref:' + id} className=\"code\">\r\n    <b>[{number}]</b> {authors}.{' '}\r\n    <span className=\"nes-text is-primary\">{title}.</span> {hasIn && 'In '}\r\n    <i>{journal}</i>\r\n    {additional && ', ' + additional}.{children}\r\n  </p>\r\n);\r\nexport default Reference;\r\n\r\nexport const ReferenceMemo: React.FC<\r\n  ReferenceType & { number: number }\r\n> = React.memo(Reference);\r\n","import React from 'react';\r\nimport { Reference } from './Reference';\r\nimport { useSelector } from 'react-redux';\r\nimport { getReferences } from '../../../store/selectors/references';\r\n\r\nexport const ReferenceList: React.FC<{\r\n  className?: string;\r\n}> = ({ className }) => {\r\n  const references = useSelector(getReferences);\r\n  return (\r\n    <section id=\"references\" className={className}>\r\n      <h3>References</h3>\r\n      <div className=\"tl\">\r\n        {references.map((r, index) => (\r\n          <Reference key={r.id} {...r} number={index + 1} />\r\n        ))}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\nexport default ReferenceList;\r\n\r\nexport const ReferenceListMemo: React.FC<{\r\n  className?: string;\r\n}> = React.memo(ReferenceList);\r\n","import { createStandardAction } from 'typesafe-actions';\r\n\r\nconst EXAMPLE_TOGGLE = 'examples-selection/TOGGLE';\r\n\r\nexport const toggleExampleSelection = createStandardAction(EXAMPLE_TOGGLE)<\r\n  string\r\n>();\r\n","import axios from 'axios';\r\nimport { createStandardAction } from 'typesafe-actions';\r\nimport { ExampleFileType } from '../types';\r\nimport { toggleExampleSelection } from './examples-selection';\r\nimport { StateType } from '..';\r\nimport _ from 'lodash';\r\n\r\nconst EXAMPLE_FILE_ADD = 'example-file/ADD';\r\nconst EXAMPLE_FILE_REMOVE = 'example-file/REMOVE';\r\n\r\nexport const addExampleFile = createStandardAction(EXAMPLE_FILE_ADD)<\r\n  ExampleFileType\r\n>();\r\n\r\nexport const removeExampleFile = createStandardAction(EXAMPLE_FILE_REMOVE)<\r\n  string\r\n>();\r\n\r\nexport const downloadThenToggleExampleSelection = function(filename: string) {\r\n  return async function(dispatch: any, getState: () => StateType) {\r\n    if (_.filter(getState().exampleFiles, v => v.id === filename).length > 0) {\r\n      dispatch(removeExampleFile(filename));\r\n    } else {\r\n      const res = await axios.get('dataset/' + filename);\r\n\r\n      dispatch(\r\n        addExampleFile({ id: filename, name: filename, data: res.data })\r\n      );\r\n    }\r\n\r\n    dispatch(toggleExampleSelection(filename));\r\n  };\r\n};\r\n","import classNames from 'classnames';\r\nimport _ from 'lodash';\r\nimport React, { MouseEvent, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { NesList } from '../../../layout';\r\nimport { getExamples } from '../../../store/selectors';\r\nimport { downloadThenToggleExampleSelection } from '../../../store/actions/examples-files';\r\n\r\nexport const ImportSpace: React.FC = function() {\r\n  const dispatch = useDispatch();\r\n  const examplefiles = useSelector(getExamples);\r\n  // const selectedExampleFiles = useSelector(getSelectedExamples);\r\n  const exampleItemClick = useCallback(\r\n    (event: MouseEvent) => {\r\n      dispatch(downloadThenToggleExampleSelection(event.currentTarget.id));\r\n    },\r\n    [dispatch]\r\n  );\r\n  return (\r\n    // <>\r\n    <div className=\"w-100\">\r\n      <h3>Select Files</h3>\r\n      <NesList disc className=\"overflow-y-scroll h5 mb0 tl w-100 code\">\r\n        {_.map(examplefiles, ({ selected, file }) => (\r\n          <li\r\n            key={file}\r\n            id={file}\r\n            className={classNames('f6', 'mr1', 'color-inherit', 'pointer', {\r\n              'hover-success ': !selected,\r\n              'is-success': selected,\r\n              'nes-text': selected\r\n            })}\r\n            onClick={exampleItemClick}\r\n          >\r\n            <div className=\"mr1 truncate\">{file}</div>\r\n          </li>\r\n        ))}\r\n      </NesList>\r\n    </div>\r\n    //   <div className=\"w-100 w-50-l\">\r\n    //     <h3>Selected</h3>\r\n    //     <NesList\r\n    //       disc\r\n    //       className=\"overflow-y-scroll h5 mb0 tl w-100 code\"\r\n    //     >\r\n    //       {_(selectedExampleFiles)\r\n    //         .map(({ selected, file }) => (\r\n    //           <li\r\n    //             key={file}\r\n    //             id={file}\r\n    //             className={classNames(\r\n    //               'f6',\r\n    //               'mr1',\r\n    //               'color-inherit',\r\n    //               'hover-error ',\r\n    //               'pointer',\r\n    //               {\r\n    //                 'is-success': selected,\r\n    //                 'nes-text': selected\r\n    //               }\r\n    //             )}\r\n    //             onClick={exampleItemClick}\r\n    //           >\r\n    //             <div className=\"mr1 truncate\">{file}</div>\r\n    //           </li>\r\n    //         ))\r\n    //         .value()}\r\n    //     </NesList>\r\n    //   </div>\r\n    // </>\r\n  );\r\n};\r\n","import { createStandardAction } from 'typesafe-actions';\r\nimport { FileType } from '../types';\r\n\r\nconst FILE_ADD = 'file/ADD';\r\nconst FILES_ADD = 'file/ADD_MANY';\r\nconst FILE_REMOVE = 'file/REMOVE';\r\nconst FILE_CLEAR = 'file/CLEAR';\r\n\r\nexport const addFile = createStandardAction(FILE_ADD)<FileType>();\r\nexport const addFiles = createStandardAction(FILES_ADD)<FileType[]>();\r\n\r\nexport const removeFile = createStandardAction(FILE_REMOVE)<string>();\r\n\r\nexport const clearFiles = createStandardAction(FILE_CLEAR)();\r\n","import { UppyFile } from '@uppy/core';\r\nimport { DragDrop } from '@uppy/react';\r\nimport _ from 'lodash';\r\nimport React, { MouseEvent, useCallback, Dispatch, useMemo } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Flex, NesList } from '../../../layout';\r\nimport { addFile, removeFile } from '../../../store/actions/file';\r\nimport { getFiles } from '../../../store/selectors';\r\nimport useUppy from '../../../utils/useUppy';\r\nimport { promisingFileReader } from '../../../utils/promisingFileReader';\r\n\r\nconst configuration = { restrictions: { allowedFileTypes: ['.gml'] } };\r\n\r\nconst getListeners: (\r\n  dispatch: Dispatch<any>\r\n) => {\r\n  [k: string]: (result: UppyFile, ...rest: any[]) => any;\r\n} = dispatch => ({\r\n  'file-added': result => {\r\n    console.log(result);\r\n    const { id, data } = result;\r\n    promisingFileReader(data as File).then(res =>\r\n      dispatch(addFile({ id, data: res, name: (data as File).name }))\r\n    );\r\n  },\r\n  'restriction-failed': (__, error) => {\r\n    console.log(error);\r\n  }\r\n});\r\n\r\nexport const UploadSpace: React.FC = function() {\r\n  const dispatch = useDispatch();\r\n  const listeners = useMemo(() => getListeners(dispatch), [dispatch]);\r\n  const uppy = useUppy(configuration, listeners);\r\n\r\n  const fileList = useSelector(getFiles);\r\n\r\n  const fileItemClick = useCallback(\r\n    (event: MouseEvent) => {\r\n      dispatch(removeFile(event.currentTarget.id));\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  return (\r\n    <Flex className=\"w-100\">\r\n      <div className=\"w-100\">\r\n        <h3 className=\"tc\">Upload</h3>\r\n        {\r\n          //@ts-ignore\r\n          <DragDrop uppy={uppy} height=\"256px\" />\r\n        }\r\n      </div>\r\n      {fileList.length > 0 && (\r\n        <div className=\"tl\">\r\n          <h3 className=\"tc\">&nbsp;</h3>\r\n          <NesList\r\n            disc\r\n            className=\"overflow-y-scroll h5 mb0 w5 hover-success code\"\r\n          >\r\n            {_.map(fileList, ({ id, name }) => (\r\n              <li\r\n                key={id}\r\n                id={id}\r\n                className=\"f6 mr1 hover-error color-inherit pointer\"\r\n                onClick={fileItemClick}\r\n              >\r\n                <div className=\"mr1 truncate\">{name}</div>\r\n              </li>\r\n            ))}\r\n          </NesList>\r\n        </div>\r\n      )}\r\n    </Flex>\r\n  );\r\n};\r\n","//eslint-disable-next-line\r\nexport function promisingFileReader(file: File | Blob): Promise<string> {\r\n  return new Promise((resolve, reject) => {\r\n    const fr = new FileReader();\r\n    fr.onload = () => resolve(fr.result as string);\r\n    fr.onerror = reject;\r\n    fr.readAsText(file);\r\n  });\r\n}\r\n","import Uppy, { UppyFile } from '@uppy/core';\r\nimport _ from 'lodash';\r\n\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function useUppy(\r\n  config: object,\r\n  listeners: {\r\n    [k: string]: (result: UppyFile, ...rest: any[]) => any;\r\n  }\r\n) {\r\n  const [uppy] = useState(() => Uppy(config));\r\n  \r\n  useEffect(() => {\r\n    _.forEach(listeners, (item, key) => uppy.on(key, item));\r\n    return () => uppy.close();\r\n  }, [listeners, uppy]);\r\n\r\n  return uppy;\r\n}\r\n","import { RouteComponentProps, navigate } from '@reach/router';\r\nimport '@uppy/core/dist/style.css';\r\nimport '@uppy/dashboard/dist/style.css';\r\nimport '@uppy/drag-drop/dist/style.css';\r\nimport React, { MouseEvent, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Flex, NesButton } from '../../layout';\r\nimport { setAsExample, setAsUpload } from '../../store/actions/is-upload';\r\nimport {\r\n  canGenerateEmbeddings // getSelectedExamples\r\n} from '../../store/selectors';\r\nimport { isUpload as isUploadSelector } from '../../store/selectors/isUpload';\r\nimport { AlgorithmList } from './comps/AlgorithmList';\r\nimport Authors from './comps/Authors';\r\nimport { CriteriaList } from './comps/CriteriaList';\r\nimport './index.css';\r\nimport { ReferenceList } from './comps/ReferenceList';\r\nimport { ImportSpace } from './comps/ImportSpace';\r\nimport { UploadSpace } from './comps/UploadSpace';\r\n\r\nconst Home: React.FC<RouteComponentProps> = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const isUpload = useSelector(isUploadSelector);\r\n\r\n  const setUpload = useCallback(() => dispatch(setAsUpload()), [dispatch]);\r\n  const setExample = useCallback(() => dispatch(setAsExample()), [dispatch]);\r\n\r\n  const generate = useSelector(canGenerateEmbeddings);\r\n\r\n  const resultOnClick = useCallback(\r\n    (event: MouseEvent) => {\r\n      generate && navigate('result');\r\n    },\r\n    [generate]\r\n  );\r\n\r\n  return (\r\n    <div className=\"mw8-ml center\">\r\n      <div className=\"mh1 mh3-m mh0-l\">\r\n        <Authors className=\"center mw7 mv3\" />\r\n        <Flex parent=\"section\" className=\"flex-column flex-row-l mv3\">\r\n          <Flex className=\"flex-row flex-column-l w-100 item-stretch pa3 justify-around w5-l\">\r\n            <NesButton primary={isUpload} onClick={setUpload}>\r\n              <div className=\"\">Upload Files</div>\r\n            </NesButton>\r\n            <NesButton primary={!isUpload} onClick={setExample}>\r\n              <div className=\"\">Examples</div>\r\n            </NesButton>\r\n          </Flex>\r\n\r\n          {isUpload ? <UploadSpace /> : <ImportSpace />}\r\n        </Flex>\r\n        <div className=\"mv3\">\r\n          <NesButton\r\n            primary={generate}\r\n            disabled={!generate}\r\n            onClick={resultOnClick}\r\n          >\r\n            <div className=\"pa3\"> Generate Overlapping-free Embeddings</div>\r\n          </NesButton>\r\n        </div>\r\n        <Flex wrap>\r\n          <div className=\"w-100 w-50-l mb3 mb0-l\">\r\n            <AlgorithmList className=\"h-100 ma2\" />\r\n          </div>\r\n          <div className=\"w-100 w-50-l\">\r\n            <CriteriaList className=\"h-100 pr0 ma2\" />\r\n          </div>\r\n        </Flex>\r\n        <ReferenceList className=\"mv3\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","export const isIE = (function() {\r\n  var ua = window.navigator.userAgent;\r\n  var isIE = /MSIE|Trident/.test(ua);\r\n  return isIE;\r\n})();\r\n","import { useState, Dispatch, SetStateAction, useMemo } from 'react';\r\n\r\nexport const useCounter = function(\r\n  start: number,\r\n  step: number = 1\r\n): [number, () => void, Dispatch<SetStateAction<number>>] {\r\n  const [counter, setCounter] = useState(start);\r\n  const increment = useMemo(() => () => setCounter(c => (c! || 0) + step), [\r\n    step\r\n  ]);\r\n  return [counter, increment, setCounter];\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nexport const DownloadLink: React.FC<{\r\n  content: string;\r\n  name: string;\r\n}> = function ({ content, name, children }) {\r\n  const [url, setUrl] = useState<string>();\r\n\r\n  useEffect(() => {\r\n    var blob = new Blob([content], { type: 'plain/text' });\r\n    (blob as any).name = blob;\r\n    const url = URL.createObjectURL(blob);\r\n\r\n    setUrl(url);\r\n    // cleanup on unmount\r\n    return () => URL.revokeObjectURL(url);\r\n  }, [name, content]);\r\n\r\n  // TODO suspense update\r\n  return url ? (\r\n    <a href={url} download={name} className=\"bw1 ba mr1 no-underline\">\r\n      {children ? children : name}\r\n    </a>\r\n  ) : null;\r\n};\r\n\r\nexport default DownloadLink;\r\n","import React from 'react';\r\nimport DownloadLink from './DownloadLink';\r\n\r\nexport const DownloadLinkList: React.FC<{\r\n  name: string;\r\n  gml?: string;\r\n  json: string;\r\n  svg?: string | null;\r\n}> = function({ name, gml, json, svg }) {\r\n  return (\r\n    <div className=\"f7\">\r\n      {gml ? (\r\n        <DownloadLink content={gml} name={name + '.gml'}>\r\n          GML\r\n        </DownloadLink>\r\n      ) : null}\r\n      <DownloadLink content={json} name={name + '.json'}>\r\n        JSON\r\n      </DownloadLink>\r\n      {svg ? (\r\n        <DownloadLink content={svg} name={name + '.svg'}>\r\n          SVG\r\n        </DownloadLink>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DownloadLinkList;\r\n","import React from 'react';\r\nimport { Node } from 'agora-graph';\r\n\r\nexport const SVGEdge: React.FC<{ source: Node; target: Node }> = function({\r\n  source,\r\n  target\r\n}) {\r\n  return (\r\n    <line\r\n      className=\"link\"\r\n      x1={source.x}\r\n      y1={source.y}\r\n      x2={target.x}\r\n      y2={target.y}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SVGEdge;\r\n","import React from 'react';\r\nimport { Node } from 'agora-graph';\r\n\r\nexport const SVGNode: React.FC<{ node: Node }> = function({\r\n  node: { x, y, height, width, index, label }\r\n}) {\r\n  let text = label || index;\r\n  if (text === 'undefined') text = index;\r\n  return (\r\n    <g className=\"node\" transform={`translate(${x},${y})`}>\r\n      <rect\r\n        className=\"rect\"\r\n        width={width}\r\n        height={height}\r\n        transform={`translate(${-width / 2},${-height / 2})`}\r\n      />\r\n      {/* <text className=\"label\" transform=\"translate(-5,6)\">\r\n        {label !== 'undefined' ? label || index : index}\r\n      </text> */}\r\n    </g>\r\n  );\r\n};\r\n\r\nexport default SVGNode;\r\n","import React, { SVGProps } from 'react';\r\nimport _ from 'lodash';\r\nimport { max as d3max } from 'd3-array';\r\nimport { Graph, Node, Box } from 'agora-graph';\r\nimport EdgeComp from './SVGEdge';\r\nimport NodeComp from './SVGNode';\r\n\r\nexport type ThumbnailSVGGraphType = {\r\n  graph: Graph;\r\n  over?: boolean;\r\n  width: number;\r\n  height: number;\r\n} & SVGProps<SVGSVGElement>;\r\n\r\nexport type SVGGraphType = {\r\n  graph: Graph;\r\n  over?: boolean;\r\n  svgRef?: any;\r\n} & SVGProps<SVGSVGElement>;\r\n\r\nexport const SVGGraph: React.FC<SVGGraphType> = function({\r\n  graph,\r\n  over = false,\r\n  svgRef,\r\n  ...rest\r\n}) {\r\n  const box = {\r\n    width: d3max(graph.nodes, d => d.x + d.width / 2) || 0,\r\n    height: d3max(graph.nodes, d => d.y + d.height / 2) || 0\r\n  };\r\n\r\n  const nodes = _(graph.nodes)\r\n    .map<Node>(node => ({ ...node }))\r\n    .sortBy('index')\r\n    .value();\r\n\r\n  const edges: [string, Node, Node][] = graph.edges.map<[string, Node, Node]>(\r\n    ({ source, target }) => [\r\n      source + ':' + target,\r\n      _.find(nodes, { index: source })!,\r\n      _.find(nodes, { index: target })!\r\n    ]\r\n  );\r\n\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width={box.width}\r\n      height={box.height}\r\n      viewBox={`-5,-5,${box.width + 10},${box.height + 10}`}\r\n      {...rest}\r\n      ref={svgRef}\r\n    >\r\n      <style>{`\r\n      .edges { \r\n        stroke: #878fff;\r\n        stroke-width: 2px;\r\n      }\r\n\r\n      .rect {\r\n        stroke: #000;\r\n        fill: #eee;\r\n      }\r\n      `}</style>\r\n      <EdgeList edges={edges} />\r\n      <NodeList nodes={nodes} />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport const ThumbnailSVGGraph: React.FC<ThumbnailSVGGraphType> = function({\r\n  graph,\r\n  over = false,\r\n  width,\r\n  height,\r\n  ...rest\r\n}) {\r\n  const box = {\r\n    width: d3max(graph.nodes, d => d.x + d.width / 2) || 0,\r\n    height: d3max(graph.nodes, d => d.y + d.height / 2) || 0\r\n  };\r\n\r\n  const scaler = createScale(box, { width: width!, height: height! });\r\n\r\n  const nodes = _(graph.nodes)\r\n    .map<Node>(({ width, height, x, y, ...rest }) => ({\r\n      ...rest,\r\n      width: scaler(width),\r\n      height: scaler(height),\r\n      x: scaler(x),\r\n      y: scaler(y)\r\n    }))\r\n    .sortBy('index')\r\n    .value();\r\n\r\n  const edges: [string, Node, Node][] = graph.edges.map<[string, Node, Node]>(\r\n    ({ source, target }) => [\r\n      source + ':' + target,\r\n      _.find(nodes, { index: source })!,\r\n      _.find(nodes, { index: target })!\r\n    ]\r\n  );\r\n\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width={width}\r\n      height={height}\r\n      viewBox={`-5,-5,${width + 10},${height + 10}`}\r\n      {...rest}\r\n    >\r\n      <style>{`\r\n      .edges { \r\n        stroke: #878fff;\r\n        stroke-width: 2px;\r\n      }\r\n\r\n      .rect {\r\n        stroke: #000;\r\n        fill: #eee;\r\n      }\r\n      `}</style>\r\n      {/* <g className=\"nodes\">\r\n        {nodes.map(n => (\r\n          <NodeComp key={n.index} node={n}></NodeComp>\r\n        ))}\r\n      </g> */}\r\n      {/* {over ? (\r\n        <>\r\n          <NodeList nodes={nodes} />\r\n          <EdgeList edges={edges} />\r\n        </>\r\n      ) : (\r\n\r\n      )} */}\r\n      <EdgeList edges={edges} />\r\n      <NodeList nodes={nodes} />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default SVGGraph;\r\n\r\nconst EdgeList: React.FC<{ edges: [string, Node, Node][] }> = function({\r\n  edges\r\n}) {\r\n  return (\r\n    <g className=\"edges\">\r\n      {edges.map(([key, source, target]) => (\r\n        <EdgeComp key={key} source={source} target={target} />\r\n      ))}\r\n    </g>\r\n  );\r\n};\r\n\r\nconst NodeList: React.FC<{ nodes: Node[] }> = function({ nodes }) {\r\n  return (\r\n    <g className=\"nodes\">\r\n      {nodes.map(n => (\r\n        <NodeComp key={n.index} node={n}></NodeComp>\r\n      ))}\r\n    </g>\r\n  );\r\n};\r\n\r\n/**\r\n *\r\n * @param initial\r\n * @param frame\r\n *\r\n * @returns function which converts the coordinate for the projection\r\n */\r\nexport function createScale(initial: Box, frame: Box): (ref: number) => number {\r\n  const scale: any = function(initial: number) {\r\n    return scale.ratio * initial;\r\n  };\r\n\r\n  scale.ratio = Math.min(\r\n    frame.width / initial.width,\r\n    frame.height / initial.height\r\n  );\r\n\r\n  return scale;\r\n}\r\n","import React, { useState, useCallback } from 'react';\r\nimport { Flex } from '../../layout';\r\nimport DownloadLinkList from '../../components/DownloadLinkList';\r\nimport SVGGraph, { ThumbnailSVGGraph } from '../../components/SVGGraph';\r\nimport { Graph } from 'agora-graph';\r\n\r\nconst GraphContainer: React.FC<{\r\n  name: string | any;\r\n  graph: Graph;\r\n  gml?: string;\r\n}> = ({ name, graph, gml }) => {\r\n  const [SVGContent, setSVGContent] = useState<string | null>(null);\r\n  const svgRef = useCallback(svgRef => {\r\n    if (svgRef) {\r\n      const serializer = new XMLSerializer();\r\n      setSVGContent(serializer.serializeToString(svgRef));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"mh1 fixed-width\" style={{ height: '150px' }}>\r\n      <Flex column wrap className=\"items-stretch\">\r\n        <h3 className=\"nowrap\">{name}</h3>\r\n        <DownloadLinkList\r\n          name={name}\r\n          json={JSON.stringify(graph)}\r\n          gml={gml}\r\n          svg={SVGContent}\r\n        />\r\n        <div className=\"graph mt1\">\r\n          <ThumbnailSVGGraph graph={graph} width={90} height={88} />\r\n          <div className=\"dn\">\r\n            <SVGGraph graph={graph} svgRef={svgRef} />\r\n          </div>\r\n        </div>\r\n      </Flex>\r\n    </div>\r\n  );\r\n};\r\nexport const GraphMemo = React.memo(GraphContainer);\r\nexport default GraphMemo;\r\n","import _ from 'lodash';\r\nimport React from 'react';\r\nimport { Flex } from '../../layout';\r\nimport { GraphMemo } from './GraphContainer';\r\nimport { GraphResultProps, GraphProps } from './SingleResult';\r\n\r\nexport const GraphList: React.FC<{\r\n  initial?: GraphProps;\r\n  current?: GraphResultProps[] | { [k: string]: GraphResultProps };\r\n}> = ({ initial, current }) => (\r\n  <article>\r\n    <Flex wrap className=\"justify-center justify-start-ml\">\r\n      <div className=\"ml128-ml\">\r\n        {initial && (\r\n          <GraphMemo name=\"Initial\" graph={initial.graph} gml={initial.gml} />\r\n        )}\r\n      </div>\r\n      {current &&\r\n        _.map(current, ({ id, name, graph, gml }) => (\r\n          <GraphMemo key={id} name={name} graph={graph} gml={gml} />\r\n        ))}\r\n    </Flex>\r\n  </article>\r\n);\r\n\r\nexport const GraphListMemo = React.memo(GraphList);\r\nexport default GraphListMemo;\r\n","import {\r\n  Graph,\r\n  round,\r\n  crop,\r\n  Result,\r\n  overlap,\r\n  getAllOverlaps,\r\n  overlapX,\r\n  overlapY\r\n} from 'agora-graph';\r\nimport _ from 'lodash';\r\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\r\n\r\nimport GraphList from './GraphList';\r\nimport { useCounter } from './hooks/useCounter';\r\nimport { toGML } from 'agora-gml';\r\nimport { isIE } from './isIE';\r\nimport { LoadedAlg } from './hooks/useAlgorithms';\r\n\r\nexport type GraphProps = {\r\n  graph: Graph;\r\n  gml?: string;\r\n};\r\nexport type CriType = {\r\n  id: string;\r\n  name: string;\r\n  group: string;\r\n  criterion: (\r\n    initial: Graph,\r\n    updated: Graph\r\n  ) => {\r\n    value: number;\r\n  };\r\n};\r\n\r\nexport type GraphResultProps = GraphProps & {\r\n  name: string;\r\n  id: string;\r\n};\r\n\r\ntype SingleResultProps = {\r\n  name: string;\r\n  initial: { graph: Graph; gml?: string };\r\n  algorithms: LoadedAlg[];\r\n  criteria: CriType[];\r\n  nextFile: () => void;\r\n};\r\n\r\ntype GridCriteriaAlgorithm = {\r\n  [k: string]: { [k: string]: number };\r\n};\r\n\r\nconst useCurrentAlgorithm = function(\r\n  algorithms: LoadedAlg[]\r\n): [LoadedAlg, number, () => void] {\r\n  const [counter, increment] = useCounter(0);\r\n\r\n  const currentAlgorithm = useMemo(() => algorithms[counter], [\r\n    counter,\r\n    algorithms\r\n  ]);\r\n\r\n  return [currentAlgorithm, counter, increment];\r\n};\r\n\r\nexport const SingleResult: React.FC<SingleResultProps> = React.memo(function({\r\n  initial,\r\n  name,\r\n  algorithms,\r\n  criteria,\r\n  nextFile\r\n}) {\r\n  const [resultGraphs, setResultGraphs] = useState<{\r\n    [k: string]: GraphResultProps;\r\n  }>({});\r\n\r\n  // const [currentAlgorithmComputed, startNextAlgorithm] = useCounter(0);\r\n  const [algo, algoIndex, startNextAlgorithm] = useCurrentAlgorithm(algorithms);\r\n\r\n  const [resultGrid, setResultGrid] = useState<GridCriteriaAlgorithm>({});\r\n\r\n  const [overlaps] = useState(() => {\r\n    const nodes = initial.graph.nodes;\r\n    let total = 0;\r\n    let total2 = 0;\r\n    let total3 = 0;\r\n\r\n    for (let i = 0; i < nodes.length; i++) {\r\n      const ni = nodes[i];\r\n      for (let j = i + 1; j < nodes.length; j++) {\r\n        const nj = nodes[j];\r\n\r\n        if (overlap(ni, nj)) total++;\r\n        if (overlapX(ni, nj) && overlapY(ni, nj)) total2++;\r\n        if (\r\n          Math.abs(ni.x - nj.x) < (ni.width + nj.width) / 2 &&\r\n          Math.abs(ni.y - nj.y) < (ni.height + nj.height) / 2\r\n        )\r\n          total3++;\r\n      }\r\n    }\r\n    console.log(total);\r\n    console.log(total2);\r\n    console.log(total3);\r\n    console.log(getAllOverlaps(initial.graph.nodes).length);\r\n    return total;\r\n  });\r\n  const updateGrid = useCallback((bulk: any[]) => {\r\n    setResultGrid(function(grid) {\r\n      const gridCopy = { ...grid };\r\n      for (const { criId, algoId, value } of bulk) {\r\n        (gridCopy[criId] || (gridCopy[criId] = {}))[algoId] = value;\r\n      }\r\n      return gridCopy;\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const initialGraph = initial.graph;\r\n\r\n    const addResultsFromAlgorithm = function({ graph }: Result) {\r\n      const payload = {\r\n        graph: crop(graph),\r\n        gml: toGML(graph),\r\n        name: algo.name,\r\n        id: algo.id\r\n      };\r\n      setResultGraphs(v => ({ ...v, [algo.id]: payload }));\r\n\r\n      const bulk = _.map(criteria, ({ id, criterion }) => ({\r\n        criId: id,\r\n        algoId: algo.id,\r\n        value: criterion(initialGraph, payload.graph).value\r\n      }));\r\n      updateGrid(bulk);\r\n\r\n      if (algoIndex !== algorithms.length - 1) {\r\n        startNextAlgorithm();\r\n      } else {\r\n        nextFile();\r\n      }\r\n    };\r\n\r\n    if (isIE) {\r\n      const graphcopy = {\r\n        nodes: initialGraph.nodes.map(n => ({ ...n })),\r\n        edges: initialGraph.edges.map(e => ({ ...e }))\r\n      };\r\n      addResultsFromAlgorithm(algo.algorithm!(graphcopy));\r\n    } else {\r\n      // no need to copy since it's passed to a web worker\r\n      algo.worker!.algorithm(initialGraph).then(addResultsFromAlgorithm);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [algo]);\r\n\r\n  return (\r\n    <section className=\"mv3\">\r\n      <h2>\r\n        {name} <small>overlaps : {overlaps}</small>\r\n      </h2>\r\n      <GraphList initial={initial} current={resultGraphs} />\r\n      <article className=\"criteria\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"table-design tbth-min-w236-ml ttdh-w108-ml table-fixed-ml\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"tc\">Criterias</th>\r\n                {_.map(algorithms, ({ id, name }) => (\r\n                  <th key={id} className=\"nowrap\">\r\n                    {name}\r\n                  </th>\r\n                ))}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {useMemo(\r\n                () =>\r\n                  _.map(criteria, ({ id, name }) => {\r\n                    return (\r\n                      <CriteriaLine\r\n                        key={id}\r\n                        name={name}\r\n                        results={resultGrid[id]}\r\n                      />\r\n                    );\r\n                  }),\r\n                [criteria, resultGrid]\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </article>\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default SingleResult;\r\n\r\nconst CriteriaValue: React.FC<{ index: string; value: number }> = ({\r\n  index,\r\n  value\r\n}) => <td key={index}>{round(value, -4)}</td>;\r\n\r\nconst CriteriaLine: React.FC<Pick<CriType, 'name'> & {\r\n  results: { [k: string]: number };\r\n}> = ({ name, results }) => {\r\n  return (\r\n    <tr className=\"striped--near-white\">\r\n      <th>{name}</th>\r\n      {results &&\r\n        _.map(results, (value, resindex) => (\r\n          <CriteriaValue key={resindex} value={value} index={resindex} />\r\n        ))}\r\n    </tr>\r\n  );\r\n};\r\n","import { Redirect, RouteComponentProps } from '@reach/router';\r\nimport { toGraph } from 'agora-gml';\r\nimport { crop } from 'agora-graph';\r\nimport _ from 'lodash';\r\nimport React, { useEffect, useMemo } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport {\r\n  filteredAlgorithms,\r\n  filteredCriterias,\r\n  getFinalFiles\r\n} from '../../store/selectors';\r\nimport { useAlgorithms } from './hooks/useAlgorithms';\r\nimport { useCounter } from './hooks/useCounter';\r\nimport { useCriteria } from './hooks/useCriteria';\r\nimport { useDisplayable } from './hooks/useDisplayable';\r\n\r\nimport './index.css';\r\nimport SingleResult from './SingleResult';\r\nimport { isIE } from './isIE';\r\n\r\nexport const Result: React.FC<RouteComponentProps> = function() {\r\n  const finalFiles = useSelector(getFinalFiles);\r\n  const selectedAlgs = useSelector(filteredAlgorithms);\r\n  const selectedCri = useSelector(filteredCriterias);\r\n\r\n  // loading algorithms\r\n  const algorithms = useAlgorithms(selectedAlgs);\r\n\r\n  // finished loading algs, loading criteria\r\n  const criteria = useCriteria(selectedCri);\r\n\r\n  // displaying more and more :)\r\n  const [displayable, addDisplayable] = useDisplayable();\r\n\r\n  const [fileCounter, incrementFileCounter] = useCounter(-1);\r\n\r\n  // criterias and algorithms have been loaded\r\n  useEffect(() => {\r\n    if (algorithms && criteria) {\r\n      incrementFileCounter();\r\n    }\r\n  }, [algorithms, criteria, incrementFileCounter]);\r\n\r\n  // big loop\r\n  useEffect(() => {\r\n    // ignoring init :)\r\n    if (fileCounter > -1) {\r\n      if (fileCounter !== finalFiles.length) {\r\n        const file = finalFiles[fileCounter];\r\n        const graph = crop(toGraph(file.data));\r\n\r\n        addDisplayable({ file, initial: { graph, gml: file.data } });\r\n      } else {\r\n        if (!isIE) for (const alg of algorithms!) alg.worker!.terminate();\r\n        // wipe workers\r\n      }\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [fileCounter]);\r\n\r\n  const styled = useMemo(() => {\r\n    let maxWidth = 128 + 98; // initial graph alignment\r\n    // each algorithm\r\n    maxWidth += 98 * (algorithms ? algorithms.length : 0);\r\n    return (\r\n      <style scoped>\r\n        {`\r\n/* browser sidebar correction */\r\n@media (min-width: ${maxWidth + 30}px) {\r\n.justify-start-ml{\r\n  justify-content: start;\r\n}\r\n.mw8-ml {\r\nmax-width: ${maxWidth}px;\r\n}\r\n\r\n.tbth-min-w236-ml tbody th {\r\nmin-width: 226px;\r\n}\r\n\r\n.ttdh-w108-ml td,\r\n.ttdh-w108-ml th {\r\nwidth: 98px;\r\n}\r\n\r\n.ml128-ml {\r\nmargin-left: 128px;\r\n}\r\n\r\n.table-fixed-ml {\r\ntable-layout: fixed;\r\nwidth: auto;\r\n}\r\n}`}\r\n      </style>\r\n    );\r\n  }, [algorithms]);\r\n\r\n  if (finalFiles.length === 0) {\r\n    return <Redirect from=\"\" to=\"/\" noThrow />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {styled}\r\n      <div className=\"mw8-ml center tl mh3 code\">\r\n        {_.map(displayable, ({ file: { id, name }, initial }) => (\r\n          <SingleResult\r\n            key={id}\r\n            name={name}\r\n            initial={initial}\r\n            algorithms={algorithms!}\r\n            criteria={criteria!}\r\n            nextFile={incrementFileCounter}\r\n          />\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Result;\r\n","import { useState, useEffect } from 'react';\r\nimport _ from 'lodash';\r\nimport { isIE } from '../isIE';\r\nimport { Graph, Function, Result } from 'agora-graph';\r\n\r\nexport type AlgMeta = {\r\n  selected: boolean;\r\n  id: string;\r\n  name: string;\r\n  reference?: string[];\r\n  lazy: () => Promise<Function<any>>;\r\n  worker: () => Promise<any>;\r\n};\r\n\r\nexport type LoadedAlg = {\r\n  selected: boolean;\r\n  id: string;\r\n  name: string;\r\n  reference?: string[];\r\n  algorithm?: Function<any>;\r\n  worker?: {\r\n    algorithm: (graph: Graph) => Promise<Result>;\r\n    terminate: () => void;\r\n  };\r\n};\r\n\r\nexport function useAlgorithms(selectedAlgs: AlgMeta[]) {\r\n  const [algorithms, setAlgorithms] = useState<LoadedAlg[]>();\r\n  useEffect(() => {\r\n    const loadAlgos = async (alglist: AlgMeta[]) => {\r\n      console.log('algorithms loading start');\r\n      const aggregator = await Promise.all(\r\n        _.map(alglist, async ({ worker, lazy, ...algo }) => {\r\n          if (isIE) {\r\n            return {\r\n              ...algo,\r\n              algorithm: await lazy()\r\n            };\r\n          }\r\n\r\n          return {\r\n            ...algo,\r\n            worker: await worker()\r\n          };\r\n        })\r\n      );\r\n      setAlgorithms(aggregator);\r\n      console.log('algorithms loading finish');\r\n    };\r\n    loadAlgos(selectedAlgs);\r\n  }, [selectedAlgs]);\r\n  return algorithms;\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { CriterionType } from '../../../store/types';\r\nimport _ from 'lodash';\r\nimport { CriType } from '../SingleResult';\r\n\r\nexport function useCriteria(selectedCri: CriterionType[]) {\r\n  const [criteria, setCriteria] = useState<CriType[]>();\r\n  useEffect(() => {\r\n    const load = async (criList: CriterionType[]) => {\r\n      console.log('criteria loading start');\r\n      const aggregator = await Promise.all(\r\n        _.map(criList, async ({ lazy, ...info }) => ({\r\n          ...info,\r\n          criterion: (await lazy()).criteria\r\n        }))\r\n      );\r\n      setCriteria(aggregator);\r\n      console.log('criteria loading finish');\r\n      // finished loading cri, parsing first file\r\n    };\r\n    load(selectedCri);\r\n  }, [selectedCri]);\r\n  return criteria;\r\n}\r\n","import { useMemo, useState } from 'react';\r\nimport { FileType } from '../../../store/types';\r\nimport { GraphProps } from '../SingleResult';\r\n\r\ntype DisplayableProps = {\r\n  file: FileType;\r\n  initial: GraphProps;\r\n};\r\n\r\nexport const useDisplayable = function(): [\r\n  DisplayableProps[],\r\n  (file: DisplayableProps) => void\r\n] {\r\n  const [displayable, setDisplayable] = useState<DisplayableProps[]>([]);\r\n  const addDisplayable = useMemo(\r\n    () => (file: DisplayableProps) => setDisplayable(d => [...d, file]),\r\n    []\r\n  );\r\n  return [displayable, addDisplayable];\r\n};\r\n","import React from 'react';\r\nexport const LogoLink: React.FC<{\r\n  link: string;\r\n  imageurl: string;\r\n  alt: string;\r\n}> = ({ link, imageurl, alt }) => {\r\n  return (\r\n    <a href={link} target=\"_blank\" rel=\"noopener noreferrer\">\r\n      <img height=\"64px\" src={imageurl} alt={alt} />\r\n    </a>\r\n  );\r\n};\r\nexport default LogoLink;\r\n\r\nexport const LogoLinkMemo: React.FC<{\r\n  link: string;\r\n  imageurl: string;\r\n  alt: string;\r\n}> = React.memo(LogoLink);\r\n","import React from 'react';\r\nimport { Router, Link } from '@reach/router';\r\nimport Home from './Home';\r\nimport Result from './Result';\r\nimport { Flex } from '../layout';\r\n\r\nimport LogoLink from './LogoLink';\r\n\r\nconst Page: React.FC = function () {\r\n  return (\r\n    <div className=\"mt4 tc\">\r\n      <Title />\r\n      <Router>\r\n        <Home path=\"/\" />\r\n        <Result path=\"/result\" />\r\n      </Router>\r\n      <Footer className=\"justify-around pv3 mw8 center\" />\r\n    </div>\r\n  );\r\n};\r\nexport default Page;\r\n\r\nconst Title: React.FC = () => (\r\n  <header>\r\n    <Link to=\"/\" style={{ textDecoration: 'none', color: 'inherit' }}>\r\n      <h1 className=\"lh-title tc\">AGORA</h1>\r\n    </Link>\r\n  </header>\r\n);\r\n\r\nconst Footer: React.FC<{ className: string }> = function ({ className }) {\r\n  return (\r\n    <footer>\r\n      <Flex className={className}>\r\n        <LogoLink\r\n          link=\"https://www.lirmm.fr/\"\r\n          imageurl=\"lirmm.png\"\r\n          alt=\"LIRMM\"\r\n        />\r\n        <LogoLink\r\n          link=\"https://www.univ-montp3.fr/\"\r\n          imageurl=\"um3.png\"\r\n          alt=\"UM3\"\r\n        />\r\n        <LogoLink\r\n          link=\"https://www.umontpellier.fr/\"\r\n          imageurl=\"um.png\"\r\n          alt=\"UM\"\r\n        />\r\n        <LogoLink link=\"https://www.cnrs.fr/\" imageurl=\"cnrs.png\" alt=\"CNRS\" />\r\n        <LogoLink\r\n          link=\"https://anr.fr/Projet-ANR-17-CE38-0013\"\r\n          imageurl=\"anr.jpg\"\r\n          alt=\"ANR\"\r\n        />\r\n      </Flex>\r\n      <Flex className=\"justify-center pv3 mw6 center\">\r\n        <a\r\n          href=\"https://anr.fr/Projet-ANR-17-CE38-0013\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          <img\r\n            style={{\r\n              objectFit: 'scale-down',\r\n              width: 'auto',\r\n              height: 'auto',\r\n            }}\r\n            src=\"./anr-long.png\"\r\n            alt=\"Logo Agence Nationale de la Recherche\"\r\n          />\r\n        </a>\r\n        <p className=\"code\">\r\n          This research has been funded by a national French grant (\r\n          <a\r\n            href=\"https://anr.fr/Projet-ANR-17-CE38-0013\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            ANR Daphne 17-CE28-0013-01\r\n          </a>\r\n          ).\r\n        </p>\r\n      </Flex>\r\n    </footer>\r\n  );\r\n};\r\n","import { AlgorithmType } from '../types';\r\nimport { Graph } from 'agora-graph';\r\n\r\nexport const defaultAlgorithmSelection = {\r\n  scale: true,\r\n  pfs: true,\r\n  pfsp: true,\r\n  fta: true,\r\n  vpsc: true,\r\n  prism: true,\r\n  gtree: true,\r\n  rwordle_l: true,\r\n  diamond: true\r\n};\r\n\r\nexport const defaultAlgorithms: AlgorithmType[] = [\r\n  {\r\n    id: 'scale',\r\n    name: 'SCALE',\r\n    lazy: async function() {\r\n      return (await import('agora-scaling')).default.algorithm;\r\n    },\r\n    worker: async () =>\r\n      (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/scale.worker'\r\n      )).default()\r\n  },\r\n  {\r\n    id: 'pfs',\r\n    name: 'PFS',\r\n    reference: ['misue1995'],\r\n    lazy: async function() {\r\n      return (await import('agora-pfs')).default.algorithm;\r\n    },\r\n    worker: async () =>\r\n      (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/pfs.worker'\r\n      )).default()\r\n  },\r\n  {\r\n    id: 'pfsp',\r\n    name: \"PFS'\",\r\n    reference: ['hayashi1998'],\r\n    lazy: async function() {\r\n      return (await import('agora-pfsp')).default.algorithm;\r\n    },\r\n    worker: async () =>\r\n      (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/pfsp.worker'\r\n      )).default()\r\n  },\r\n  {\r\n    id: 'fta',\r\n    name: 'FTA',\r\n    reference: ['huang2007'],\r\n    lazy: async function() {\r\n      return (await import('agora-fta')).default.algorithm;\r\n    },\r\n    worker: async () =>\r\n      (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/fta.worker'\r\n      )).default()\r\n  },\r\n  {\r\n    id: 'vpsc',\r\n    name: 'VPSC',\r\n    reference: ['dwyer2005'],\r\n    lazy: async function() {\r\n      return (await import('agora-vpsc')).default.algorithm;\r\n    },\r\n    worker: async () =>\r\n      (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/vpsc.worker'\r\n      )).default()\r\n  },\r\n  {\r\n    id: 'prism',\r\n    name: 'PRISM',\r\n    reference: ['gansner2010'],\r\n    lazy: async function() {\r\n      return prismAlgorithm;\r\n    },\r\n    worker: async () =>\r\n      (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/prism.worker'\r\n      )).default()\r\n  },\r\n  {\r\n    id: 'gtree',\r\n    name: 'GTREE',\r\n    reference: ['nachmanson2016'],\r\n    lazy: async function() {\r\n      return gtreeAlgorithm;\r\n    },\r\n    worker: async () =>\r\n      (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/gtree.worker'\r\n      )).default()\r\n  },\r\n  {\r\n    id: 'rwordle_l',\r\n    name: 'RWordle-L',\r\n    reference: ['strobelt2012'],\r\n    lazy: async function() {\r\n      return (await import('agora-rworldle')).RWordleLAlgorithm.algorithm;\r\n    },\r\n    worker: async () =>\r\n      (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/rwordle-l.worker'\r\n      )).default()\r\n  },\r\n  {\r\n    id: 'diamond',\r\n    name: 'Diamond',\r\n    reference: ['meulemans2019'],\r\n    lazy: async function() {\r\n      return (await import('agora-diamond')).diamondGraphRotation;\r\n    },\r\n    worker: async function() {\r\n      return (await import(\r\n        // @ts-ignore TS2307\r\n        'workerize-loader!../../workers/diamond.worker'\r\n      )).default();\r\n    }\r\n  }\r\n];\r\n\r\nfunction prismAlgorithm(graph: Graph) {\r\n  const resultnodes = (window as any).prism(graph.nodes);\r\n  // console.log(resultnodes);\r\n  for (let i = 0; i < graph.nodes.length; i++) {\r\n    const node = graph.nodes[i];\r\n    const [position, id] = resultnodes[i];\r\n    if (id !== node.index) throw Error('not matching id exception');\r\n    node.x = position.m_X;\r\n    node.y = position.m_Y;\r\n  }\r\n  return { graph };\r\n}\r\n\r\nfunction gtreeAlgorithm(graph: Graph) {\r\n  const resultnodes = (window as any).gtree(graph.nodes);\r\n  // console.log(resultnodes);\r\n  for (let i = 0; i < graph.nodes.length; i++) {\r\n    const node = graph.nodes[i];\r\n    const [position, id] = resultnodes[i];\r\n    if (id !== node.index) throw Error('not matching id exception');\r\n    node.x = position.m_X;\r\n    node.y = position.m_Y;\r\n  }\r\n  return { graph };\r\n}\r\n","import { CriterionType } from '../types';\r\nimport {\r\n  OrthogonalOrdering,\r\n  Spread,\r\n  GlobalShape,\r\n  NodeMovement,\r\n  EdgeBased,\r\n} from 'agora-criteria';\r\n\r\nexport const defaultCriteria: CriterionType[] = [\r\n  {\r\n    id: 'oo_o',\r\n    name: 'Original',\r\n    group: 'Orthogonal Ordering',\r\n    lazy: async () => OrthogonalOrdering.Original,\r\n    reference: ['misue1995'],\r\n  },\r\n  {\r\n    id: 'oo_ktd',\r\n    name: \"Kendall's Tau Distance\",\r\n    group: 'Orthogonal Ordering',\r\n    lazy: async () => OrthogonalOrdering.KendallTauDistance,\r\n    reference: ['huang2007'],\r\n  },\r\n  {\r\n    id: 'oo_ni',\r\n    name: 'Number of Inversions',\r\n    group: 'Orthogonal Ordering',\r\n    lazy: async () => OrthogonalOrdering.NumberInversions,\r\n    reference: ['strobelt2012'],\r\n  },\r\n  {\r\n    id: 'oo_nni',\r\n    name: 'Normalised Number of Inversions',\r\n    group: 'Orthogonal Ordering',\r\n    lazy: async () => OrthogonalOrdering.NormalizedNumberInversions,\r\n    reference: ['chen2019'],\r\n  },\r\n  {\r\n    id: 'sp_bb_l1ml',\r\n    name: 'L1 Length',\r\n    group: 'Spread Minimisation',\r\n    fullname: 'Spread Minimisation/Bounding Box/L1 Metric Length',\r\n    lazy: async () => Spread.BoundingBox.L1MetricLength,\r\n    reference: ['li2005'],\r\n  },\r\n  {\r\n    id: 'sp_bb_a',\r\n    name: 'Bounding Box Area',\r\n    group: 'Spread Minimisation',\r\n    lazy: async () => Spread.BoundingBox.Area,\r\n    reference: ['misue1995'],\r\n  },\r\n  {\r\n    id: 'sp_bb_na',\r\n    name: 'Bounding Box Normalized Area',\r\n    group: 'Spread Minimisation',\r\n    lazy: async () => Spread.BoundingBox.NormalizedArea,\r\n    reference: ['huang2007'],\r\n  },\r\n  {\r\n    id: 'sp_ch_a',\r\n    name: 'Convex Hull Area',\r\n    group: 'Spread Minimisation',\r\n    lazy: async () => Spread.ConvexHull.Area,\r\n    reference: ['strobelt2012'],\r\n  },\r\n  {\r\n    id: 'gs_bb_ar',\r\n    name: 'Aspect Ratio',\r\n    group: 'Global Shape Preservation',\r\n    fullname: 'Global Shape Preservation/Bounding Box/Aspect Ratio',\r\n    lazy: async () => GlobalShape.BoundingBox.AspectRatio,\r\n    reference: ['li2005'],\r\n  },\r\n  {\r\n    id: 'gs_bb_iar',\r\n    name: 'Improved Aspect Ratio',\r\n    fullname: 'Global Shape Preservation/Bounding Box/Improved Aspect Ratio',\r\n    group: 'Global Shape Preservation',\r\n    lazy: async () => GlobalShape.BoundingBox.ImprovedAspectRatio,\r\n    reference: ['chen2019'],\r\n  },\r\n  {\r\n    id: 'gs_ch_sd',\r\n    name: 'Standard Deviation',\r\n    fullname: 'Global Shape Preservation/Convex Hull/Standard Deviation',\r\n    group: 'Global Shape Preservation',\r\n    lazy: async () => GlobalShape.ConvexHull.StandardDeviation,\r\n    reference: ['strobelt2012'],\r\n  },\r\n  {\r\n    id: 'nm_mn',\r\n    name: 'Moved Nodes',\r\n    group: 'Node Movement Minimisation',\r\n    lazy: async () => NodeMovement.MovedNodes,\r\n    reference: ['huang2007'],\r\n  },\r\n  {\r\n    id: 'nm_dm_me',\r\n    name: 'Mean Euclidean',\r\n    fullname: 'Node Movement Minimisation/Distance Moved/Mean Euclidean',\r\n    group: 'Node Movement Minimisation',\r\n    lazy: async () => NodeMovement.DistanceMoved.MeanEuclidean,\r\n    reference: ['strobelt2012'],\r\n  },\r\n  {\r\n    id: 'nm_dm_ne',\r\n    name: 'Normalised Euclidean',\r\n    fullname: 'Node Movement Minimisation/Distance Moved/Normalised Euclidean',\r\n    group: 'Node Movement Minimisation',\r\n    lazy: async () => NodeMovement.DistanceMoved.NormalizedEuclidean,\r\n    reference: ['lyons1998'],\r\n  },\r\n  {\r\n    id: 'nm_dm_h',\r\n    name: 'Hamiltonian',\r\n    fullname: 'Node Movement Minimisation/Distance Moved/Hamiltonian',\r\n    group: 'Node Movement Minimisation',\r\n    lazy: async () => NodeMovement.DistanceMoved.Hamiltonian,\r\n    reference: ['huang2003', 'huang2007'],\r\n  },\r\n  {\r\n    id: 'nm_dm_se',\r\n    name: 'Squared Euclidean',\r\n    fullname: 'Node Movement Minimisation/Distance Moved/Squared Euclidean',\r\n    group: 'Node Movement Minimisation',\r\n    lazy: async () => NodeMovement.DistanceMoved.SquaredEuclidean,\r\n    reference: ['marriot2003'],\r\n  },\r\n  {\r\n    id: 'nm_dm_imse',\r\n    name: 'Improved Mean Squared Euclidean',\r\n    fullname:\r\n      'Node Movement Minimisation/Distance Moved/Improved Mean Squared Euclidean',\r\n    group: 'Node Movement Minimisation',\r\n    lazy: async () => NodeMovement.DistanceMoved.ImprovedMeanSquaredEuclidean,\r\n    reference: ['chen2019'],\r\n  },\r\n  {\r\n    id: 'nm_knn',\r\n    name: 'K-Nearest Neighbours',\r\n    group: 'Node Movement Minimisation',\r\n    lazy: async () => NodeMovement.KNearestNeighbors.default,\r\n    reference: ['nachmanson2016'],\r\n  },\r\n  {\r\n    id: 'eb_r',\r\n    name: 'Ratio',\r\n    group: 'Edge Length Preservation',\r\n    lazy: async () => EdgeBased.Ratio,\r\n    reference: ['li2005'],\r\n  },\r\n  {\r\n    id: 'e_rsdd',\r\n    name: 'Relative Standard Deviation Delaunay',\r\n    group: 'Edge Length Preservation',\r\n    lazy: async () => EdgeBased.RelativeStandardDeviationDelaunay,\r\n    reference: ['gansner2010'],\r\n  },\r\n  {\r\n    id: 'e_rsd',\r\n    name: 'Relative Standard Deviation',\r\n    group: 'Edge Length Preservation',\r\n    lazy: async () => EdgeBased.RelativeStandardDeviation,\r\n    reference: ['chen2019'],\r\n  },\r\n];\r\n\r\nexport const defaultCriteriaSelection = {\r\n  oo_o: false,\r\n  oo_ktd: false,\r\n  oo_ni: false,\r\n  oo_nni: true,\r\n  sp_bb_l1ml: false,\r\n  sp_bb_a: false,\r\n  sp_bb_na: false,\r\n  sp_ch_a: true,\r\n  gs_bb_ar: false,\r\n  gs_bb_iar: true,\r\n  gs_ch_sd: false,\r\n  nm_mn: false,\r\n  nm_dm_me: false,\r\n  nm_dm_ne: false,\r\n  nm_dm_h: false,\r\n  nm_dm_se: false,\r\n  nm_dm_imse: true,\r\n  nm_knn: false,\r\n  eb_r: false,\r\n  e_rsdd: false,\r\n  e_rsd: true,\r\n};\r\n","export const defaultExamples = [\r\n  { selected: false, file: 'b124.gml' },\r\n  { selected: false, file: 'dpd.gml' },\r\n  { selected: false, file: 'NaN.gml' },\r\n  { selected: false, file: 'ngk10_4.gml' },\r\n  { selected: false, file: 'random_50_16.gml' },\r\n  { selected: false, file: 'random_100_25.gml' },\r\n  { selected: false, file: 'random_200_15.gml' },\r\n  { selected: false, file: 'rowe.gml' },\r\n  { selected: false, file: 'size.gml' },\r\n  { selected: false, file: 'unix.gml' }\r\n];\r\n","import { PayloadAction } from 'typesafe-actions';\r\nimport _ from 'lodash';\r\nimport { SelectionType } from '../types';\r\n\r\nexport const toggle = (\r\n  state: SelectionType,\r\n  { payload }: PayloadAction<string, string>\r\n) => {\r\n  if (state[payload] !== undefined) {\r\n    state[payload] = !state[payload];\r\n    return { ...state };\r\n  }\r\n  return state;\r\n};\r\n\r\nexport const set = (\r\n  state: SelectionType,\r\n  { payload: [name, value] }: PayloadAction<string, [string, boolean]>\r\n) => {\r\n  if (state[name] !== undefined) {\r\n    state[name] = value;\r\n    return { ...state };\r\n  }\r\n  return state;\r\n};\r\n\r\nexport const selectMany = (\r\n  state: SelectionType,\r\n  { payload }: PayloadAction<string, SelectionType>\r\n) => {\r\n  _.forEach(payload, (__, key) => {\r\n    if (state[key] === false) {\r\n      state[key] = true;\r\n    }\r\n  });\r\n  return { ...state };\r\n};\r\n\r\nexport const setAll = (\r\n  state: SelectionType,\r\n  { payload }: PayloadAction<string, boolean>\r\n) => {\r\n  const copy: SelectionType = {};\r\n  _.forEach(state, (__, key) => {\r\n    copy[key] = payload;\r\n  });\r\n  return copy;\r\n};\r\n","import { createReducer } from 'typesafe-actions';\r\nimport * as actions from '../actions/algorithm-selection';\r\n\r\nimport { toggle, set, selectMany, setAll } from './selection-utils';\r\nexport const algorithmSelection = createReducer({})\r\n  .handleAction(actions.toggleAlg, toggle)\r\n  .handleAction(actions.setAlg, set)\r\n  .handleAction(actions.selectManyAlg, selectMany)\r\n  .handleAction(actions.setAllAlg, setAll);\r\n\r\nexport default algorithmSelection;\r\n","import { createReducer } from 'typesafe-actions';\r\nimport { AlgorithmType } from '../types';\r\nimport { defaultAlgorithms } from '../defaults/algorithms';\r\n\r\nexport const algorithms = createReducer<AlgorithmType[]>(defaultAlgorithms);\r\nexport default algorithms;\r\n","import { createReducer } from 'typesafe-actions';\r\nimport { CriterionType } from '../types';\r\nimport { defaultCriteria } from '../defaults/criteria';\r\n\r\nexport const criteria = createReducer<CriterionType[]>(defaultCriteria);\r\nexport default criteria;\r\n","import { createReducer } from 'typesafe-actions';\r\nimport * as actions from '../actions/criteria-selection';\r\nimport { toggle, set, selectMany, setAll } from './selection-utils';\r\n\r\nexport const criteriaSelection = createReducer({})\r\n  .handleAction(actions.toggleCri, toggle)\r\n  .handleAction(actions.setCri, set)\r\n  .handleAction(actions.selectManyCri, selectMany)\r\n  .handleAction(actions.setAllCri, setAll);\r\n\r\nexport default criteriaSelection;\r\n","import { createReducer, ActionType } from 'typesafe-actions';\r\nimport { defaultExamples } from '../defaults/examples';\r\nimport { SelectableFileType } from '../types';\r\nimport * as actions from '../actions/examples-selection';\r\nexport const examples = createReducer<\r\n  SelectableFileType[],\r\n  ActionType<typeof actions>\r\n>(defaultExamples).handleAction(\r\n  actions.toggleExampleSelection,\r\n  (state, action) =>\r\n    state.map(v => {\r\n      if (v.file === action.payload) v.selected = !v.selected;\r\n      return v;\r\n    })\r\n);\r\nexport default examples;\r\n","import { createReducer, ActionType } from 'typesafe-actions';\r\nimport _ from 'lodash';\r\nimport * as actions from '../actions/file';\r\nimport { FileType } from '../types';\r\n\r\nexport const fileList = createReducer<FileType[], ActionType<typeof actions>>(\r\n  []\r\n)\r\n  .handleAction(actions.addFile, (state, action) =>\r\n    _.find(state, ['id', action.payload.id])\r\n      ? state\r\n      : [...state, action.payload]\r\n  )\r\n  .handleAction(actions.addFiles, (state, action) => [\r\n    ...state,\r\n    ...action.payload\r\n  ])\r\n  .handleAction(actions.removeFile, (state, action) =>\r\n    _.filter(state, file => file.id !== action.payload)\r\n  )\r\n  .handleAction(actions.clearFiles, () => []);\r\nexport default fileList;\r\n","import { createReducer, ActionType } from 'typesafe-actions';\r\nimport * as actions from '../actions/is-upload';\r\n\r\nexport const isUpload = createReducer<boolean, ActionType<typeof actions>>(true)\r\n  .handleAction(actions.setAsUpload, () => true)\r\n  .handleAction(actions.setAsExample, () => false);\r\nexport default isUpload;\r\n","import { createReducer } from 'typesafe-actions';\r\nimport { ReferenceType } from '../types';\r\n\r\nexport const references = createReducer<ReferenceType[]>([]);\r\nexport default references;\r\n","import { createReducer, ActionType } from 'typesafe-actions';\r\nimport _ from 'lodash';\r\nimport * as actions from '../actions/examples-files';\r\n\r\nexport const exampleFilesList = createReducer<\r\n  { id: string; data: string }[],\r\n  ActionType<typeof actions>\r\n>([])\r\n  .handleAction(actions.addExampleFile, (state, action) => {\r\n    return _.find(state, ['id', action.payload.id])\r\n      ? state\r\n      : [...state, action.payload];\r\n  })\r\n  .handleAction(actions.removeExampleFile, (state, action) =>\r\n    _.filter(state, file => file.id !== action.payload)\r\n  );\r\nexport default exampleFilesList;\r\n","import { combineReducers, createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport {\r\n  defaultAlgorithms,\r\n  defaultAlgorithmSelection\r\n} from './defaults/algorithms';\r\nimport { defaultCriteria, defaultCriteriaSelection } from './defaults/criteria';\r\nimport { defaultExamples } from './defaults/examples';\r\nimport { defaultReferences } from './defaults/references';\r\n\r\nimport algorithmSelection from './reducers/algorithm-selection';\r\nimport algorithms from './reducers/algorithms';\r\nimport criteria from './reducers/criteria';\r\nimport criteriaSelection from './reducers/criteria-selection';\r\nimport examples from './reducers/examples';\r\nimport fileList from './reducers/files';\r\nimport isUpload from './reducers/is-upload';\r\nimport references from './reducers/references';\r\nimport exampleFilesList from './reducers/example-files';\r\nimport {\r\n  AlgorithmType,\r\n  CriterionType,\r\n  FileType,\r\n  ReferenceType,\r\n  SelectionType,\r\n  SelectableFileType\r\n} from './types';\r\n\r\nexport const reducers = combineReducers({\r\n  algorithms,\r\n  algorithmSelection,\r\n  criteria,\r\n  criteriaSelection,\r\n  files: fileList,\r\n  isUpload,\r\n  references,\r\n  examples,\r\n  exampleFiles: exampleFilesList\r\n  // examples: null\r\n});\r\n\r\nexport type StateType = {\r\n  algorithms: AlgorithmType[];\r\n  algorithmSelection: SelectionType;\r\n  criteria: CriterionType[];\r\n  criteriaSelection: SelectionType;\r\n  files: FileType[];\r\n  // examples: SelectionType;\r\n  isUpload: boolean;\r\n  references: ReferenceType[];\r\n  examples: SelectableFileType[];\r\n  exampleFiles: FileType[];\r\n};\r\n\r\nexport const store = createStore(\r\n  reducers,\r\n  {\r\n    algorithms: defaultAlgorithms,\r\n    algorithmSelection: defaultAlgorithmSelection,\r\n    criteria: defaultCriteria,\r\n    criteriaSelection: defaultCriteriaSelection,\r\n    files: [],\r\n    isUpload: true,\r\n    references: defaultReferences,\r\n    examples: defaultExamples,\r\n    exampleFiles: []\r\n    // examples: { test: true }\r\n  },\r\n  applyMiddleware(thunk)\r\n);\r\n\r\nexport default store;\r\n","import { ReferenceType } from '../types';\r\n\r\nexport const defaultReferences: ReferenceType[] = [\r\n  {\r\n    id: 'misue1995',\r\n    authors: 'K. Misue, P. Eades, W. Lai, and K. Sugiyama',\r\n    title: 'Layout adjustment and the mental map',\r\n    hasIn: false,\r\n    journal: 'Journal of Visual Languages & Computing',\r\n    additional: '6(2): 83–210, 1995',\r\n  },\r\n  {\r\n    id: 'lyons1998',\r\n    authors: 'K. A. Lyons, H. Meijer, and D. Rappaport',\r\n    title: 'Algorithms for cluster busting in anchored graph drawing',\r\n    hasIn: false,\r\n    journal: 'Journal of Graph Algorithms and Applications',\r\n    additional: '2(1): 1–24, 1998',\r\n  },\r\n  {\r\n    id: 'hayashi1998',\r\n    authors: 'K. Hayashi, M. Inoue, T. Masuzawa, and H. Fujiwara',\r\n    title:\r\n      'A layout adjustment problem for disjoint rectangles preserving orthogonal order',\r\n    hasIn: true,\r\n    journal: 'Proceedings of the International Symposium on Graph Drawing (GD)',\r\n    additional: 'pages 183–197. Springer, 1998',\r\n  },\r\n  {\r\n    id: 'huang2003',\r\n    authors: 'X. Huang and W. Lai',\r\n    title:\r\n      'Force-transfer: a new approach to removing overlapping nodes in graph layout',\r\n    hasIn: true,\r\n    journal:\r\n      'Proceedings of the Australasian computer science conference - Volume 16',\r\n    additional: 'pages 349–358. Australian Computer Society, Inc., 2003',\r\n  },\r\n  {\r\n    id: 'marriot2003',\r\n    authors: 'K. Marriott, P. Stuckey, V. Tam, and W. He',\r\n    title:\r\n      'Removing node overlapping in graph layout using constrained optimization',\r\n    hasIn: false,\r\n    journal: 'Constraints',\r\n    additional: '8(2): 43–171, 2003',\r\n  },\r\n  {\r\n    id: 'li2005',\r\n    authors: 'W. Li, P. Eades, and N. Nikolov',\r\n    title: 'Using spring algorithms to remove node overlapping',\r\n    hasIn: true,\r\n    journal:\r\n      'Proceedings of the Asia-Pacific Symposium on Information Visualisation (APVis’05)',\r\n    additional: 'pages 131–140. Australian Computer Society, Inc., 2005',\r\n  },\r\n  {\r\n    id: 'dwyer2005',\r\n    authors: 'T. Dwyer, K. Marriott, and P. J. Stuckey',\r\n    title: 'Fast node overlap removal',\r\n    hasIn: true,\r\n    journal: 'Proceedings of the International Symposium on Graph Drawing (GD)',\r\n    additional: 'pages 153–164. Springer, 2005',\r\n  },\r\n  {\r\n    id: 'huang2007',\r\n    authors: 'X. Huang, W. Lai, A. Sajeev, and J. Gao',\r\n    title:\r\n      'A new algorithm for removing node overlapping in graph visualization',\r\n    hasIn: false,\r\n    journal: 'Information Sciences',\r\n    additional: '177(14): 2821–2844, 2007',\r\n  },\r\n  {\r\n    id: 'gansner2010',\r\n    authors: 'E. Gansner and Y. Hu',\r\n    title: 'Efficient, proximity-preserving node overlap removal',\r\n    hasIn: false,\r\n    journal: 'Journal of Graph Algorithms and Applications',\r\n    additional: '14(1): 53–74, 2010',\r\n  },\r\n  {\r\n    id: 'strobelt2012',\r\n    authors: 'H. Strobelt, M. Spicker, A. Stoffel, D. Keim, and O. Deussen',\r\n    title:\r\n      'Rolled-out wordles: A heuristic method for overlap removal of 2d data representatives',\r\n    hasIn: false,\r\n    journal: 'Computer Graphics Forum',\r\n    additional: '31(3): 1135–1144, 2012',\r\n  },\r\n  {\r\n    id: 'nachmanson2016',\r\n    authors: 'L. Nachmanson, A. Nocaj, S. Bereg, L. Zhang, and A. Holroyd',\r\n    title: 'Node overlap removal by growing a tree',\r\n    hasIn: true,\r\n    journal:\r\n      'Proceedings of the International Symposium on Graph Drawing and Network Visualization (GD)',\r\n    additional: 'pages 33–43. Springer, 2016',\r\n  },\r\n  {\r\n    id: 'meulemans2019',\r\n    authors: 'W. Meulemans',\r\n    title: 'Efficient optimal overlap removal',\r\n    hasIn: false,\r\n    journal: 'Computer Graphics Forum',\r\n    additional: '38(3): 713–723, 2019',\r\n  },\r\n  {\r\n    id: 'chen2019',\r\n    authors: 'F. Chen, L. Piccinini, P. Poncelet, and A. Sallaberry',\r\n    title: 'Node overlap removal algorithms: A comparative study',\r\n    hasIn: true,\r\n    journal:\r\n      'Proceedings of the International Symposium on Graph Drawing and Network Visualization (GD)',\r\n    additional: 'pages 179–192, Springer, 2019',\r\n  },\r\n  {\r\n    id: 'chen2020',\r\n    authors: 'F. Chen, L. Piccinini, P. Poncelet, and A. Sallaberry',\r\n    title: 'Node Overlap Removal Algorithms: An Extended Comparative Study',\r\n    hasIn: true,\r\n    journal: 'Journal of Graph Algorithms and Applications',\r\n    additional: 'Vol. 24, no. 4, pp. 683-706, 2020. Regular paper',\r\n  },\r\n];\r\n","import 'react-app-polyfill/ie11';\r\nimport 'react-app-polyfill/stable';\r\n\r\nimport 'tachyons/css/tachyons.min.css';\r\nimport 'nes.css/css/nes.min.css';\r\nimport './index.css';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport Page from './pages';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Page />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}